!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),qici.loadIndex=0,qici.allAssetLoaded=!1,qici.hasAssetLoaded=!1,qici.init=function(){function a(){var c=qici.scripts.length+qici.loadingAssetCount||0;if(qici.loadIndex===qici.scripts.length)return void qici.loadGame();if(!(qici.loadIndex>qici.scripts.length&&qici.loadIndex<c)){if(qici.loadIndex>=c)return qici.allAssetLoaded=!0,t=(t+4)%20,t=(t-t%2)/2,y.style.opacity="0",z.style.opacity="1",z.setAttribute("transform","translate(92, 92) rotate ("+i+") translate(-92, -92) translate("+j+"  "+k+") "),void(s="brighting");var d=qici.scripts[qici.loadIndex],e=document.createElement("script");e.onerror=function(){console.log("Failed to load:",d),qici.loadIndex++,b(),a()},e.onload=function(){qici.loadIndex++,b(),a()},e.setAttribute("type","text/javascript"),"string"==typeof d?e.setAttribute("src",d):(e.setAttribute("src",d[0]),e.setAttribute("plugin_id",d[1])),document.getElementsByTagName("head")[0].appendChild(e)}}function b(){for(var a=qici.scripts.length+qici.loadingAssetCount||0,b=qici.loadIndex/a*10,c=0;10>c;c++)b>c?(document.getElementById("bb"+c).style.opacity="1",document.getElementById("db"+c).style.opacity="0"):(document.getElementById("bb"+c).style.opacity="0",document.getElementById("db"+c).style.opacity="1")}function c(){t=(t+1)%20;for(var a=t%2,b=(t-a)/2,c=0;10>c;c++){var d;0===a?(y.style.opacity="1",z.style.opacity="0",d=y):(y.style.opacity="0",z.style.opacity="1",d=z);var e=A[b].x-70,f=A[b].y-70;3>=b?(i=0,j=e,k=f):5>=b?(i=-90,j=-f,k=e):8>=b?(i=-180,j=-e,k=-f):(i=90,j=f,k=-e),d.setAttribute("transform","translate(92, 92) rotate ("+i+") translate(-92, -92) translate("+j+"  "+k+") "),c===b||c===(b+1)%10||c===(b+2)%10?(document.getElementById("bt"+c).style.opacity="1",document.getElementById("dt"+c).style.opacity="0"):(document.getElementById("bt"+c).style.opacity="0",document.getElementById("dt"+c).style.opacity="1")}}function d(){t=(t+1)%10,"1"===document.getElementById("bt"+t).style.opacity&&(s="blinking"),document.getElementById("bt"+t).style.opacity="1",document.getElementById("dt"+t).style.opacity="0"}function e(){o--,0===o?(document.getElementById("dotGroup").style.opacity="1",s="fadingIn",v=(new Date).getTime()):document.getElementById("dotGroup").style.opacity=o%2?"1":"0"}function f(){var a=(new Date).getTime(),b=a-v,c=b/q;if(c>1.5){s="fadingOut",w=(new Date).getTime(),document.getElementById("gameDiv").style.display="block";var d=window[qici.config.gameInstance];if(delete d.state.loadingAnimation,d.state.delayCreateCallback&&d.state.delayCreateCallback(),!d.phaser.world)return;d.adjustGameSize?d.adjustGameSize(!0):d.updateScale(!0)}else{c>1&&(c=1),document.getElementById("fadeOutGroup").style.opacity=1-c,document.getElementById("qiciText").style.opacity=c;var e=i+(45-i)*c,f=j+(300-j)*c,g=k+(0-k)*c;z.setAttribute("transform","translate(92, 92) rotate ("+e+") translate(-92, -92) translate("+f+"  "+g+") ")}}function g(){var a=(new Date).getTime(),b=a-w,c=b/r;c>1?(s="done",x.parentNode.removeChild(x)):x.style.opacity=1-c}function h(){if("done"!==s){requestAnimationFrame(h);var i=(new Date).getTime();if(u){var j=i-u;if("loading"===s&&m>j)return;if("brighting"===s&&n>j)return;if("blinking"===s&&p>j)return}u=i;var k=document.documentElement.clientWidth;window.innerWidth&&window.innerWidth<k&&(k=window.innerWidth);var l=document.documentElement.clientHeight;window.innerHeight&&window.innerHeight<l&&(l=window.innerHeight),x.setAttribute("width",k+"px"),x.setAttribute("height",l+"px"),"loading"===s?c():"brighting"===s?d():"blinking"===s?e():"fadingIn"===s?f():"fadingOut"===s&&g(),qici.hasAssetLoaded&&(qici.hasAssetLoaded=!1,a(),b())}}var i,j,k,l=qici.config.loading,m=l.loadingInterval,n=l.brightingInterval,o=l.blinkingCount,p=l.blinkingInterval,q=l.fadingInInterval,r=l.fadingOutInterval,s="loading",t=-1,u=null,v=null,w=null,x=document.getElementById("gameSVG"),y=document.getElementById("expand"),z=document.getElementById("collapse");document.getElementById("loadingText").innerHTML=l.loadingText||"",document.getElementById("gameDiv").style.display="none";for(var A=[{x:133,y:290,angle:0},{x:233,y:290,angle:0},{x:333,y:290,angle:0},{x:433,y:290,angle:0},{x:433,y:190,angle:0},{x:433,y:90,angle:0},{x:333,y:90,angle:0},{x:233,y:90,angle:0},{x:133,y:90,angle:0},{x:133,y:190,angle:0}],B=0;10>B;B++){var C="translate("+A[B].x+"  "+A[B].y+")";document.getElementById("bt"+B).setAttribute("transform",C),document.getElementById("dt"+B).setAttribute("transform",C)}x.style.opacity="1",h(),a(),b()},qici.loadAssetsNotify=function(a){if(!qici.allAssetLoaded){qici.loadIndex++,qici.hasAssetLoaded=!0;var b=qici.scripts.length+qici.loadingAssetCount||0,c="loadAssetsNotify "+qici.loadIndex+"/"+b+" "+a,d=window[qici.config.gameInstance];d&&d.log.trace(c)}},qici.loadGame=function(){var a=window[qici.config.gameInstance]=new qc.Game({width:"100%",height:"100%",parent:"gameDiv",state:qici.splashState,editor:qici.config.editor===!0,backgroundColor:new qc.Color(qici.config.backgroundColor),runInBackground:qici.config.runInBackground,antialias:qici.config.antialias,resolution:qici.config.resolution,transparent:qici.config.transparent,debug:qici.config.developerMode===!0,remoteLogUrl:qici.config.remoteLogUrl,dirtyRectangles:qici.config.dirtyRectangles,dirtyRectanglesShow:qici.config.dirtyRectanglesShow,renderer:function(){return"WebGL"===qici.config.renderer?Phaser.WEBGL:"Canvas"===qici.config.renderer?Phaser.CANVAS:Phaser.AUTO}()});a.loadingProcessCallback=qici.loadAssetsNotify,a.bundleIdentifier=qici.config.bundleIdentifier,a.log.important("**** [QICI Engine]Starting game: {0}",qici.config.gameName)},qici.splashState={init:function(){window[qici.config.gameInstance].fullScreen()},preload:function(){var a=window[qici.config.gameInstance];qici.config.loadingPrefab&&a.assets.load("__loading_prefab__",qici.config.loadingPrefab);var b=a.add.text();b.text="Initializing, please wait ...",b.setAnchor(new qc.Point(0,0),new qc.Point(1,1)),b.left=0,b.right=0,b.top=0,b.bottom=0,b.alignH=qc.UIText.CENTER,b.alignV=qc.UIText.MIDDLE,b.fontSize=24,b.color=new qc.Color(16777215),b.strokeThickness=2,b.stroke=new qc.Color(0),a._initText_=b,a.updateScale(!0)},create:function(){var a=window[qici.config.gameInstance];a.state.entry=qici.config.entryScene,a.state.list=qici.config.scene;var b;if(qici.config.loadingPrefab){var c=a.assets.find("__loading_prefab__");c&&(b=a.add.clone(c),b.ignoreDestroy=!0,b.visible=!1)}a._initText_&&(b&&a._initText_.destroyImmediately(),delete a._initText_),a.state.loadingAnimation=!0,a.timer.add(1,function(){a.state.load(a.state.entry,!0)})}},document.write('<svg id="gameSVG" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"x="0px" y="0px" width="610px" height="610px" viewBox="-200 -200 1010 1010"style="opacity:0;background:black;position:absolute;top:0;left:0;z-index:10000"><defs>    <filter id="shadow" filterUnits="userSpaceOnUse" x="0" y="0" width="100%" height="100%">    <feGaussianBlur result="blurOut" in="SourceGraphic" stdDeviation="10"/><feBlend in="SourceGraphic" in2="blurOut" mode = "normal"/>    </filter>    <path id="brightdot" filter="url(#shadow)" fill-rule="evenodd" clip-rule="evenodd" fill="#F7DA80" d="M16.26,11.26h10c2.761,0,5,2.238,5,5v10c0,2.761-2.239,5-5,5h-10c-2.762,0-5-2.239-5-5v-10C11.26,13.498,13.498,11.26,16.26,11.26z"/><path id="darkdot" filter="url(#shadow)" fill-rule="evenodd" clip-rule="evenodd" fill="#7F8080" d="M16.26,11.26h10c2.761,0,5,2.238,5,5v10c0,2.761-2.239,5-5,5h-10c-2.762,0-5-2.239-5-5v-10C11.26,13.498,13.498,11.26,16.26,11.26z"/></defs><g id="fadeOutGroup">    <path fill-rule="evenodd" clip-rule="evenodd" fill="none" stroke="#2A4D9F" stroke-miterlimit="10" d="M9.724,4.724h590c2.761,0,5,2.239,5,5v590c0,2.761-2.239,5-5,5h-590c-2.761,0-5-2.239-5-5v-590C4.724,6.963,6.963,4.724,9.724,4.724z"/><path transform="translate(75 428)" fill-rule="evenodd" clip-rule="evenodd" fill="none" stroke="#2A4D9F" stroke-miterlimit="10" d="M6.771,1.929h440c2.761,0,5,2.239,5,5v40c0,2.761-2.239,5-5,5h-440c-2.762,0-5-2.239-5-5v-40C1.771,4.168,4.01,1.929,6.771,1.929z"/><g id="dotGroup">    <use id="dt0" xlink:href="#darkdot" />    <use id="dt1" xlink:href="#darkdot" />    <use id="dt2" xlink:href="#darkdot" />    <use id="dt3" xlink:href="#darkdot" />    <use id="dt4" xlink:href="#darkdot" />    <use id="dt5" xlink:href="#darkdot" />    <use id="dt6" xlink:href="#darkdot" />    <use id="dt7" xlink:href="#darkdot" />    <use id="dt8" xlink:href="#darkdot" />    <use id="dt9" xlink:href="#darkdot" />    <use id="bt0" xlink:href="#brightdot" />    <use id="bt1" xlink:href="#brightdot" />    <use id="bt2" xlink:href="#brightdot" />    <use id="bt3" xlink:href="#brightdot" />    <use id="bt4" xlink:href="#brightdot" />    <use id="bt5" xlink:href="#brightdot" />    <use id="bt6" xlink:href="#brightdot" />    <use id="bt7" xlink:href="#brightdot" />    <use id="bt8" xlink:href="#brightdot" />    <use id="bt9" xlink:href="#brightdot" />    <use id="db0" xlink:href="#darkdot" transform="translate(88 432)" />    <use id="db1" xlink:href="#darkdot" transform="translate(131 432)" />    <use id="db2" xlink:href="#darkdot" transform="translate(174 432)" />    <use id="db3" xlink:href="#darkdot" transform="translate(217 432)" />    <use id="db4" xlink:href="#darkdot" transform="translate(260 432)" />    <use id="db5" xlink:href="#darkdot" transform="translate(303 432)" />    <use id="db6" xlink:href="#darkdot" transform="translate(346 432)" />    <use id="db7" xlink:href="#darkdot" transform="translate(389 432)" />    <use id="db8" xlink:href="#darkdot" transform="translate(432 432)" />    <use id="db9" xlink:href="#darkdot" transform="translate(475 432)" />    <use id="bb0" xlink:href="#brightdot" transform="translate(88 432)" />    <use id="bb1" xlink:href="#brightdot" transform="translate(131 432)" />    <use id="bb2" xlink:href="#brightdot" transform="translate(174 432)" />    <use id="bb3" xlink:href="#brightdot" transform="translate(217 432)" />    <use id="bb4" xlink:href="#brightdot" transform="translate(260 432)" />    <use id="bb5" xlink:href="#brightdot" transform="translate(303 432)" />    <use id="bb6" xlink:href="#brightdot" transform="translate(346 432)" />    <use id="bb7" xlink:href="#brightdot" transform="translate(389 432)" />    <use id="bb8" xlink:href="#brightdot" transform="translate(432 432)" />    <use id="bb9" xlink:href="#brightdot" transform="translate(475 432)" /><text id="loadingText" x="305" y="550" font-size="32px" fill="#F7DA80" style="text-anchor:middle;"></text>    </g>    </g>    <g id="qiciText" style="opacity:0;" transform="translate(105 415)" filter="url(#shadow)">    <path fill="#F7DA80" d="M20.225,65.547V13.094H64.1v52.453H51.584l1.969,6.398h-11.25l-2.109-6.398H20.225L20.225,65.547L20.225,65.547z M53.413,55.563V23.078h-22.5v32.484H53.413L53.413,55.563L53.413,55.563z"/><path fill="#F7DA80" d="M158.291,65.547h-10.828V13.094h10.828V65.547L158.291,65.547L158.291,65.547z"/>    <path fill="#F7DA80" d="M282.435,65.547h-40.922V13.094h40.922v9.984h-30.094v32.484h30.094V65.547L282.435,65.547L282.435,65.547z"/>    <path fill="#F7DA80" d="M376.625,65.547h-10.828V13.094h10.828V65.547L376.625,65.547L376.625,65.547z"/>    </g>    <path id="collapse" style="opacity:0;" filter="url(#shadow)" fill-rule="evenodd" clip-rule="evenodd" fill="#F7DA80" d="M132.148,82.202L97.465,47.408c-1.298-1.302-3.406-1.306-4.708-0.008L50.325,89.697c-1.302,1.298-1.305,3.405-0.007,4.708l42.304,42.439c1.298,1.302,3.406,1.306,4.708,0.008l34.789-34.678l23.538,0.04l-53.647,53.477c-3.906,3.893-10.229,3.882-14.123-0.024L31.48,99.081c-3.894-3.906-3.884-10.229,0.021-14.123l56.577-56.396c3.906-3.894,10.229-3.883,14.123,0.023l53.485,53.656L132.148,82.202z"/><path id="expand" style="opacity:0;" filter="url(#shadow)" fill-rule="evenodd" clip-rule="evenodd" fill="#F7DA80" d="M129.992,55.139L87.562,30.687c-1.588-0.915-3.623-0.374-4.546,1.21L50.434,89.732c-1.301,1.298-1.304,3.408-0.007,4.71l32.437,57.744c0.916,1.597,2.951,2.146,4.545,1.226l42.604-24.58l22.728,6.131L87.04,172.868c-4.784,2.759-10.889,1.112-13.637-3.679L33.601,99.787c-2.748-4.791-2.808-11.222-0.04-15.972l40.091-68.805c2.768-4.75,8.873-6.375,13.637-3.629l65.432,37.708L129.992,55.139z"/></svg>');