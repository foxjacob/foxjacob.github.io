"use strict";function bc(a){var b=new ac(3);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]),b}function cc(a){var b=new ac(16);return a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]),b}function hc(a,b){b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]}function ic(a,b){var c=b[0],d=b[1];b=b[2],a[0]*=c,a[1]*=c,a[2]*=c,a[3]*=c,a[4]*=d,a[5]*=d,a[6]*=d,a[7]*=d,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b}function jc(a,b,c,d){d||(d=cc());var e,f,g,h,i,j,k,l,m=a[0],n=a[1];a=a[2],f=c[0],g=c[1],e=c[2],c=b[1],j=b[2],m===b[0]&&n===c&&a===j?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=m-b[0],j=n-b[1],k=a-b[2],l=1/Math.sqrt(c*c+j*j+k*k),c*=l,j*=l,k*=l,b=g*k-e*j,e=e*c-f*k,f=f*j-g*c,(l=Math.sqrt(b*b+e*e+f*f))?(l=1/l,b*=l,e*=l,f*=l):f=e=b=0,g=j*f-k*e,h=k*b-c*f,i=c*e-j*b,(l=Math.sqrt(g*g+h*h+i*i))?(l=1/l,g*=l,h*=l,i*=l):i=h=g=0,d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=h,d[6]=j,d[7]=0,d[8]=f,d[9]=i,d[10]=k,d[11]=0,d[12]=-(b*m+e*n+f*a),d[13]=-(g*m+h*n+i*a),d[14]=-(c*m+j*n+k*a),d[15]=1)}function K(a){this.i=a,this.me=[]}function oc(a){this.i=a}function nc(a){this.i=a}function pc(a){this.i=a}function qc(a){this.i=a}function mc(a){this.i=a}function rc(a){this.i=a}function sc(a){this.i=a}function tc(a){this.i=a}function uc(a){this.i=a}function vc(a){this.i=a}function wc(a){this.i=a}function R(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}function Dc(a,b){return a.x*b.x+a.y*b.y}function Ec(a,b){return a.x*b.y-a.y*b.x}function Fc(a){return T(1*a.y,-1*a.x)}function Gc(a,b){return T(a.k.x*b.x+a.n.x*b.y,a.k.y*b.x+a.n.y*b.y)}function Hc(a,b){return T(Dc(b,a.k),Dc(b,a.n))}function Ic(a,b){var c=Gc(a.u,b);return c.x+=a.position.x,c.y+=a.position.y,c}function V(a,b){return T(a.x-b.x,a.y-b.y)}function Jc(a,b,c){return b>a?b:a>c?c:a}function Kc(){this.k=T(0,0),this.n=T(0,0),this.eo()}function Lc(a){var b=new Kc;return b.Set(a),b}function Mc(a,b){var c=a.k.x*a.n.y-a.n.x*a.k.y;0!==c&&(c=1/c),b.k.x=c*a.n.y,b.n.x=-c*a.n.x,b.k.y=-c*a.k.y,b.n.y=c*a.k.x}function Nc(a,b,c){this.k=new Oc(0,0,0),this.n=new Oc(0,0,0),this.za=new Oc(0,0,0),a&&this.k.I(a),b&&this.n.I(b),c&&this.za.I(c)}function Pc(a,b,c,d){var h,e=a.k.x,f=a.n.x,g=a.k.y;return a=a.n.y,h=e*a-f*g,0!=h&&(h=1/h),b.x=h*(a*c-f*d),b.y=h*(e*d-g*c),b}function Qc(a,b,c,d,e){var n,f=a.k.x,g=a.k.y,h=a.k.z,i=a.n.x,j=a.n.y,k=a.n.z,l=a.za.x,m=a.za.y;return a=a.za.z,n=f*(j*a-k*m)+g*(k*l-i*a)+h*(i*m-j*l),0!=n&&(n=1/n),b.x=n*(c*(j*a-k*m)+d*(k*l-i*a)+e*(i*m-j*l)),b.y=n*(f*(d*a-e*m)+g*(e*l-c*a)+h*(c*m-d*l)),b.z=n*(f*(j*e-k*d)+g*(k*c-i*e)+h*(i*d-j*c)),b}function Rc(){this.N=T(0,0),this.fd=T(0,0),this.B=T(0,0)}function Sc(a,b){this.position=T(0,0),this.u=new Kc,a&&this.position.I(a),b&&this.u.mk(b)}function Tc(a,b){this.x=a,this.y=b}function T(a,b){if(0<Uc.length){var c=Uc.pop();return c.Set(a,b),c}return new Tc(a,b)}function Vc(a){Uc.push(a)}function Wc(a){return Math.sqrt(Xc(a))}function Xc(a){return a.x*a.x+a.y*a.y}function Yc(a){var c,b=Wc(a);return b<Number.MIN_VALUE?0:(c=1/b,a.x*=c,a.y*=c,b)}function Oc(a,b,c){this.x=a,this.y=b,this.z=c}function Zc(){this.bb=.005}function $c(a){this.bb=.005,this.bb=a,this.Xk=a*a,this.ub=T(0,0)}function ad(a,b){this.bb=.005,this.wa=a,this.Oa=b,this.Nj=T(this.Oa.x-this.wa.x,this.Oa.y-this.wa.y),this.Ct=Yc(this.Nj),this.Ca=T(this.Nj.y,-this.Nj.x),T(-.04*(this.Ca.x-this.Nj.x)+this.wa.x,-.04*(this.Ca.y-this.Nj.y)+this.wa.y),T(-.04*(this.Ca.x+this.Nj.x)+this.Oa.x,-.04*(this.Ca.y+this.Nj.y)+this.Oa.y),T(-this.Ca.x,-this.Ca.y)}function bd(){this.Kg=0,this.gh=T(0,0),this.ik=0}function cd(){this.bb=.005,this.zf=T(0,0),this.O=[],this.Fb=[]}function ed(a,b){var d,e,f,g,h,i,j,k,c=b.length;for(a.hb=c,dd(a,c),c=c=0;c<a.hb;c++)a.O[c].I(b[c]);for(c=0;c<a.hb;++c)d=V(a.O[c+1<a.hb?c+1:0],a.O[c]),a.Fb[c].I(Fc(d)),Yc(a.Fb[c]);for(c=a.O,d=a.hb,e=T(0,0),f=0,g=1/3,h=0;d>h;++h)i=c[h],j=d>h+1?c[h+1]:c[0],k=.5*((i.x-0)*(j.y-0)-(i.y-0)*(j.x-0)),f+=k,e.x+=k*g*(0+i.x+j.x),e.y+=k*g*(0+i.y+j.y);e.x*=1/f,e.y*=1/f,a.zf=e}function fd(a,b,c){a.hb=4,dd(a,4),a.O[0].Set(-b,-c),a.O[1].Set(b,-c),a.O[2].Set(b,c),a.O[3].Set(-b,c),a.Fb[0].Set(0,-1),a.Fb[1].Set(1,0),a.Fb[2].Set(0,1),a.Fb[3].Set(-1,0),a.zf.ra()}function dd(a,b){a.O=[],a.Fb=[];for(var c=a.O.length;b>c;c++)a.O[c]=T(0,0),a.Fb[c]=T(0,0)}function gd(){this.Nl=this.Ml=this.Ol=this.oc=0}function hd(a,b){a.oc=b,a.Ol=255&a.oc,a.Ml=255&(65280&a.oc)>>8,a.Nl=255&(16711680&a.oc)>>16,a.mv=255&(4278190080&a.oc)>>24}function id(){this.ef=T(0,0),this.id=new gd}function jd(){this.Ra=T(0,0),this.Ua=T(0,0)}function ld(){if(0<kd.length){var a=kd.pop();return a.ra(),a}return new jd}function md(a,b){var c;return c=(c=(c=(c=a.Ra.x<=b.Ra.x)&&a.Ra.y<=b.Ra.y)&&b.Ua.x<=a.Ua.x)&&b.Ua.y<=a.Ua.y}function nd(a,b,c){a.Ra.x=Math.min(b.Ra.x,c.Ra.x),a.Ra.y=Math.min(b.Ra.y,c.Ra.y),a.Ua.x=Math.max(b.Ua.x,c.Ua.x),a.Ua.y=Math.max(b.Ua.y,c.Ua.y)}function od(a,b,c,d){var e=0,f=b[0].ef,g=b[1].ef,h=c.x*f.x+c.y*f.y-d;return c=c.x*g.x+c.y*g.y-d,0>=h&&a[e++].Set(b[0]),0>=c&&a[e++].Set(b[1]),0>h*c&&(c=h/(h-c),d=a[e].ef,d.x=f.x+c*(g.x-f.x),d.y=f.y+c*(g.y-f.y),a[e].id=h>0?b[0].id:b[1].id,e++),e}function pd(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(f=b.u.k.x*a.Fb[c].x+b.u.n.x*a.Fb[c].y,g=b.u.k.y*a.Fb[c].x+b.u.n.y*a.Fb[c].y,h=e.u.k.x*f+e.u.k.y*g,i=e.u.n.x*f+e.u.n.y*g,j=0,k=Number.MAX_VALUE,l=0;l<d.hb;l++)m=d.O[l].x*h+d.O[l].y*i,k>m&&(k=m,j=l);return(e.position.x+(e.u.k.x*d.O[j].x+e.u.n.x*d.O[j].y)-(b.position.x+(b.u.k.x*a.O[c].x+b.u.n.x*a.O[c].y)))*f+(e.position.y+(e.u.k.y*d.O[j].x+e.u.n.y*d.O[j].y)-(b.position.y+(b.u.k.y*a.O[c].x+b.u.n.y*a.O[c].y)))*g}function qd(a,b,c,d){var e,f,g,h,i,j,k,l;for(e=d.position.x+(d.u.k.x*c.zf.x+d.u.n.x*c.zf.y),f=d.position.y+(d.u.k.y*c.zf.x+d.u.n.y*c.zf.y),e-=b.position.x+(b.u.k.x*a.zf.x+b.u.n.x*a.zf.y),f-=b.position.y+(b.u.k.y*a.zf.x+b.u.n.y*a.zf.y),g=e*b.u.k.x+f*b.u.k.y,f=e*b.u.n.x+f*b.u.n.y,e=0,h=-Number.MAX_VALUE,i=0;i<a.hb;++i)j=a.Fb[i].x*g+a.Fb[i].y*f,j>h&&(h=j,e=i);if(g=pd(a,b,e,c,d),f=e-1,0>f&&(f=a.hb-1),h=pd(a,b,f,c,d),i=e+1,i>=a.hb&&(i=0),j=pd(a,b,i,c,d),k=0,l=0,h>g&&h>j)for(k=f,l=h;e=k-1,0>e&&(e=a.hb-1),g=pd(a,b,e,c,d),g>l;)k=e,l=g;else if(j>g)for(k=i,l=j;e=k+1,e>=a.hb&&(e=0),g=pd(a,b,e,c,d),g>l;)k=e,l=g;else k=e,l=g;return{wv:k,zq:l}}function rd(a,b,c){var i,j,k,l,m,n,o,p,q,r,d=new sd,e=c.Oh,f=c.Rq,g=c.Ph,h=c.Sq;for(d.ua=b.count,k=d.O,l=0;l<d.ua;l++)m=k[l],m.pc=b.pc[l],m.qc=b.qc[l],i=td(e,m.pc),j=td(g,m.qc),m.Ad=Ic(f,i),m.Nf=Ic(h,j),m.Bc=V(m.Nf,m.Ad),m.K=0;for(1<d.ua&&(i=b.jD,j=ud(d),.5*i>j||j>2*i||j<Number.MIN_VALUE)&&(d.ua=0),0==d.ua&&(m=k[0],m.pc=0,m.qc=0,i=td(e,0),j=td(g,0),m.Ad=Ic(f,i),m.Nf=Ic(h,j),m.Bc=V(m.Nf,m.Ad),d.ua=1),e=0;20>e;){for(f=[],g=0;g<d.ua;g++)f[g]={},f[g].pc=d.O[g].pc,f[g].qc=d.O[g].qc;if(2==d.ua?(g=d,h=g.wa.Bc,k=g.Oa.Bc,i=V(k,h),h=-(h.x*i.x+h.y*i.y),0>=h?(g.wa.K=1,g.ua=1):(k=k.x*i.x+k.y*i.y,0>=k?(g.Oa.K=1,g.ua=1,g.wa.Set(g.Oa)):(i=1/(k+h),g.wa.K=k*i,g.Oa.K=h*i,g.ua=2))):3==d.ua&&(g=d,n=g.wa.Bc,o=g.Oa.Bc,p=g.Ce.Bc,q=V(o,n),h=Dc(o,q),k=-Dc(n,q),r=V(p,n),i=Dc(p,r),j=-Dc(n,r),m=V(p,o),l=Dc(p,m),m=-Dc(o,m),r=Ec(q,r),q=r*Ec(o,p),p=r*Ec(p,n),n=r*Ec(n,o),0>=k&&0>=j?(g.wa.K=1,g.ua=1):h>0&&k>0&&0>=n?(i=1/(h+k),g.wa.K=h*i,g.Oa.K=k*i,g.ua=2):i>0&&j>0&&0>=p?(h=1/(i+j),g.wa.K=i*h,g.Ce.K=j*h,g.ua=2,g.Oa.Set(g.Ce)):0>=h&&0>=m?(g.Oa.K=1,g.ua=1,g.wa.Set(g.Oa)):0>=i&&0>=l?(g.Ce.K=1,g.ua=1,g.wa.Set(g.Ce)):l>0&&m>0&&0>=q?(h=1/(l+m),g.Oa.K=l*h,g.Ce.K=m*h,g.ua=2,g.wa.Set(g.Ce)):(h=1/(q+p+n),g.wa.K=q*h,g.Oa.K=p*h,g.Ce.K=n*h,g.ua=3)),3==d.ua)break;if(g=d,1==g.ua?g=g.wa.Bc.di():2==g.ua?(h=V(g.Oa.Bc,g.wa.Bc),g=0<Ec(h,g.wa.Bc.di())?T(-1*h.y,1*h.x):Fc(h)):g=T(0,0),Xc(g)<Cc)break;for(h=g.di(),d.O[d.ua].pc=c.Oh.ao(Hc(c.Rq.u,h)),d.O[d.ua].Ad=Ic(c.Rq,td(c.Oh,d.O[d.ua].pc)),d.O[d.ua].qc=c.Ph.ao(Hc(c.Sq.u,g)),d.O[d.ua].Nf=Ic(c.Sq,td(c.Ph,d.O[d.ua].qc)),d.O[d.ua].Bc=V(d.O[d.ua].Nf,d.O[d.ua].Ad),Vc(g),Vc(h),e++,h=!1,g=0;g<f.length;g++)if(d.O[d.ua].pc==f[g].pc&&d.O[d.ua].qc==f[g].qc){h=!0;break}if(h)break;d.ua++}for(e=a.fg,f=a.gg,1==d.ua?(e.I(d.wa.Ad),f.I(d.wa.Nf)):2==d.ua?(e.x=d.wa.K*d.wa.Ad.x+d.Oa.K*d.Oa.Ad.x,e.y=d.wa.K*d.wa.Ad.y+d.Oa.K*d.Oa.Ad.y,f.x=d.wa.K*d.wa.Nf.x+d.Oa.K*d.Oa.Nf.x,f.y=d.wa.K*d.wa.Nf.y+d.Oa.K*d.Oa.Nf.y):3==d.ua&&(f.x=e.x=d.wa.K*d.wa.Ad.x+d.Oa.K*d.Oa.Ad.x+d.Ce.K*d.Ce.Ad.x,f.y=e.y=d.wa.K*d.wa.Ad.y+d.Oa.K*d.Oa.Ad.y+d.Ce.K*d.Ce.Ad.y),a.nh=Wc(V(a.fg,a.gg)),b.jD=ud(d),b.count=d.ua,e=d.O,f=0;f<d.ua;f++)b.pc[f]=e[f].pc,b.qc[f]=e[f].qc;c.Ny&&(b=c.Oh.bb,c=c.Ph.bb,a.nh>b+c&&a.nh>Number.MIN_VALUE?(a.nh-=b+c,d=V(a.gg,a.fg),Yc(d),a.fg.x+=b*d.x,a.fg.y+=b*d.y,a.gg.x-=c*d.x,a.gg.y-=c*d.y,Vc(d)):(c=T(0,0),c.x=.5*(a.fg.x+a.gg.x),c.y=.5*(a.fg.y+a.gg.y),a.fg.x=a.gg.x=c.x,a.fg.y=a.gg.y=c.y,a.nh=0,Vc(c)))}function vd(){}function wd(){this.fg=T(0,0),this.gg=T(0,0),this.nh=0}function xd(){}function td(a,b){return void 0===b&&(b=0),a.O[b]}function zd(){this.Jg=null}function Bd(a,b){var c,d,e,f,g;if(null===a.Jg)a.Jg=b,a.Jg.parent=null;else{for(c=b.Ya,c=T((c.Ra.x+c.Ua.x)/2,(c.Ra.y+c.Ua.y)/2),d=a.Jg;null!==d.ae;)e=d.ae,d=d.wg,f=Math.abs((e.Ya.Ra.x+e.Ya.Ua.x)/2-c.x)+Math.abs((e.Ya.Ra.y+e.Ya.Ua.y)/2-c.y),g=Math.abs((d.Ya.Ra.x+d.Ya.Ua.x)/2-c.x)+Math.abs((d.Ya.Ra.y+d.Ya.Ua.y)/2-c.y),d=g>f?e:d;if(Vc(c),c=d,e=c.parent,d=Ad(),d.parent=e,nd(d.Ya,b.Ya,c.Ya),e)for(c.parent.ae==c?e.ae=d:e.wg=d,d.ae=c,d.wg=b,c.parent=d,b.parent=d;e&&!md(e.Ya,d.Ya);)nd(e.Ya,e.ae.Ya,e.wg.Ya),d=e,e=e.parent;else d.ae=c,d.wg=b,c.parent=d,b.parent=d,a.Jg=d}}function Cd(a,b){if(b==a.Jg)a.Jg=null;else{var e,c=b.parent,d=c.parent;if(e=c.ae==b?c.wg:c.ae,d)for(d.ae==c?d.ae=e:d.wg=e,e.parent=d;d&&(e=d.Ya,nd(d.Ya,d.ae.Ya,d.wg.Ya),!md(e,d.Ya));)d=d.parent;else a.Jg=e,e.parent=null;c.Ld()}}function Dd(){this.Hh=new zd,this.en=[]}function Ed(a,b){var c,d,e,f,g;for(c=[];0<a.en.length;)d=a.en.pop(),a.Hh.rr(function(a){return a!=d.qf&&c.push(new Fd(d.qf,a)),!0},a.Hh.Cl(d));for(e=0;e<c.length;)for(f=c[e],b(f.mm,f.nm),e++;e<c.length&&(g=c[e],g.mm==f.mm&&g.nm==f.nm||g.mm==f.nm&&g.nm==f.mm);)e++}function Gd(a){this.Ya=ld(),this.qf=this.parent=this.wg=this.ae=null,"undefined"!=typeof a&&(this.qf=a)}function Ad(a){if(0<Hd.length){var b=Hd.pop();return"undefined"!=typeof a&&(b.qf=a),b.Ya.ra(),b}return new Gd(a)}function Fd(a,b){this.mm=a,this.nm=b}function Id(){this.ka=this.kc=0,this.na=[];for(var a=0;2>a;a++)this.na[a]=new Jd;this.kd=T(0,0),this.Ba=T(0,0)}function Jd(){this.Ba=T(0,0),this.Bf=new gd,this.dd()}function Kd(){this.Ba=T(0,0),this.V=T(0,0)}function sd(){this.wa=new Od,this.Oa=new Od,this.Ce=new Od,this.O=[this.wa,this.Oa,this.Ce]}function ud(a){return 1==a.ua?0:2==a.ua?Wc(V(a.wa.Bc,a.Oa.Bc)):3==a.ua?Ec(V(a.Oa.Bc,a.wa.Bc),V(a.Ce.Bc,a.wa.Bc)):0}function Pd(){this.pc=[0,0,0],this.qc=[0,0,0]}function Od(){}function Qd(){this.Oh=new xd,this.Ph=new xd,this.qy=new Rc,this.ry=new Rc}function Rd(){this.Ca=T(0,0),this.na=[];for(var a=this.kc=0;2>a;a++)this.na[a]=T(0,0)}function Sd(a,b){this.Md="Body"+Td++,this.F=new Sc,this.F.position.I(a.position),this.F.u.Set(a.H),this.j=new Rc,this.j.N.ra(),this.j.Kd=1,this.j.gf=this.j.K=a.H,this.j.B.x=this.F.u.k.x*this.j.N.x+this.F.u.n.x*this.j.N.y,this.j.B.y=this.F.u.k.y*this.j.N.x+this.F.u.n.y*this.j.N.y,this.j.B.x+=this.F.position.x,this.j.B.y+=this.F.position.y,this.j.fd.I(this.j.B),this.q=a.JC.Kc(),this.Ch=T(0,0),this.Rk=a.sk,this.QC=a.Sv,this.xt=a.pA,this.wd=a.uA,this.ut=a.Zb,this.yd=b,this.Tb=null,this.hd=new Ud,this.kj=new Vd,this.G=a.rA,this.WC=a.Mk,this.MC=a.pk,this.jn=this.Uj=0,this.ka=a.type,this.U=2==this.ka?1:0,this.J=2==this.ka?1:0,this.T=this.yf=0,this.UC=a.tC,this.rj=new Wd,this.Qp=[]}function Xd(a,b){var d,e,f,g,c=new Yd(a,0,b);a.ut&&c.Al(a.yd.Rd.Qk,a.F),d=a.rj,e=c.Md,null==d.dp[e]&&(f=new Zd(c),g=d.js,null!=g?g.Pf(f):d.hs=f,f.Qf(g),d.js=f,d.dp[e]=f),c.yt=a,0<c.At&&$d(a),a.yd.Ht=!0}function ae(a,b,c){a.F.u.Set(c),a.F.position.I(b),b=a.F.u;var d=a.j.N;for(a.j.B.x=b.k.x*d.x+b.n.x*d.y,a.j.B.y=b.k.y*d.x+b.n.y*d.y,a.j.B.x+=a.F.position.x,a.j.B.y+=a.F.position.y,a.j.fd.I(a.j.B),a.j.gf=a.j.K=c,c=a.yd.Rd.Qk,b=a.rj.Pa();b;b=b.next)be(b.qf,c,a.F,a.F);ce(a.yd.Rd)}function de(a,b){0!=a.ka&&a.q.I(b)}function $d(a){var b,c,d;if(a.U=0,a.J=0,a.yf=0,a.T=0,a.j.N.ra(),0!=a.ka&&1!=a.ka){for(b=T(0,0),c=a.rj.Pa();c;c=c.next)d=c.qf,0!=d.At&&(d=d.Xu(),a.U+=d.Kg,b.x+=d.gh.x*d.Kg,b.y+=d.gh.y*d.Kg,a.yf+=d.ik);0<a.U?(a.J=1/a.U,b.x*=a.J,b.y*=a.J):(a.U=1,a.J=1),0<a.yf&&!a.QC?(a.yf-=a.U*(b.x*b.x+b.y*b.y),a.yf*=a.UC,a.T=1/a.yf):(a.yf=0,a.T=0),c=a.j.B.Kc(),a.j.N.I(b),a.j.fd.I(Ic(a.F,a.j.N)),a.j.B.I(a.j.fd),a.q.x+=a.G*-(a.j.B.y-c.y),a.q.y+=a.G*+(a.j.B.x-c.x),Vc(b),Vc(c)}}function fe(a,b){var c=a.F.u,c=T(c.k.x*b.x+c.n.x*b.y,c.k.y*b.x+c.n.y*b.y);return c.x+=a.F.position.x,c.y+=a.F.position.y,c}function ge(a,b){var c=a.F,d=V(b,c.position),e=d.x*c.u.k.x+d.y*c.u.k.y;return d.y=d.x*c.u.n.x+d.y*c.u.n.y,d.x=e,d}function ee(a,b){if(a.wd!=b){a.wd=b,a.jn=0,b||(a.q.ra(),a.G=0,a.Ch.ra(),a.Uj=0);for(var c=0;c<a.Qp.length;c++)he(a.Qp[c],a)}}function ie(a){je.u.Set(a.j.gf);var b=je.u,c=a.j.N;for(je.position.x=a.j.fd.x-(b.k.x*c.x+b.n.x*c.y),je.position.y=a.j.fd.y-(b.k.y*c.x+b.n.y*c.y),b=a.yd.Rd.Qk,c=a.rj.Pa();c;c=c.next)be(c.qf,b,je,a.F)}function W(a){a.F.u.Set(a.j.K);var b=a.F.u,c=a.j.N;a.F.position.x=a.j.B.x-(b.k.x*c.x+b.n.x*c.y),a.F.position.y=a.j.B.y-(b.k.y*c.x+b.n.y*c.y)}function ke(){this.position=T(0,0),this.JC=T(0,0),this.pk=this.Mk=this.rA=this.H=0,this.uA=this.pA=!0,this.sk=this.Sv=!1,this.type=0,this.Zb=!0,this.tC=1}function le(){this.uo=[];for(var a=0;me>=a;a++)this.uo[a]=null;for(this.vo=[],a=0;me>=a;a++)this.vo[a]=null;this.rk={}}function he(a,b){var c=b.ka,d=b.Md,e=b.wd,f=b.fi();2==c?a.pg(b,d,ne):a.rg(d,ne),0!=c?a.pg(b,d,oe):a.rg(d,oe),0!=c&&f&&e?a.pg(b,d,pe):a.rg(d,pe),e?a.pg(b,d,qe):a.rg(d,qe),f?a.pg(b,d,re):a.rg(d,re)}function se(a){this.body=a,this.If=this.next=null}function te(){}function ve(){this.nD=[],this.iE=[]}function we(){}function xe(a){this.yd=a,this.zt=ue,this.Tk=ye,this.Xw=new ze,this.Qk=new Dd}function ce(a){Ed(a.Qk,function(b,c){a:{var d=b.cb(),e=c.cb();if(d!=e&&e.ShouldCollide(d)&&a.zt.ShouldCollide(b,c)){for(d=e.hd.Pa(Ae);d;d=d.next)if(e=d.Rc.uc,e==b){if(e=d.Rc.jc,e==c)break a}else if(e==c&&(e=d.Rc.jc,e==b))break a;a.Xw.ng(b,c)}}})}function Ce(){this.Vl=1,this.ln=65535,this.uj=0}function Yd(a,b,c){this.Md="Fixture"+De++,this.Yw=c.filter.Kc(),this.Mj=ld(),this.yt=a,this.Gc=c.shape.Kc(),this.At=c.qi,this.Zw=c.ti,this.dx=c.Si,this.VC=c.CC}function be(a,b,c,d){if(a.Qj){var e=ld(),f=ld();a.Gc.gk(e,c),a.Gc.gk(f,d),nd(a.Mj,e,f),kd.push(e),kd.push(f),c=V(d.position,c.position),b.jr(a.Qj,a.Mj,c),Vc(c)}}function Ee(){this.filter=new Ce,this.filter.Vl=1,this.filter.ln=65535,this.filter.uj=0,this.shape=null,this.ti=.2,this.qi=this.Si=0,this.CC=!1}function Wd(){this.js=this.hs=null,this.dp={}}function Zd(a){this.qf=a,this.If=this.next=null}function Fe(a,b){this.XC=a,this.ag=b,this.Dg=[],this.Op=[],this.Ji=[],this.Bh=[],this.xd=[]}function Ge(a,b){var c,d,e,f;if(null!=a.XC)for(c=0;c<a.Bh.length;++c)for(d=b[c],e=new ve,f=0;f<d.Hf;++f)e.nD[f]=d.mc[f].lc,e.iE[f]=d.mc[f].Vg}function He(a,b,c,d,e){this.Fa=a;var f=0;a>0&&(f=1/a),this.uh=f,this.Dc=b,this.zn=c,this.Vn=d,this.$h=e}function Ie(a,b){this.Rd=new xe(this),this.ag=new Je,this.Ht=!1,this.ed=new le,this.hd=new Ud,this.Tb=null,this.kj=new Vd,this.Pp=0,this.OC=this.bD=!0,this.xt=b,this.$w=a,this.ax=0,this.TC=Ke(this,new ke)}function Ke(a,b){var c=new Sd(b,a);return a.ed.ek(c),c}function Me(a,b){var c,d,e,f,g,h,i;for(c=b.Tb;c;)d=c,c=c.next,Ne(a,d.yh);for(c=b.kj.Pa();c;c=c.next)c.Gv.Jl(b);for(c=b.hd.Pa(Ae);c;c=c.next)a.Rd.Ld(c.Rc);for(c=b.rj.Pa();c;c=c.next){for(d=b,e=c.qf,f=d.rj,g=e.Md,h=f.dp[g],null!=h&&(i=h.If,h=h.next,null==i?f.hs=h:i.Pf(h),null==h?f.js=i:h.Qf(i),delete f.dp[g]),f=d.hd.Pa(Ae);f;f=f.next)e!=f.Rc.uc&&e!=f.Rc.jc||d.yd.Rd.Ld(f.Rc);d.ut&&e.Bl(d.yd.Rd.Qk),e.Ld(),e.yt=null,$d(d)}b.Ld(),a.ed.Jl(b)}function Oe(a,b){var d,e,f,c=b.ng();if(c.Uk=null,(c.Ii=a.Tb)&&(a.Tb.Uk=c),a.Tb=c,a.Pp++,c.Sd.yh=c,c.Sd.Ze=c.X,c.Sd.prev=null,(c.Sd.next=c.W.Tb)&&(c.W.Tb.prev=c.Sd),c.W.Tb=c.Sd,c.Td.yh=c,c.Td.Ze=c.W,c.Td.prev=null,(c.Td.next=c.X.Tb)&&(c.X.Tb.prev=c.Td),c.X.Tb=c.Td,d=b.P,e=b.R,!b.Pr)for(f=e.hd.Pa(Ae);f;f=f.next)Pe(f.Rc,e)==d&&(f.Rc.km=!0);return c}function Ne(a,b){var d,e,c=b.Ww;if(b.Uk&&(b.Uk.Ii=b.Ii),b.Ii&&(b.Ii.Uk=b.Uk),b==a.Tb&&(a.Tb=b.Ii),d=b.W,e=b.X,ee(d,!0),ee(e,!0),b.Sd.prev&&(b.Sd.prev.next=b.Sd.next),b.Sd.next&&(b.Sd.next.prev=b.Sd.prev),b.Sd==d.Tb&&(d.Tb=b.Sd.next),b.Sd.prev=null,b.Sd.next=null,b.Td.prev&&(b.Td.prev.next=b.Td.next),b.Td.next&&(b.Td.next.prev=b.Td.prev),b.Td==e.Tb&&(e.Tb=b.Td.next),b.Td.prev=null,b.Td.next=null,a.Pp--,!c)for(c=e.hd.Pa(Ae);c;c=c.next)Pe(c.Rc,e)==d&&(c.Rc.km=!0)}function hf(a,b){this.Md="Contact"+jf++,this.Xe=new Id,this.gn=new Id,this.bk=!1;var c=a.cb(),d=b.cb();this.Qr=2!=c.ka||c.Rk||2!=d.ka||d.Rk,this.yq=a.kk()||b.kk(),this.km=!1,this.uc=a,this.jc=b,this.enabled=!0,this.ro=c.hd,this.so=d.hd,this.$q=d.yd.hd,kf(this)}function kf(a){a.ro.fk(a),a.so.fk(a),a.$q.fk(a),of(a)}function of(a){var b=!1,c=!1;!a.kk()&&a.enabled&&(a.bk&&(b=!0),a.Qr&&(c=!0)),pf(a.ro,a,b,c),pf(a.so,a,b,c),pf(a.$q,a,b,c)}function Pe(a,b){var c=a.uc.cb();return c!=b?c:a.jc.cb()}function Qe(a,b){var d,e,f,g,h,i,j,c=a.gn;if(a.gn=a.Xe,a.Xe=c,a.enabled=!0,d=!1,c=a.bk,e=a.uc.cb(),f=a.jc.cb(),g=a.uc.Mj.Ll(a.jc.Mj),a.yq)g&&(d=a.uc.Gc,e=e.oe(),g=a.jc.Gc,h=f.oe(),f=new vd,f.Oh=new xd,f.Oh.Set(d),f.Ph=new xd,f.Ph.Set(g),f.Rq=e,f.Sq=h,f.Ny=!0,e=new Pd,e.count=0,d=new wd,rd(d,e,f),d=d.nh<10*Number.MIN_VALUE),a.Xe.kc=0;else{if(a.Qr=2!=e.ka||e.Rk||2!=f.ka||f.Rk?!0:!1,g){for(a.qg(),d=0<a.Xe.kc,g=0;g<a.Xe.kc;g++)for(h=a.Xe.na[g],h.Pj=0,i=h.Tj=0;i<a.gn.kc;i++)if(j=a.gn.na[i],j.Bf.oc==h.Bf.oc){h.Pj=j.Pj,h.Tj=j.Tj;break}}else a.Xe.kc=0;d!=c&&(ee(e,!0),ee(f,!0))}a.bk=d,d!=c&&of(a),!c&&d&&b.BeginContact(a),c&&!d&&b.EndContact(a)}function qf(a,b){hf.call(this,a,b)}function rf(){this.Bg=T(0,0),this.ic=T(0,0),this.Hd=T(0,0),this.Ih=new Kc,this.pe=new Kc,this.mc=[];for(var a=0;2>a;a++)this.mc[a]=new sf}function sf(){this.ic=T(0,0),this.Vb=T(0,0),this.Wb=T(0,0)}function ze(){this.dg={},this.Dh={},tf(this,qf,"b2CircleShape","b2CircleShape"),tf(this,uf,"b2PolygonShape","b2CircleShape"),tf(this,vf,"b2PolygonShape","b2PolygonShape"),tf(this,wf,"b2EdgeShape","b2CircleShape"),tf(this,xf,"b2PolygonShape","b2EdgeShape")}function tf(a,b,c,d){a.Dh[c]=a.Dh[c]||{},a.Dh[c][d]=a.Dh[c][d]||[],a.dg[c]=a.dg[c]||{},a.dg[c][d]=new yf,a.dg[c][d].Iv=b,a.dg[c][d].Px=!0,c!=d&&(a.dg[d]=a.dg[d]||{},a.dg[d][c]=new yf,a.dg[d][c].Iv=b,a.dg[d][c].Px=!1)}function Ud(){this.Co=[];for(var a=0;Ae>=a;a++)this.Co[a]=null;for(this.Do=[],a=0;Ae>=a;a++)this.Do[a]=null;this.jj={}}function pf(a,b,c,d){c?a.pg(b,b.Md,Se):a.rg(b.Md,Se),d?a.pg(b,b.Md,Te):a.rg(b.Md,Te)}function Be(a,b){var d,c=b.Md;if(null!=a.jj[c]){for(d=0;Ae>=d;d++)a.rg(c,d);delete a.jj[c]}}function Af(a){this.Rc=a,this.If=this.next=null}function yf(){}function Bf(){this.Ca=T(0,0),this.Tp=[],this.na=[];for(var a=0;2>a;a++)this.na[a]=T(0,0)}function Je(){this.Eg=[]}function Df(a,b,c,d,e){var g,f=d*a.Hd.x;d*=a.Hd.y,g=e*a.Hd.x,e*=a.Hd.y,a.P.q.x-=a.P.J*(f+g),a.P.q.y-=a.P.J*(d+e),a.P.G-=a.P.T*(b.Vb.x*d-b.Vb.y*f+c.Vb.x*e-c.Vb.y*g),a.R.q.x+=a.R.J*(f+g),a.R.q.y+=a.R.J*(d+e),a.R.G+=a.R.T*(b.Wb.x*d-b.Wb.y*f+c.Wb.x*e-c.Wb.y*g),b.lc=0,c.lc=0}function wf(a,b){hf.call(this,a,b)}function uf(a,b){hf.call(this,a,b)}function xf(a,b){hf.call(this,a,b)}function vf(a,b){hf.call(this,a,b)}function Qf(){this.Md="Controller"+Rf++,this.yd=null,this.ed=new le}function Sf(){Qf.call(this),this.Hd=T(0,-1),this.qi=this.offset=0,this.Qy=T(0,0),this.IC=2,this.qA=1,this.vE=!0,this.fw=null}function Tf(){Qf.call(this),this.Tu=T(0,0)}function Uf(){Qf.call(this),this.fz=T(0,0)}function Vd(){this.Sr=this.Rr=null,this.Fo={}}function Vf(a){this.Gv=a,this.If=this.next=null}function Wf(){Qf.call(this),this.Wu=1,this.xC=!0}function Xf(){Qf.call(this),this.aA=new Kc,this.Nt=0}function Yf(a){this.Sd=new Zf,this.Td=new Zf,this.Hg=T(0,0),this.Ig=T(0,0),this.ka=a.type,this.Ii=this.Uk=null,this.W=a.P,this.X=a.R,this.Ww=a.Pr}function $f(){this.type=0,this.R=this.P=null,this.Pr=!1}function Zf(){}function ag(a){Yf.call(this,a),this.ga=T(0,0),this.ja=T(0,0),this.Hc=T(0,0),this.ga.I(a.rc),this.ja.I(a.tc),this.Ct=a.length,this.Bt=a.ns,this.PC=a.Yr,this.Vw=this.Oj=this.D=0}function bg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.type=3,this.length=1,this.Yr=this.ns=0}function cg(a){Yf.call(this,a),this.Ue=T(0,0),this.Ve=T(0,0),this.Ft=new Kc,this.Te=T(0,0),this.Ue.I(a.rc),this.Ve.I(a.tc),this.Ft.ra(),this.$m=0,this.Te.ra(),this.Ah=0,this.YC=a.eD,this.$C=a.gD}function dg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.type=9,this.gD=this.eD=0}function eg(a){var b,c,d,e;Yf.call(this,a),this.Eh=T(0,0),this.Fh=T(0,0),this.ga=T(0,0),this.ja=T(0,0),this.Pb=new fg,b=a.Jk.ka,c=a.Kk.ka,this.Wk=this.Sj=this.Vk=this.Rj=null,d=0,e=0,this.RC=a.Jk.W,this.W=a.Jk.X,1==b?(this.Rj=a.Jk,this.Eh.I(this.Rj.ga),this.ga.I(this.Rj.ja),d=gg(this.Rj)):(this.Vk=a.Jk,this.Eh.I(this.Vk.ga),this.ga.I(this.Vk.ja),d=this.Vk.Dl()),this.SC=a.Kk.W,this.X=a.Kk.X,1==c?(this.Sj=a.Kk,this.Fh.I(this.Sj.ga),this.ja.I(this.Sj.ja),e=gg(this.Sj)):(this.Wk=a.Kk,this.Fh.I(this.Wk.ga),this.ja.I(this.Wk.ja),e=this.Wk.Dl()),this.Ub=a.Pi,this.Sk=d+this.Ub*e,this.D=0}function hg(){$f.call(this),this.type=6,this.Kk=this.Jk=null,this.Pi=1}function fg(){this.Zf=T(0,0),this.$f=T(0,0)}function ig(a){Yf.call(this,a),this.ga=T(0,0),this.ja=T(0,0),this.ie=T(0,0),this.Gh=T(0,0),this.V=T(0,0),this.la=T(0,0),this.fa=new Kc,this.D=T(0,0),this.ga.I(a.rc),this.ja.I(a.tc),this.ie.I(a.Kj),this.Gh.x=-this.ie.y,this.Gh.y=this.ie.x,this.D.ra(),this.Sa=this.Ud=0,this.We=a.tt,this.Ye=a.Mu,this.Gt=a.Lt,this.dn=a.mn,this.bg=a.wk,this.Hi=a.cm,this.Ha=0,this.V.ra(),this.la.ra()}function jg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.Kj=T(0,0),this.type=7,this.Kj.Set(1,0),this.wk=!1,this.Mu=this.tt=0,this.cm=!1,this.mn=this.Lt=0}function kg(a){Yf.call(this,a),this.ga=T(0,0),this.ja=T(0,0),this.ie=T(0,0),this.Gh=T(0,0),this.V=T(0,0),this.la=T(0,0),this.fa=new Nc,this.D=new Oc(0,0,0),this.ga.I(a.rc),this.ja.I(a.tc),this.ie.I(a.Kj),this.Gh.x=-this.ie.y,this.Gh.y=this.ie.x,this.aD=a.Qi,this.D.ra(),this.Sa=this.Ud=0,this.We=a.tt,this.Ye=a.Mu,this.Gt=a.Lt,this.dn=a.mn,this.bg=a.wk,this.Hi=a.cm,this.Ha=0,this.V.ra(),this.la.ra()}function lg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.Kj=T(0,0),this.type=2,this.Kj.Set(1,0),this.Qi=0,this.wk=!1,this.Mu=this.tt=0,this.cm=!1,this.mn=this.Lt=0}function mg(a){Yf.call(this,a),this.Eh=T(0,0),this.Fh=T(0,0),this.ga=T(0,0),this.ja=T(0,0),this.wb=T(0,0),this.xb=T(0,0),this.Af=this.W.yd.TC,this.Eh.x=a.lp.x-this.Af.F.position.x,this.Eh.y=a.lp.y-this.Af.F.position.y,this.Fh.x=a.mp.x-this.Af.F.position.x,this.Fh.y=a.mp.y-this.Af.F.position.y,this.ga.I(a.rc),this.ja.I(a.tc),this.Ub=a.Pi,this.Sk=a.it+this.Ub*a.jt,this.bx=Math.min(a.gx,this.Sk-this.Ub*ng),this.cx=Math.min(a.hx,(this.Sk-ng)/this.Ub),this.Gg=this.Fg=this.D=0}function og(){$f.call(this),this.lp=T(0,0),this.mp=T(0,0),this.rc=T(0,0),this.tc=T(0,0),this.type=4,this.lp.Set(-1,1),this.mp.Set(1,1),this.rc.Set(-1,0),this.tc.Set(1,0),this.hx=this.jt=this.gx=this.it=0,this.Pi=1,this.Pr=!0}function pg(a){Yf.call(this,a),this.pe=new Kc,this.Fl=new Kc,this.Gl=new Kc,this.Hl=new Kc,this.Tc=new Oc(0,0,0),this.Vf=T(0,0),this.Qg=T(0,0),this.ga=T(0,0),this.ja=T(0,0),this.D=new Oc(0,0,0),this.U=new Nc,this.ga.I(a.rc),this.ja.I(a.tc),this.hn=a.Qi,this.D.ra(),this.Sa=0,this.Rp=a.Hw,this.Jt=a.Ly,this.ZC=a.fD,this.dn=a.mn,this.bg=a.wk,this.Hi=a.cm,this.Ha=0}function gg(a){return a.X.j.K-a.W.j.K-a.hn}function rg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.type=1,this.rc.ra(),this.tc.ra(),this.mn=this.fD=this.Ly=this.Hw=this.Qi=0,this.cm=this.wk=!1}function sg(a){Yf.call(this,a),this.Ue=T(0,0),this.Ve=T(0,0),this.D=new Oc(0,0,0),this.U=new Nc,this.Ue.I(a.rc),this.Ve.I(a.tc),this.hn=a.Qi}function tg(){$f.call(this),this.rc=T(0,0),this.tc=T(0,0),this.type=8,this.Qi=0}function ug(a,b,c,d,e,f){var g;return(g=(c+.1>=a&&a>=e-.1||a>=c-.1&&e+.1>=a)&&(d+.1>=b&&b>=f-.1||b>=d-.1&&f+.1>=b))&&(g=.1<Math.abs(e-c)?.1>Math.abs((f-d)/(e-c)*(a-c)+d-b):.1>Math.abs(a-c)),g}function vg(a,b){var e,f,g,h,i,j,k,l,m,c=wg(a),d=[];for(i=0,j=c.length;j>i;i++){for(f=c[i],e=[],e.length=f.length,k=m=0,l=f.length;l>k;k++)g=f[k],h=f[(k+1)%l],m+=g.x*h.y-g.y*h.x,e[k]=T(g.x,g.y);m=Math.abs(m/2),m>=.001*b&&d.push(e)}return d}function wg(a){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,b=[],c=0,d=0,e=0,f=0,g=0,h=g=0,i=0,j=0,k=0;for(f=0,q=f=c=0,r=0,e=[],i=[],s=!1,t=[],u=[],u.push(a);u.length;){for(b=u[0],d=b.length,s=!0,c=0;d>c;c++)if(j=c,k=d-1>c?c+1:c+1-d,f=d-2>c?c+2:c+2-d,a=b[j],l=b[k],m=b[f],f=a.x,e=a.y,i=l.x,g=l.y,h=m.x,m=m.y,f=f*g+i*m+h*e-e*i-g*h-m*f,0>f){for(s=!1,i=1e9,e=0;d>e;e++)e!==j&&e!==k&&(c=e,f=d-1>e?e+1:0,n=b[c],o=b[f],h=a.x,m=a.y,v=l.x,w=l.y,g=n.x,n=n.y,x=o.x,o=o.y,y=v-h,z=w-m,A=x-g,B=o-n,A=(A*(n-m)-B*(g-h))/(z*A-y*B),y=h+A*y,z=m+A*z,h=ug(v,w,h,m,y,z),g=ug(y,z,g,n,x,o),(m=h&&g?T(y,z):null)&&(g=l.x-m.x,h=l.y-m.y,g=g*g+h*h,i>g&&(r=c,q=f,p=m,i=g)));if(1e9===i)return[];for(e=[],i=[],c=r,f=q,n=b[c],o=b[f],q=p.y,r=o.y,.1>Math.abs(o.x-p.x)&&.1>Math.abs(r-q)||e.push(p),q=p.y,r=n.y,.1>Math.abs(n.x-p.x)&&.1>Math.abs(r-q)||i.push(p),r=-1,q=j;;){if(q===f){if(0>r||r>=d)return[];ug(o.x,o.y,b[r].x,b[r].y,a.x,a.y)||e.push(b[q]);break}e.push(b[q]),r=q,0>q-1?q=d-1:q--}for(e.reverse(),r=-1,q=k;;){if(q===c){if(0>r||r>=d)return[];q!==c||ug(n.x,n.y,b[r].x,b[r].y,l.x,l.y)||i.push(b[q]);break}i.push(b[q]),r=q,q+1>d-1?q=0:q++}u.push(e,i),u.shift();break}s&&t.push(u.shift())}return t}function xg(a){for(var b=0;4e3>b;b++)Uc.push(new Tc(0,0));this.i=a,this.ne=new Ie(T(0,10),!0),this.dt=-1,a=new we,a.behavior=this,a.BeginContact=function(a){this.behavior.i.LD(a.uc.cb().vg.A,a.jc.cb().vg.A)},this.ne.Rd.Tk=a,a=new te,a.behavior=this,a.ShouldCollide=function(a,b){if(this.behavior.mA)return!0;var c=a.cb().vg.A.type,d=b.cb().vg.A.type,e=c.da.Physics_DisabledCollisions;return e&&e.contains(d)?!1:(e=d.da.Physics_DisabledCollisions)&&e.contains(c)?!1:!0},this.ne.Rd.zt=a,this.fE=0,this.Vn=8,this.zn=3,this.mA=!0}function yg(a){this.i=a}function zg(a){this.i=a}function Kg(a,b){return Math.round(1e4*(a/b))}function Lg(a,b,c,d){var e=0;switch(a){case 0:e=1*b/c+0;break;case 1:e=1*(b/=c)*b+0;break;case 2:e=-1*(b/=c)*(b-2)+0;break;case 3:e=1>(b/=c/2)?.5*b*b+0:-.5*(--b*(b-2)-1)+0;break;case 4:e=1*(b/=c)*b*b+0;break;case 5:e=1*((b=b/c-1)*b*b+1)+0;break;case 6:e=1>(b/=c/2)?.5*b*b*b+0:.5*((b-=2)*b*b+2)+0;break;case 7:e=1*(b/=c)*b*b*b+0;break;case 8:e=-1*((b=b/c-1)*b*b*b-1)+0;break;case 9:e=1>(b/=c/2)?.5*b*b*b*b+0:-.5*((b-=2)*b*b*b-2)+0;break;case 10:e=1*(b/=c)*b*b*b*b+0;break;case 11:e=1*((b=b/c-1)*b*b*b*b+1)+0;break;case 12:e=1>(b/=c/2)?.5*b*b*b*b*b+0:.5*((b-=2)*b*b*b*b+2)+0;break;case 13:e=Fg[Kg(b,c)];break;case 14:e=Gg[Kg(b,c)];break;case 15:e=Hg[Kg(b,c)];break;case 16:a=0,0==a&&(a=1.70158),e=1*(b/=c)*b*((a+1)*b-a)+0;break;case 17:e=Ig[Kg(b,c)];break;case 18:e=Jg[Kg(b,c)];break;case 19:e=Cg[Kg(b,c)];break;case 20:e=Dg[Kg(b,c)];break;case 21:e=Eg[Kg(b,c)];break;case 22:e=1-Ag[Kg(c-b,c)]+0;break;case 23:e=Ag[Kg(b,c)];break;case 24:e=c/2>b?.5*(1-Ag[Kg(c-2*b,c)]+0)+0:.5*Ag[Kg(2*b-c,c)]+.5;break;case 25:b=b/c/2,e=2*b*b*(3-2*b);break;case 26:b=(b/c+1)/2,e=2*b*b*(3-2*b)-1;break;case 27:b/=c,e=b*b*(3-2*b)}return d?1-e:e}function Sg(a,b,c,d,e,f,g){this.name=a,this.value=0,this.kl(d),this.Bq(e),this.Vo=c,this.Ac=b,this.duration=f,this.state=this.pb=0,this.Zp=this.$p=this.Wp=this.el=!1,this.ud=this.cc=0,this.ve=g,this.Nh=1,this.pm=!1}function Tg(a){this.i=a}function lc(){return[oc,vc,nc,pc,qc,mc,rc,sc,tc,uc,wc,zg,xg,Tg,yg,K.prototype.M.av,yg.prototype.ta.Oz,K.prototype.ta.Tz,K.prototype.ta.dA,uc.prototype.M.mz,uc.prototype.Za.nz,xg.prototype.M.$y,K.prototype.M.cz,mc.prototype.ta.Vz,mc.prototype.ta.Sz,mc.prototype.Za.eA,mc.prototype.Za.hz,pc.prototype.M.$u,K.prototype.M.Zy,oc.prototype.ta.Play,Tg.prototype.M.fi,mc.prototype.M.Yy,Tg.prototype.ta.Xz,tc.prototype.M.or,K.prototype.M.Xy,tc.prototype.Za.lv,wc.prototype.ta.Yz,mc.prototype.ta.jv,xg.prototype.ta.iv,rc.prototype.M.Nz,rc.prototype.ta.jv,Tg.prototype.M.Zu,Tg.prototype.ta.Pz,mc.prototype.M.tz,xg.prototype.ta.er,xg.prototype.Za.bA,xg.prototype.Za.cA,nc.prototype.ta.CallFunction,mc.prototype.ta.Qz,K.prototype.ta.Sy,nc.prototype.M.bo,K.prototype.ta.az,K.prototype.Za.random,K.prototype.M.dz,rc.prototype.ta.tr,mc.prototype.ta.Ld,K.prototype.Za.min,K.prototype.Za.round,K.prototype.Za.sqrt,K.prototype.Za.max,sc.prototype.ta.tr,uc.prototype.ta.$z,tc.prototype.M.qr,K.prototype.ta.gz,K.prototype.ta.Rz,vc.prototype.ta.ez]}var v,aa,ba,ea,fa,ga,ha,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,Aa,Ba,Ca,Da,w,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Ta,Ua,Va,Wa,Za,$a,ab,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,ac,kc,xc,yc,zc,Ac,Bc,Cc,Uc,kd,Hd,Ld,Md,Nd,Td,ne,oe,re,pe,qe,me,ue,De,Le,Re,Ue,jf,Se,Te,Ae,zf,Rf,ng,qg,Ff,Of,Pf,Gf,Hf,If,Lf,Jf,Kf,Mf,Nf,Ve,df,ef,bf,cf,We,Xe,Ye,Ze,af,$e,je,ye,ff,gf,Cf,Ef,Ag,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Mg,Ng,Og,X,Y,Pg,Qg,Rg,$b={};"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype}),function(){function a(a,b,c,d){this.set(a,b,c,d)}function b(){this.Nc=this.Mc=this.Pc=this.Oc=this.cd=this.bd=this.Lb=this.Kb=0}function c(a,b,c,d){b>a?d>c?(o=c>a?a:c,p=b>d?b:d):(o=d>a?a:d,p=b>c?b:c):d>c?(o=c>b?b:c,p=a>d?a:d):(o=d>b?b:d,p=a>c?a:c)}function d(){this.items=this.hg=null,this.Ik=0,u&&(this.hg=new Set),this.ul=[],this.li=!0}function e(a){v[x++]=a}function f(){this.xa=this.Kq=this.y=this.B=0}function g(a){this.yc=[],this.lo=this.oo=this.po=this.no=0,this.Go=null,this.In(a)}function h(a,b){this.Lr=a,this.Kr=b,this.cells={}}function i(a,b){this.Lr=a,this.Kr=b,this.cells={}}function j(a,b,c){var d;return y.length?(d=y.pop(),d.Bs=a,d.x=b,d.y=c,d):new aa(a,b,c)}function k(a,b,c){this.Bs=a,this.x=b,this.y=c,this.md=new ba}function l(a,b,c){var d;return z.length?(d=z.pop(),d.Bs=a,d.x=b,d.y=c,d):new ea(a,b,c)}function m(a,b,c){this.Bs=a,this.x=b,this.y=c,this.md=[],this.Hk=!0,this.Og=new ba,this.Ql=!1}function n(a,b){return a.lg-b.lg}var o,p,q,r,s,t,u,v,x,y,z,A;fa=function(a){window.console&&window.console.log&&window.console.log(a)},ga=function(a){window.console&&window.console.error&&window.console.error(a)},ha=function(a){return"undefined"==typeof a},ja=function(a){return"number"==typeof a},ka=function(a){return"string"==typeof a},la=function(a){return a>0&&0===(a-1&a)},ma=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1},na=function(a){return 0>a?-a:a},oa=function(a,b){return a>b?a:b},pa=function(a,b){return b>a?a:b},qa=Math.PI,ra=function(a){return a>=0?0|a:(0|a)-1},sa=function(a){var b=0|a;return b===a?b:b+1},ta=function(a,b,c,d,e,f,g,h){var i,j,k,l;return c>a?(j=a,i=c):(j=c,i=a),g>e?(l=e,k=g):(l=g,k=e),l>i||j>k?!1:(d>b?(j=b,i=d):(j=d,i=b),h>f?(l=f,k=h):(l=h,k=f),l>i||j>k?!1:(i=e-a+g-c,j=f-b+h-d,a=c-a,b=d-b,e=g-e,f=h-f,h=na(b*e-f*a),na(e*j-f*i)>h?!1:na(a*j-b*i)<=h))},a.prototype.set=function(a,b,c,d){this.left=a,this.top=b,this.right=c,this.bottom=d},a.prototype.Io=function(a){this.left=a.left,this.top=a.top,this.right=a.right,this.bottom=a.bottom},a.prototype.width=function(){return this.right-this.left},a.prototype.height=function(){return this.bottom-this.top},a.prototype.offset=function(a,b){return this.left+=a,this.top+=b,this.right+=a,this.bottom+=b,this},a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a),this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)},a.prototype.vC=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)},a.prototype.wC=function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)},a.prototype.Nd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom
},a.prototype.Wo=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom},ua=a,b.prototype.ol=function(a){this.Kb=a.left,this.Lb=a.top,this.bd=a.right,this.cd=a.top,this.Oc=a.right,this.Pc=a.bottom,this.Mc=a.left,this.Nc=a.bottom},b.prototype.gy=function(a,b){if(0===b)this.ol(a);else{var c=Math.sin(b),d=Math.cos(b),e=a.left*c,f=a.top*c,g=a.right*c,c=a.bottom*c,h=a.left*d,i=a.top*d,j=a.right*d,d=a.bottom*d;this.Kb=h-f,this.Lb=i+e,this.bd=j-f,this.cd=i+g,this.Oc=j-c,this.Pc=d+g,this.Mc=h-c,this.Nc=d+e}},b.prototype.offset=function(a,b){return this.Kb+=a,this.Lb+=b,this.bd+=a,this.cd+=b,this.Oc+=a,this.Pc+=b,this.Mc+=a,this.Nc+=b,this},o=0,p=0,b.prototype.yv=function(a){c(this.Kb,this.bd,this.Oc,this.Mc),a.left=o,a.right=p,c(this.Lb,this.cd,this.Pc,this.Nc),a.top=o,a.bottom=p},b.prototype.Nd=function(a,b){var c=this.bd-this.Kb,d=this.cd-this.Lb,e=this.Oc-this.Kb,f=this.Pc-this.Lb,g=a-this.Kb,h=b-this.Lb,i=c*c+d*d,j=c*e+d*f,d=c*g+d*h,k=e*e+f*f,l=e*g+f*h,m=1/(i*k-j*j),c=(k*d-j*l)*m,i=(i*l-j*d)*m;return c>=0&&i>0&&1>c+i?!0:(c=this.Mc-this.Kb,d=this.Nc-this.Lb,i=c*c+d*d,j=c*e+d*f,d=c*g+d*h,m=1/(i*k-j*j),c=(k*d-j*l)*m,i=(i*l-j*d)*m,c>=0&&i>0&&1>c+i)},b.prototype.ji=function(a,b){if(b)switch(a){case 0:return this.Kb;case 1:return this.bd;case 2:return this.Oc;case 3:return this.Mc;case 4:return this.Kb;default:return this.Kb}else switch(a){case 0:return this.Lb;case 1:return this.cd;case 2:return this.Pc;case 3:return this.Nc;case 4:return this.Lb;default:return this.Lb}},b.prototype.Mi=function(){return(this.Kb+this.bd+this.Oc+this.Mc)/4},b.prototype.Ni=function(){return(this.Lb+this.cd+this.Pc+this.Nc)/4},b.prototype.ow=function(a){var d,e,f,g,h,i,j,k,b=a.Mi(),c=a.Ni();if(this.Nd(b,c))return!0;if(b=this.Mi(),c=this.Ni(),a.Nd(b,c))return!0;for(j=0;4>j;j++)for(k=0;4>k;k++)if(b=this.ji(j,!0),c=this.ji(j,!1),d=this.ji(j+1,!0),e=this.ji(j+1,!1),f=a.ji(k,!0),g=a.ji(k,!1),h=a.ji(k+1,!0),i=a.ji(k+1,!1),ta(b,c,d,e,f,g,h,i))return!0;return!1},va=b,wa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},xa=function(a,b){var c,d;if(b=ra(b),!(0>b||b>=a.length)){for(c=b,d=a.length-1;d>c;c++)a[c]=a[c+1];a.length=d}},Aa=function(a,b){a.length=b.length;var c,d;for(c=0,d=b.length;d>c;c++)a[c]=b[c]},Ba=function(a,b){a.push.apply(a,b)},Ca=function(a,b){var c,d;for(c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1},Da=function(a,b){var c=Ca(a,b);-1!==c&&xa(a,c)},w=function(a){return a/(180/qa)},Ea=function(a){return 180/qa*a},Fa=function(a){return a%=360,0>a&&(a+=360),a},Ga=function(a){return a%=2*qa,0>a&&(a+=2*qa),a},Ha=function(a){return Fa(Ea(a))},Ia=function(a){return Ga(w(a))},Ja=function(a,b,c,d){return Math.atan2(d-b,c-a)},Ka=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b),c=c*e+d*f;return c>=1?0:-1>=c?qa:Math.acos(c)},La=function(a,b,c){var d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?e*f-d*g>0?Ga(a+c):Ga(a-c):Ga(b)},Ma=function(a,b){var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return 0>=d*e-c*f},Na=function(a,b,c,d,e,f){var g,h;return 0===c?f?a:b:(g=Math.sin(c),c=Math.cos(c),a-=d,b-=e,h=a*g,a=a*c-b*g,b=b*c+h,f?a+d:b+e)},Oa=function(a,b,c,d){return a=c-a,b=d-b,Math.sqrt(a*a+b*b)},Pa=function(a,b){return!a!=!b},Qa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},Ra=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]},q=+new Date,Ta=function(){if("undefined"!=typeof window.performance){var a=window.performance;if("undefined"!=typeof a.now)return a.now();if("undefined"!=typeof a.webkitNow)return a.webkitNow();if("undefined"!=typeof a.mozNow)return a.mozNow();if("undefined"!=typeof a.msNow)return a.msNow()}return Date.now()-q},r=!1,s=r=!1,t=!1,"undefined"!=typeof window&&(r=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),r=!r&&/safari/i.test(navigator.userAgent),s=/(iphone|ipod|ipad)/i.test(navigator.userAgent),t=window.c2ejecta),u=!r&&!t&&!s&&"undefined"!=typeof Set&&"undefined"!=typeof Set.prototype.forEach,d.prototype.contains=function(a){return this.vh()?!1:u?this.hg.has(a):this.items&&this.items.hasOwnProperty(a)},d.prototype.add=function(a){if(u)this.hg.has(a)||(this.hg.add(a),this.li=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Ik++,this.li=!1):(this.items={},this.items[b]=a,this.Ik=1,this.li=!1)}},d.prototype.remove=function(a){if(!this.vh())if(u)this.hg.has(a)&&(this.hg["delete"](a),this.li=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Ik--,this.li=!1)}},d.prototype.clear=function(){this.vh()||(u?this.hg.clear():(this.items=null,this.Ik=0),this.ul.length=0,this.li=!0)},d.prototype.vh=function(){return 0===this.count()},d.prototype.count=function(){return u?this.hg.size:this.Ik},v=null,x=0,d.prototype.rE=function(){var a,b,c,d;if(!this.li){if(u)this.ul.length=this.hg.size,v=this.ul,x=0,this.hg.forEach(e),v=null,x=0;else if(a=this.ul,a.length=this.Ik,c=0,d=this.items,d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b]);this.li=!0}},d.prototype.Zg=function(){return this.rE(),this.ul},ba=d,new ba,Ua=function(a,b){u?Va(a,b.hg):Wa(a,b.Zg())},Va=function(a,b){var c,d,e,f;for(d=c=0,e=a.length;e>c;++c)f=a[c],b.has(f)||(a[d++]=f);a.length=d},Wa=function(a,b){var c,d,e,f;for(d=c=0,e=a.length;e>c;++c)f=a[c],-1===Ca(b,f)&&(a[d++]=f);a.length=d},f.prototype.add=function(a){this.y=a-this.B,this.Kq=this.xa+this.y,this.B=this.Kq-this.xa-this.y,this.xa=this.Kq},f.prototype.reset=function(){this.xa=this.Kq=this.y=this.B=0},Za=f,$a=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},g.prototype.In=function(a){this.Rx=a,this.$e=a.length/2,this.yc.length=a.length,this.xo=this.yo=-1,this.Bv=0},g.prototype.Cj=function(){return!this.Rx.length},g.prototype.sb=function(){for(var f,g,a=this.yc,b=a[0],c=b,d=a[1],e=d,h=1,i=this.$e;i>h;++h)g=2*h,f=a[g],g=a[g+1],b>f&&(b=f),f>c&&(c=f),d>g&&(d=g),g>e&&(e=g);this.no=b,this.oo=c,this.po=d,this.lo=e},g.prototype.ol=function(a,b,c){this.yc.length=8,this.$e=4;var d=this.yc;d[0]=a.left-b,d[1]=a.top-c,d[2]=a.right-b,d[3]=a.top-c,d[4]=a.right-b,d[5]=a.bottom-c,d[6]=a.left-b,d[7]=a.bottom-c,this.yo=a.right-a.left,this.xo=a.bottom-a.top,this.sb()},g.prototype.nl=function(a,b,c,d,e){this.yc.length=8,this.$e=4;var f=this.yc;f[0]=a.Kb-b,f[1]=a.Lb-c,f[2]=a.bd-b,f[3]=a.cd-c,f[4]=a.Oc-b,f[5]=a.Pc-c,f[6]=a.Mc-b,f[7]=a.Nc-c,this.yo=d,this.xo=e,this.sb()},g.prototype.fy=function(a){this.$e=a.$e,Aa(this.yc,a.yc),this.no=a.no,this.po-a.po,this.oo=a.oo,this.lo=a.lo},g.prototype.ij=function(a,b,c){if(this.yo!==a||this.xo!==b||this.Bv!==c){this.yo=a,this.xo=b,this.Bv=c;var d,e,f,g,h,i=0,j=1,k=this.Rx,l=this.yc;for(0!==c&&(i=Math.sin(c),j=Math.cos(c)),c=0,f=this.$e;f>c;c++)d=2*c,e=d+1,g=k[d]*a,h=k[e]*b,l[d]=g*j-h*i,l[e]=h*j+g*i;this.sb()}},g.prototype.Nd=function(a,b){var d,e,f,l,m,g,h,i,j,k,n,o,c=this.yc;if(a===c[0]&&b===c[1])return!0;for(g=this.$e,h=this.no-110,i=this.po-101,j=this.oo+131,k=this.lo+120,n=0,o=0,d=0;g>d;d++)e=2*d,f=2*((d+1)%g),l=c[e],e=c[e+1],m=c[f],f=c[f+1],ta(h,i,a,b,l,e,m,f)&&n++,ta(j,k,a,b,l,e,m,f)&&o++;return 1===n%2||1===o%2},g.prototype.Cm=function(a,b,c){var f,g,h,i,j,k,l,m,n,o,p,q,d=a.yc,e=this.yc;if(this.Nd(d[0]+b,d[1]+c)||a.Nd(e[0]-b,e[1]-c))return!0;for(f=0,i=this.$e;i>f;f++)for(g=2*f,h=2*((f+1)%i),m=e[g],g=e[g+1],n=e[h],o=e[h+1],h=0,l=a.$e;l>h;h++)if(j=2*h,k=2*((h+1)%l),p=d[j]+b,j=d[j+1]+c,q=d[k]+b,k=d[k+1]+c,ta(m,g,n,o,p,j,q,k))return!0;return!1},ab=g,h.prototype.vi=function(a,b,c){var d;return d=this.cells[a],d?(d=d[b])?d:c?(d=j(this,a,b),this.cells[a][b]=d):null:c?(d=j(this,a,b),this.cells[a]={},this.cells[a][b]=d):null},h.prototype.Le=function(a){return ra(a/this.Lr)},h.prototype.Me=function(a){return ra(a/this.Kr)},h.prototype.update=function(a,b,c){var d,e,f,g,h;if(b)for(d=b.left,e=b.right;e>=d;++d)for(f=b.top,g=b.bottom;g>=f;++f)c&&c.Nd(d,f)||(h=this.vi(d,f,!1))&&(h.remove(a),h.vh()&&(h.md.clear(),1e3>y.length&&y.push(h),this.cells[d][f]=null));if(c)for(d=c.left,e=c.right;e>=d;++d)for(f=c.top,g=c.bottom;g>=f;++f)b&&b.Nd(d,f)||this.vi(d,f,!0).Os(a)},h.prototype.rq=function(a,b){var c,d,e,f,g,h;for(c=this.Le(a.left),e=this.Me(a.top),d=this.Le(a.right),g=this.Me(a.bottom);d>=c;++c)for(f=e;g>=f;++f)(h=this.vi(c,f,!1))&&h.dump(b)},cb=h,i.prototype.vi=function(a,b,c){var d;return d=this.cells[a],d?(d=d[b])?d:c?(d=l(this,a,b),this.cells[a][b]=d):null:c?(d=l(this,a,b),this.cells[a]={},this.cells[a][b]=d):null},i.prototype.Le=function(a){return ra(a/this.Lr)},i.prototype.Me=function(a){return ra(a/this.Kr)},i.prototype.update=function(a,b,c){var d,e,f,g,h;if(b)for(d=b.left,e=b.right;e>=d;++d)for(f=b.top,g=b.bottom;g>=f;++f)c&&c.Nd(d,f)||(h=this.vi(d,f,!1))&&(h.remove(a),h.vh()&&(h.reset(),1e3>z.length&&z.push(h),this.cells[d][f]=null));if(c)for(d=c.left,e=c.right;e>=d;++d)for(f=c.top,g=c.bottom;g>=f;++f)b&&b.Nd(d,f)||this.vi(d,f,!0).Os(a)},i.prototype.rq=function(a,b,c,d,e){var f,g;for(a=this.Le(a),b=this.Me(b),c=this.Le(c),f=this.Me(d);c>=a;++a)for(d=b;f>=d;++d)(g=this.vi(a,d,!1))&&g.dump(e)},i.prototype.dD=function(a){var b,c,d,e,f;for(b=a.left,d=a.top,c=a.right,e=a.bottom;c>=b;++b)for(a=d;e>=a;++a)(f=this.vi(b,a,!1))&&(f.Hk=!1)},db=i,y=[],k.prototype.vh=function(){return this.md.vh()},k.prototype.Os=function(a){this.md.add(a)},k.prototype.remove=function(a){this.md.remove(a)},k.prototype.dump=function(a){Ba(a,this.md.Zg())},aa=k,z=[],m.prototype.vh=function(){return this.md.length?this.md.length>this.Og.count()?!1:(this.ks(),!0):!0},m.prototype.Os=function(a){this.Og.contains(a)?(this.Og.remove(a),this.Og.vh()&&(this.Ql=!1)):this.md.length?(this.md[this.md.length-1].zg()>a.zg()&&(this.Hk=!1),this.md.push(a)):(this.md.push(a),this.Hk=!0)},m.prototype.remove=function(a){this.Og.add(a),this.Ql=!0,30<=this.Og.count()&&this.ks()},m.prototype.ks=function(){this.Ql&&(this.Og.count()===this.md.length?this.reset():(Ua(this.md,this.Og),this.Og.clear(),this.Ql=!1))},m.prototype.hB=function(){this.Hk||(this.md.sort(n),this.Hk=!0)},m.prototype.reset=function(){this.md.length=0,this.Hk=!0,this.Og.clear(),this.Ql=!1},m.prototype.dump=function(a){this.ks(),this.hB(),this.md.length&&a.push(this.md)},ea=m,A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" "),eb=function(a){return 0>=a||a>=11?"source-over":A[a-1]},fb=function(a,b,c){if(c)switch(a.Jd=c.ONE,a.Dd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Jd=c.ONE,a.Dd=c.ONE;break;case 3:a.Jd=c.ONE,a.Dd=c.ZERO;break;case 4:a.Jd=c.ONE_MINUS_DST_ALPHA,a.Dd=c.ONE;break;case 5:a.Jd=c.DST_ALPHA,a.Dd=c.ZERO;break;case 6:a.Jd=c.ZERO,a.Dd=c.SRC_ALPHA;break;case 7:a.Jd=c.ONE_MINUS_DST_ALPHA,a.Dd=c.ZERO;break;case 8:a.Jd=c.ZERO,a.Dd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Jd=c.DST_ALPHA,a.Dd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Jd=c.ONE_MINUS_DST_ALPHA,a.Dd=c.SRC_ALPHA}},gb=function(a){return Math.round(1e6*a)/1e6},hb=function(a,b){return"string"!=typeof a||"string"!=typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()},ib=function(a){return a=a.target,!a||a===document||a===window||document&&document.body&&a===document.body||hb(a.tagName,"canvas")?!0:!1}}(),ac="undefined"!=typeof Float32Array?Float32Array:Array,function(){function a(a){this.Bi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent),this.height=this.width=0,this.Cv=bc([0,0,100]),this.Gw=bc([0,0,0]),this.Gy=bc([0,1,0]),this.Su=bc([1,1,1]),this.Mv=!0,this.Kt=cc(),this.Cf=cc(),this.yw=cc(),this.Xr=cc(),this.Z=a,this.kw()}function b(a,b,c){this.Z=a,this.Jn=b,this.name=c,this.xf=a.getAttribLocation(b,"aPos"),this.Gi=a.getAttribLocation(b,"aTex"),this.Ew=a.getUniformLocation(b,"matP"),this.Lp=a.getUniformLocation(b,"matMV"),this.Pk=a.getUniformLocation(b,"opacity"),this.Fw=a.getUniformLocation(b,"samplerFront"),this.Wm=a.getUniformLocation(b,"samplerBack"),this.Jj=a.getUniformLocation(b,"destStart"),this.Ij=a.getUniformLocation(b,"destEnd"),this.ot=a.getUniformLocation(b,"seconds"),this.nt=a.getUniformLocation(b,"pixelWidth"),this.mt=a.getUniformLocation(b,"pixelHeight"),this.Vm=a.getUniformLocation(b,"layerScale"),this.Um=a.getUniformLocation(b,"layerAngle"),this.Ym=a.getUniformLocation(b,"viewOrigin"),this.Xm=a.getUniformLocation(b,"scrollPos"),this.pC=!!(this.nt||this.mt||this.ot||this.Wm||this.Jj||this.Ij||this.Vm||this.Um||this.Ym||this.Xm),this.Pw=this.Qw=-999,this.Np=1,this.Lw=this.Kw=0,this.Nw=this.Jw=this.Iw=1,this.Sw=this.Rw=this.Uw=this.Tw=this.Mw=0,this.bt=[],this.Ow=cc(),this.Pk&&a.uniform1f(this.Pk,1),this.Fw&&a.uniform1i(this.Fw,0),this.Wm&&a.uniform1i(this.Wm,1),this.Jj&&a.uniform2f(this.Jj,0,0),this.Ij&&a.uniform2f(this.Ij,1,1),this.Vm&&a.uniform1f(this.Vm,1),this.Um&&a.uniform1f(this.Um,0),this.Ym&&a.uniform2f(this.Ym,0,0),this.Xm&&a.uniform2f(this.Xm,0,0),this.wj=!1}function c(a,b){this.type=a,this.ba=b,this.Z=b.Z,this.tf=this.bf=this.Ax=0,this.Ab=this.jg=null,this.hy=[]}a.prototype.kw=function(){var b,c,d,e,a=this.Z;for(this.zw=1,this.Dj=this.Fi=null,this.Oo=1,a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),this.Aw=a.ONE,this.xw=a.ONE_MINUS_SRC_ALPHA,this.bu=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.bu),this.Wn=Array(4),this.On=Array(4),b=0;4>b;b++)this.Wn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Wn[b]),this.On[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.On[b]);for(this.ih=0,this.sC=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.sC),this.Ou=new Float32Array(16e3),this.zu=new Float32Array(16e3),this.Mx=new Float32Array(32e3),c=new Uint16Array(12e3),d=b=0;12e3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW),this.gl=this.$g=0,this.$c=[],b=this.Wr({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n	gl_FragColor = texture2D(samplerFront, vTex);\n	gl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n	gl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n	vTex = aTex;\n}","<default>"),this.$c.push(b),b=this.Wr({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n	gl_FragColor = texture2D(samplerFront, gl_PointCoord);\n	gl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n	gl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n	gl_PointSize = aPos.z;\n	opacity = aPos.w;\n}","<point>"),this.$c.push(b);for(e in kc)kc.hasOwnProperty(e)&&this.$c.push(this.Wr(kc[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n	gl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n	vTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),this.fh=[],this.ug=0,this.ye=this.ee=!1,this.Jv=this.Mm=-1,this.am=null,this.JB=a.createFramebuffer(),this.Yx=null,this.Zi=bc([0,0,0]),a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE),this.kD=a[0],this.Mt=a[1],2048<this.Mt&&(this.Mt=2048),this.Tg(0)},b.prototype.Hu=function(a){var b=this.Ow;(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])&&(hc(a,this.Ow),this.Z.uniformMatrix4fv(this.Lp,!1,a))},a.prototype.Wr=function(a,c,d){var g,e=this.Z,f=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(f,a.src),e.compileShader(f),!e.getShaderParameter(f,e.COMPILE_STATUS))return e.deleteShader(f),null;if(g=e.createShader(e.VERTEX_SHADER),e.shaderSource(g,c),e.compileShader(g),!e.getShaderParameter(g,e.COMPILE_STATUS))return e.deleteShader(f),e.deleteShader(g),null;if(c=e.createProgram(),e.attachShader(c,f),e.attachShader(c,g),e.linkProgram(c),!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(f),e.deleteShader(g),e.deleteProgram(c),null;for(e.useProgram(c),e.deleteShader(f),e.deleteShader(g),d=new b(e,c,d),d.fm=a.fm||0,d.gm=a.gm||0,d.Ko=!!a.Ko,d.ho=!!a.ho,d.Ia=a.Ia||[],a=0,f=d.Ia.length;f>a;a++)d.Ia[a][1]=e.getUniformLocation(c,d.Ia[a][0]),d.bt.push(0),e.uniform1f(d.Ia[a][1],0);return d},a.prototype.ys=function(a){var b,c;for(b=0,c=this.$c.length;c>b;b++)if(this.$c[b].name===a)return b;return-1},a.prototype.Qx=function(a,b,c){var d=this.Cf,e=this.Kt,f=[0,0,0,0,0,0,0,0];f[0]=d[0]*a+d[4]*b+d[12],f[1]=d[1]*a+d[5]*b+d[13],f[2]=d[2]*a+d[6]*b+d[14],f[3]=d[3]*a+d[7]*b+d[15],f[4]=e[0]*f[0]+e[4]*f[1]+e[8]*f[2]+e[12]*f[3],f[5]=e[1]*f[0]+e[5]*f[1]+e[9]*f[2]+e[13]*f[3],f[6]=e[2]*f[0]+e[6]*f[1]+e[10]*f[2]+e[14]*f[3],f[7]=-f[2],0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],c[0]=(.5*f[4]+.5)*this.width,c[1]=(.5*f[5]+.5)*this.height)},a.prototype.ml=function(a,b,c){var e,d,f,g;if(this.width!==a||this.height!==b||c){for(this.oh(),this.width=a,this.height=b,this.Z.viewport(0,0,a,b),b=a/b,d=this.Kt,e=1*Math.tan(45*Math.PI/360),b*=e,a=-b,c=-e,d||(d=cc()),f=b-a,g=e-c,d[0]=2/f,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=2/g,d[6]=0,d[7]=0,d[8]=(b+a)/f,d[9]=(e+c)/g,d[10]=-1001/999,d[11]=-1,d[12]=0,d[13]=0,d[14]=-2e3/999,d[15]=0,jc(this.Cv,this.Gw,this.Gy,this.Cf),a=[0,0],b=[0,0],this.Qx(0,0,a),this.Qx(1,1,b),this.Su[0]=1/(b[0]-a[0]),this.Su[1]=-1/(b[1]-a[1]),a=0,b=this.$c.length;b>a;a++)c=this.$c[a],c.wj=!1,c.Ew&&(this.Z.useProgram(c.Jn),this.Z.uniformMatrix4fv(c.Ew,!1,this.Kt));this.Z.useProgram(this.$c[this.Mm].Jn),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Dj=this.Fi=null}},a.prototype.Rg=function(){jc(this.Cv,this.Gw,this.Gy,this.Cf),ic(this.Cf,this.Su)},a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Zi[0]=a,this.Zi[1]=b,this.Zi[2]=0;var c=this.Cf,d=this.Zi,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12],c[13]=c[1]*e+c[5]*f+c[9]*d+c[13],c[14]=c[2]*e+c[6]*f+c[10]*d+c[14],c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}},a.prototype.scale=function(a,b){(1!==a||1!==b)&&(this.Zi[0]=a,this.Zi[1]=b,this.Zi[2]=1,ic(this.Cf,this.Zi))},a.prototype.mu=function(a){var c,b,d,e,f,g,h,i,j,k,l;0!==a&&(b=this.Cf,d=Math.sin(a),a=Math.cos(a),e=b[0],f=b[1],g=b[2],h=b[3],i=b[4],j=b[5],k=b[6],l=b[7],c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b,c[0]=e*a+i*d,c[1]=f*a+j*d,c[2]=g*a+k*d,c[3]=h*a+l*d,c[4]=e*-d+i*a,c[5]=f*-d+j*a,c[6]=g*-d+k*a,c[7]=h*-d+l*a)},a.prototype.Yg=function(){for(var a=!1,b=0;16>b;b++)if(this.yw[b]!==this.Cf[b]){a=!0;break}a&&(a=this.Jf(),a.type=5,a.Ab?hc(this.Cf,a.Ab):a.Ab=cc(this.Cf),hc(this.Cf,this.yw),this.ye=this.ee=!1)},c.prototype.WA=function(){this.Z.bindTexture(this.Z.TEXTURE_2D,this.jg)},c.prototype.XA=function(){var a=this.Z;a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.jg),a.activeTexture(a.TEXTURE0)},c.prototype.TA=function(){var a=this.Ax,b=this.ba;b.Oo=a,b=b.am,b.Pk&&b.Np!==a&&(b.Np=a,this.Z.uniform1f(b.Pk,a))},c.prototype.QA=function(){this.Z.drawElements(this.Z.TRIANGLES,this.tf,this.Z.UNSIGNED_SHORT,2*this.bf)},c.prototype.SA=function(){this.Z.blendFunc(this.bf,this.tf)},c.prototype.ZA=function(){var a,b,c,d=this.ba.$c,e=this.ba.Jv;for(a=0,b=d.length;b>a;a++)c=d[a],a===e&&c.Lp?(c.Hu(this.Ab),c.wj=!0):c.wj=!1;hc(this.Ab,this.ba.Xr)},c.prototype.RA=function(){var a=this.Z,b=this.ba;this.jg?(b.Dj===this.jg&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Dj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.JB),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.jg,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))},c.prototype.LA=function(){var a=this.Z;0===this.bf?(a.clearColor(this.Ab[0],this.Ab[1],this.Ab[2],this.Ab[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.Ab[0],this.Ab[1],this.Ab[2],this.Ab[3]),a.clearColor(0,0,0,0),a.clear(this.Z.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))},c.prototype.PA=function(){var a=this.Z,b=this.ba,c=b.$c[1];a.useProgram(c.Jn),!c.wj&&c.Lp&&(c.Hu(b.Xr),c.wj=!0),a.enableVertexAttribArray(c.xf),a.bindBuffer(a.ARRAY_BUFFER,b.bu),a.vertexAttribPointer(c.xf,4,a.FLOAT,!1,0,0),a.drawArrays(a.POINTS,this.bf/4,this.tf),c=b.am,a.useProgram(c.Jn),0<=c.xf&&(a.enableVertexAttribArray(c.xf),a.bindBuffer(a.ARRAY_BUFFER,b.Wn[b.ih]),a.vertexAttribPointer(c.xf,2,a.FLOAT,!1,0,0)),0<=c.Gi&&(a.enableVertexAttribArray(c.Gi),a.bindBuffer(a.ARRAY_BUFFER,b.On[b.ih]),a.vertexAttribPointer(c.Gi,2,a.FLOAT,!1,0,0))},c.prototype.UA=function(){var a=this.Z,b=this.ba,c=b.$c[this.bf];b.Jv=this.bf,b.am=c,a.useProgram(c.Jn),!c.wj&&c.Lp&&(c.Hu(b.Xr),c.wj=!0),c.Pk&&c.Np!==b.Oo&&(c.Np=b.Oo,a.uniform1f(c.Pk,b.Oo)),0<=c.xf&&(a.enableVertexAttribArray(c.xf),a.bindBuffer(a.ARRAY_BUFFER,b.Wn[b.ih]),a.vertexAttribPointer(c.xf,2,a.FLOAT,!1,0,0)),0<=c.Gi&&(a.enableVertexAttribArray(c.Gi),a.bindBuffer(a.ARRAY_BUFFER,b.On[b.ih]),a.vertexAttribPointer(c.Gi,2,a.FLOAT,!1,0,0))},c.prototype.VA=function(){var b,e,c=this.ba.am,d=this.Z,a=this.Ab;if(c.Wm&&this.ba.Dj!==this.jg&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.jg),this.ba.Dj=this.jg,d.activeTexture(d.TEXTURE0)),e=a[0],c.nt&&e!==c.Qw&&(c.Qw=e,d.uniform1f(c.nt,e)),e=a[1],c.mt&&e!==c.Pw&&(c.Pw=e,d.uniform1f(c.mt,e)),e=a[2],b=a[3],!c.Jj||e===c.Kw&&b===c.Lw||(c.Kw=e,c.Lw=b,d.uniform2f(c.Jj,e,b)),e=a[4],b=a[5],!c.Ij||e===c.Iw&&b===c.Jw||(c.Iw=e,c.Jw=e,d.uniform2f(c.Ij,e,b)),e=a[6],c.Vm&&e!==c.Nw&&(c.Nw=e,d.uniform1f(c.Vm,e)),e=a[7],c.Um&&e!==c.Mw&&(c.Mw=e,d.uniform1f(c.Um,e)),e=a[8],b=a[9],!c.Ym||e===c.Tw&&b===c.Uw||(c.Tw=e,c.Uw=b,d.uniform2f(c.Ym,e,b)),e=a[10],b=a[11],!c.Xm||e===c.Rw&&b===c.Sw||(c.Rw=e,c.Sw=b,d.uniform2f(c.Xm,e,b)),c.ot&&d.uniform1f(c.ot,Ta()/1e3),c.Ia.length)for(a=0,b=c.Ia.length;b>a;a++)e=this.hy[a],e!==c.bt[a]&&(c.bt[a]=e,d.uniform1f(c.Ia[a][1],e))},a.prototype.Jf=function(){return this.ug===this.fh.length&&this.fh.push(new c(0,this)),this.fh[this.ug++]},a.prototype.oh=function(){var a,b,c;if(0!==this.ug&&!this.Z.isContextLost()){for(a=this.Z,0<this.gl&&(a.bindBuffer(a.ARRAY_BUFFER,this.bu),a.bufferData(a.ARRAY_BUFFER,this.Mx.subarray(0,this.gl),a.STREAM_DRAW),b&&0<=b.xf&&"<point>"===b.name&&a.vertexAttribPointer(b.xf,4,a.FLOAT,!1,0,0)),0<this.$g&&(b=this.am,a.bindBuffer(a.ARRAY_BUFFER,this.Wn[this.ih]),a.bufferData(a.ARRAY_BUFFER,this.Ou.subarray(0,this.$g),a.STREAM_DRAW),b&&0<=b.xf&&"<point>"!==b.name&&a.vertexAttribPointer(b.xf,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,this.On[this.ih]),a.bufferData(a.ARRAY_BUFFER,this.zu.subarray(0,this.$g),a.STREAM_DRAW),b&&0<=b.Gi&&"<point>"!==b.name&&a.vertexAttribPointer(b.Gi,2,a.FLOAT,!1,0,0)),a=0,b=this.ug;b>a;a++)switch(c=this.fh[a],c.type){case 1:c.QA();break;case 2:c.WA();break;case 3:c.TA();break;case 4:c.SA();break;case 5:c.ZA();break;case 6:c.RA();break;case 7:c.LA();break;case 8:c.PA();break;case 9:c.UA();break;case 10:c.VA();break;case 11:c.XA()}this.gl=this.$g=this.ug=0,this.ye=this.ee=!1,this.ih++,4<=this.ih&&(this.ih=0)}},a.prototype.Ui=function(a){if(a!==this.zw){var b=this.Jf();b.type=3,this.zw=b.Ax=a,this.ye=this.ee=!1}},a.prototype.le=function(a){if(a!==this.Fi){var b=this.Jf();b.type=2,this.Fi=b.jg=a,this.ye=this.ee=!1}},a.prototype.Ti=function(a,b){if(a!==this.Aw||b!==this.xw){var c=this.Jf();c.type=4,c.bf=a,c.tf=b,this.Aw=a,this.xw=b,this.ye=this.ee=!1}},a.prototype.by=function(){this.Ti(this.Z.ONE,this.Z.ONE_MINUS_SRC_ALPHA)},a.prototype.Dn=function(a,b,c,d,e,f,g,h){var i,j,k,l;15992<=this.$g&&this.oh(),i=this.$g,j=this.Ou,k=this.zu,this.ee?this.fh[this.ug-1].tf+=6:(l=this.Jf(),l.type=1,l.bf=3*(i/4),l.tf=6,this.ee=!0,this.ye=!1),j[i]=a,k[i++]=0,j[i]=b,k[i++]=0,j[i]=c,k[i++]=1,j[i]=d,k[i++]=0,j[i]=e,k[i++]=1,j[i]=f,k[i++]=1,j[i]=g,k[i++]=0,j[i]=h,k[i++]=1,this.$g=i},a.prototype.Qh=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o;15992<=this.$g&&this.oh(),j=this.$g,k=this.Ou,l=this.zu,this.ee?this.fh[this.ug-1].tf+=6:(m=this.Jf(),m.type=1,m.bf=3*(j/4),m.tf=6,this.ee=!0,this.ye=!1),m=i.left,n=i.top,o=i.right,i=i.bottom,k[j]=a,l[j++]=m,k[j]=b,l[j++]=n,k[j]=c,l[j++]=o,k[j]=d,l[j++]=n,k[j]=e,l[j++]=o,k[j]=f,l[j++]=i,k[j]=g,l[j++]=m,k[j]=h,l[j++]=i,this.$g=j},a.prototype.BD=function(a,b,c,d){var e,f,g;7996<=this.gl&&this.oh(),e=this.gl,f=this.Mx,this.ye?this.fh[this.ug-1].tf++:(g=this.Jf(),g.type=8,g.bf=e,g.tf=1,this.ye=!0,this.ee=!1),f[e++]=a,f[e++]=b,f[e++]=c,f[e++]=d,this.gl=e},a.prototype.Tg=function(a){if(this.Mm!==a){if(!this.$c[a]){if(0===this.Mm)return;a=0}var b=this.Jf();b.type=9,this.Mm=b.bf=a,this.ye=this.ee=!1}},a.prototype.An=function(a){return a=this.$c[a],!(!a.Jj&&!a.Ij)},a.prototype.du=function(a){return a=this.$c[a],!!(a.Jj||a.Ij||a.Ko)},a.prototype.HD=function(a){return a=this.$c[a],0!==a.fm||0!==a.gm},a.prototype.ZB=function(a){return this.$c[a].fm},a.prototype.$B=function(a){return this.$c[a].gm},a.prototype.bw=function(a,b){return this.$c[a].Ia[b][2]},a.prototype.oq=function(a){return this.$c[a].ho},a.prototype.ll=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var p,q,o=this.$c[this.Mm];if(o.pC||n.length){if(p=this.Jf(),p.type=10,p.Ab?hc(this.Cf,p.Ab):p.Ab=cc(),q=p.Ab,q[0]=b,q[1]=c,q[2]=d,q[3]=e,q[4]=f,q[5]=g,q[6]=h,q[7]=i,q[8]=j,q[9]=k,q[10]=l,q[11]=m,p.jg=o.Wm?a:null,n.length)for(c=p.hy,c.length=n.length,a=0,b=n.length;b>a;a++)c[a]=n[a];this.ye=this.ee=!1}},a.prototype.clear=function(a,b,c,d){var e=this.Jf();e.type=7,e.bf=0,e.Ab||(e.Ab=cc()),e.Ab[0]=a,e.Ab[1]=b,e.Ab[2]=c,e.Ab[3]=d,this.ye=this.ee=!1},a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.Jf();e.type=7,e.bf=1,e.Ab||(e.Ab=cc()),e.Ab[0]=a,e.Ab[1]=b,e.Ab[2]=c,e.Ab[3]=d,this.ye=this.ee=!1}},a.prototype.GD=function(){this.oh(),this.Z.flush()};var d=[],e={};a.prototype.CA=function(){d.length=0,e={}},a.prototype.Nk=function(a,b,c,f){var g,h,i,j,k,l,m,n;if(b=!!b,c=!!c,g=a.src+","+b+","+c+(b?",undefined":""),h=null,"undefined"!=typeof a.src&&e.hasOwnProperty(g))return h=e[g],h.wo++,h;if(this.oh(),i=this.Z,j=la(a.width)&&la(a.height),h=i.createTexture(),i.bindTexture(i.TEXTURE_2D,h),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),k=i.RGBA,l=i.RGBA,m=i.UNSIGNED_BYTE,f&&!this.Bi)switch(f){case 1:l=k=i.RGB;break;case 2:m=i.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=i.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=k=i.RGB,m=i.UNSIGNED_SHORT_5_6_5}return!j&&b?(f=document.createElement("canvas"),f.width=ma(a.width),f.height=ma(a.height),n=f.getContext("2d"),n.webkitImageSmoothingEnabled=c,n.mozImageSmoothingEnabled=c,n.msImageSmoothingEnabled=c,n.imageSmoothingEnabled=c,n.drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height),i.texImage2D(i.TEXTURE_2D,0,k,l,m,f)):i.texImage2D(i.TEXTURE_2D,0,k,l,m,a),b?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE)),c?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),j&&this.Mv?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR),i.generateMipmap(i.TEXTURE_2D)):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST)),i.bindTexture(i.TEXTURE_2D,null),this.Fi=null,h.Ul=a.width,h.Tl=a.height,h.wo=1,h.Av=g,d.push(h),e[g]=h},a.prototype.hh=function(a,b,c,e){var f,g;return this.oh(),f=this.Z,this.Bi&&(e=!1),g=f.createTexture(),f.bindTexture(f.TEXTURE_2D,g),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,e?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,c?f.LINEAR:f.NEAREST),f.bindTexture(f.TEXTURE_2D,null),this.Fi=null,g.Ul=a,g.Tl=b,d.push(g),g},a.prototype.xE=function(a,b,c){this.oh();var d=this.Z;this.Bi&&(c=!1),d.bindTexture(d.TEXTURE_2D,b),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null),this.Fi=null},a.prototype.deleteTexture=function(a){a&&("undefined"!=typeof a.wo&&1<a.wo?a.wo--:(this.oh(),a===this.Fi&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Fi=null),a===this.Dj&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Dj=null),Da(d,a),"undefined"!=typeof a.Av&&delete e[a.Av],this.Z.deleteTexture(a)))},a.prototype.Sg=function(a){if(a!==this.Yx){var b=this.Jf();b.type=6,this.Yx=b.jg=a,this.ye=this.ee=!1}},jb=a}(),function(){function a(){return"undefined"!=typeof jQuery?jQuery(window).width():window.innerWidth}function b(){return"undefined"!=typeof jQuery?jQuery(window).height():window.innerHeight}function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.vf=(this.Em=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"==typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!=typeof window.device&&("undefined"!=typeof window.device.cordova||"undefined"!=typeof window.device.phonegap)||"undefined"!=typeof window.c2iscordova&&window.c2iscordova,this.Ed=!!a.dc,this.Dk="undefined"!=typeof window.AppMobi||this.Ed,this.uf=!!window.c2cocoonjs,this.Wf=!!window.c2ejecta,this.uf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)})),this.Wf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)})),this.hc=this.Ed||this.uf||this.Wf,this.Bi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent),this.rw=/tizen/i.test(navigator.userAgent),this.rp=/android/i.test(navigator.userAgent)&&!this.rw&&!this.Bi,this.Xs=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Bi,this.ww=/ipad/i.test(navigator.userAgent),this.wp=this.Xs||this.ww||this.Wf,this.GC=this.Xs&&/os\s6/i.test(navigator.userAgent),this.Dm=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Bi,this.Rs=/amazonwebappplatform/i.test(navigator.userAgent),this.zC=/firefox/i.test(navigator.userAgent),this.qw=/safari/i.test(navigator.userAgent)&&!this.Dm&&!this.Bi,this.DC=/windows/i.test(navigator.userAgent),this.Ci="undefined"!=typeof window.c2nodewebkit||"undefined"!=typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent),this.uw=!("undefined"==typeof window.c2isWindows8||!window.c2isWindows8),this.FC=!("undefined"==typeof window.c2isWindows8Capable||!window.c2isWindows8Capable),this.Ek=!("undefined"==typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8),this.Vs=!("undefined"==typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81),this.sw=this.uw||this.FC||this.Vs,this.yC=!("undefined"==typeof window.c2isBlackberry10||!window.c2isBlackberry10),this.sp=!(!this.rp||this.Dm||this.Em||this.zC||this.Rs||this.hc),this.devicePixelRatio=1,this.wh=this.vf||this.Em||this.Dk||this.uf||this.rp||this.wp||this.Ek||this.Vs||this.yC||this.rw||this.Wf,this.wh||(this.wh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent)),"undefined"==typeof cr_is_preview||this.Ci||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Ci=!0),this.canvas=a,this.Dv=document.getElementById("c2canvasdiv"),this.Hb=this.ba=this.Z=null,this.os="",this.bp=!1,this.tx=this.ux=0,this.canvas.oncontextmenu=function(a){return a.preventDefault&&a.preventDefault(),!1
},this.canvas.onselectstart=function(a){return a.preventDefault&&a.preventDefault(),!1},this.Ed&&(window.c2runtime=this),this.Ci&&(window.ondragover=function(a){return a.preventDefault(),!1},window.ondrop=function(a){return a.preventDefault(),!1},require("nw.gui").App.clearCache()),this.sp&&"undefined"!=typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible"),this.width=a.width,this.height=a.height,this.Ma=this.width,this.La=this.height,this.Mo=this.width,this.Lo=this.height,this.Om=window.innerWidth,this.Nm=window.innerHeight,this.LB=!1,this.Ta=!0,this.Gm=!1,Date.now||(Date.now=function(){return+new Date}),this.plugins=[],this.types={},this.aa=[],this.Cc=[],this.ht={},this.Yf=[],this.ds={},this.ph=[],this.xl=[],this.Uq=[],this.nA=[],this.oA=[],this.mj={},this.Ss=this.yi=!1,this.Re=0,this.Us=!1,this.Uf=[],this.zh=this.Qd=this.Gp=this.qu="",this.Mn=this.ky=!1,this.Ur=this.Zm=this.ri=this.Fa=0,this.Yi=1,this.Ae=new Za,this.ah=new Za,this.Vp=this.fp=this.qj=this.df=this.Fj=this.ms=this.Bp=0,this.Wl=null,this.To=[],this.cs=[],this.Xo=-1,this.pt=[[]],this.Eu=this.Mp=0,this.qq(null),this.jm=this.mx=this.qn=0,this.Nn=[],this.Bu=this.gu=-1,this.Jm=!0,this.Kp=0,this.Fm=!1,this.dE=0,this.qk=null,this.ze=this.Ds=!1,this.rx=new ba,this.Ut=new ba,this.Vt=new ba,this.tq=[],this.ig=new ab([]),this.yu=new ab([]),this.ok=[],this.np={},this.uk={},this.nk={},this.wl={},this.xv={},this.Dw=this.Fp=this.Be=this.Se=this.Cw=this.Ep=this.Cb=null,this.tl=this.Ws=!1,this.qs=[null,null],this.sj=0,this.gs="",this.Kh={},this.Eq=this.Ok=null,this.Up=[],this.MD()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,e){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=d,f.onerror=e,f.onsuccess=function(d){d=d.target.result,d.onerror=e,d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}function f(a,b,c){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d,e.onerror=c,e.onsuccess=function(d){d=d.target.result,d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}function g(){fa("Reloading for continuous preview"),window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function h(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!=typeof a[b].vg||(c[b]=a[b]);return c}var i,j,k,l,m,n,o,p,q,r;c.prototype.MD=function(){var d,a=this,b=this.Ek?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,c="data.js";if((this.uw||this.Ek||this.Vs)&&(c="data.json"),b.open("GET",c,!0),d=!1,!this.hc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(g){}this.Ek?b.onreadystatechange=function(){4===b.readyState&&a.Ip(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Ip(b.response);else if(a.Wf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Ip(JSON.parse(c))}else a.Ip(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":"),ga(a)}),b.send()},c.prototype.uC=function(){var d,e,f,g,h,i,j,k,l,c=this;this.devicePixelRatio=(this.Aj=(!this.hc||this.Wf)&&this.tE&&!this.sp)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1,this.Bd(),e=!(!this.LB&&(!this.Fr||this.Ci||this.sw||this.Ek||this.Em||this.vf||this.Rs)),0<this.we&&this.setSize(a(),b(),!0);try{this.fB&&(this.uf||this.Wf||!this.hc)&&(d={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.Z=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(m){}if(this.Z){for(this.hc||(this.zd=document.createElement("canvas"),jQuery(this.zd).appendTo(this.canvas.parentNode),this.zd.oncontextmenu=function(){return!1},this.zd.onselectstart=function(){return!1},this.zd.width=this.Mo,this.zd.height=this.Lo,jQuery(this.zd).css({width:this.Mo+"px",height:this.Lo+"px"}),this.Nx(),this.au=this.zd.getContext("2d")),this.ba=new jb(this.Z,this.wh),this.ba.ml(this.canvas.width,this.canvas.height),this.ba.Mv=0!==this.$A,this.Hb=null,this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault(),c.pD(),fa("[Construct 2] WebGL context lost"),window.cr_setSuspended(!0)},!1),this.canvas.addEventListener("webglcontextrestored",function(){c.ba.kw(),c.ba.ml(c.ba.width,c.ba.height,!0),c.Se=null,c.Be=null,c.qs[0]=null,c.qs[1]=null,c.qD(),c.Ta=!0,fa("[Construct 2] WebGL context restored"),window.cr_setSuspended(!1)},!1),d=0,e=this.aa.length;e>d;d++)for(h=this.aa[d],f=0,g=h.Ga.length;g>f;f++)j=h.Ga[f],j.rd=this.ba.ys(j.id),this.tl=this.tl||this.ba.An(j.rd);for(d=0,e=this.Yf.length;e>d;d++){for(k=this.Yf[d],f=0,g=k.Ga.length;g>f;f++)j=k.Ga[f],j.rd=this.ba.ys(j.id);for(f=0,g=k.Na.length;g>f;f++)for(l=k.Na[f],h=0,i=l.Ga.length;i>h;h++)j=l.Ga[h],j.rd=this.ba.ys(j.id),this.tl=this.tl||this.ba.An(j.rd)}}else{if(0<this.we&&this.Ed){this.canvas=null,document.oncontextmenu=function(){return!1},document.onselectstart=function(){return!1},this.Hb=AppMobi.canvas.getContext("2d");try{this.Hb.samplingMode=this.ab?"smooth":"sharp",this.Hb.globalScale=1,this.Hb.HTML5CompatibilityMode=!0,this.Hb.imageSmoothingEnabled=this.ab}catch(n){}0!==this.width&&0!==this.height&&(this.Hb.width=this.width,this.Hb.height=this.height)}this.Hb||(d=this.uf?{antialias:!!this.ab,alpha:e}:{alpha:e},this.Hb=this.canvas.getContext("2d",d),this.Hb.webkitImageSmoothingEnabled=this.ab,this.Hb.mozImageSmoothingEnabled=this.ab,this.Hb.msImageSmoothingEnabled=this.ab,this.Hb.imageSmoothingEnabled=this.ab),this.au=this.zd=null}this.yy=function(a){c.fc(!1,a)},window==window.top||this.hc||this.sw||this.Ek||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0)),"undefined"!=typeof cr_is_preview&&(this.uf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Gp="__c2_continuouspreview",this.Mn=!0),this.zD&&!this.wh&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)}))),this.hc||(d=function(a){if(ib(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d)),0===this.we&&this.Aj&&1<this.devicePixelRatio&&this.setSize(this.Yc,this.Xc,!0),this.Cy(),this.mC(),this.go(),this.da={}},c.prototype.setSize=function(a,b,c){var h,i,j,d=0,e=0,f=0,g=0;g=0,h=this.GC&&this.qw&&!navigator.standalone&&!this.hc&&!this.vf,h&&(b+=60),(this.Om!==a||this.Nm!==b||c)&&(this.Om=a,this.Nm=b,i=this.we,j=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Fm)&&!this.vf,(j||0!==this.we||c)&&(j&&0<this.sj&&(i=this.sj),c=this.devicePixelRatio,i>=4?(f=this.Yc/this.Xc,a/b>f?(f*=b,5===i?(g=f*c/this.Yc,g>1?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),f=this.Yc*g/c,g=this.Xc*g/c,d=(a-f)/2,e=(b-g)/2,a=f,b=g):(d=(a-f)/2,a=f)):(g=a/f,5===i?(g=g*c/this.Xc,g>1?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),f=this.Yc*g/c,g=this.Xc*g/c,d=(a-f)/2,e=(b-g)/2,a=f):e=(b-g)/2,b=g),j&&!this.Ci&&(e=d=0)):this.Ci&&this.Fm&&0===this.Tv&&(d=Math.floor((a-this.Yc)/2),e=Math.floor((b-this.Xc)/2),a=this.Yc,b=this.Xc),2>i&&(this.Sl=c),this.Aj&&this.ww&&c>1&&(a>=1024&&(a=1023),b>=1024&&(b=1023)),this.Mo=Math.round(a),this.Lo=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ta=!0,this.Ry?(this.Ma=this.width,this.La=this.height,this.rf=!0):this.width<this.Yc&&this.height<this.Xc||1===i?(this.Ma=this.width,this.La=this.height,this.rf=!0):(this.Ma=this.Yc,this.La=this.Xc,this.rf=!1,2===i?(f=this.Yc/this.Xc,i=this.Om/this.Nm,f>i?this.Ma=this.La*i:i>f&&(this.La=this.Ma/i)):3===i&&(f=this.Yc/this.Xc,i=this.Om/this.Nm,i>f?this.Ma=this.La*i:f>i&&(this.La=this.Ma/i))),this.Dv&&!this.hc&&(jQuery(this.Dv).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!=typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Wf?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Aj&&!this.hc&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.zd&&(this.zd.width=Math.round(a),this.zd.height=Math.round(b),jQuery(this.zd).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.ba&&this.ba.ml(Math.round(a*c),Math.round(b*c)),this.Ed&&this.Hb&&(this.Hb.width=Math.round(a),this.Hb.height=Math.round(b)),this.Hb&&(this.Hb.webkitImageSmoothingEnabled=this.ab,this.Hb.mozImageSmoothingEnabled=this.ab,this.Hb.msImageSmoothingEnabled=this.ab,this.Hb.imageSmoothingEnabled=this.ab),this.Cy(),this.hc||!h&&!this.Xs||window.setTimeout(function(){window.scrollTo(0,1)},100)))},c.prototype.Cy=function(){if(this.tA&&0!==this.Zt){var a="portrait";2===this.Zt&&(a="landscape"),screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}},c.prototype.pD=function(){this.ba.CA(),this.Ws=!0;var a,b,c;for(a=0,b=this.aa.length;b>a;a++)c=this.aa[a],c.sn&&c.sn()},c.prototype.qD=function(){this.Ws=!1;var a,b,c;for(a=0,b=this.aa.length;b>a;a++)c=this.aa[a],c.Yp&&c.Yp()},c.prototype.Nx=function(){if(!this.hc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Fm)&&!this.vf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute",jQuery(this.zd).css(a)}},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame,c.prototype.setSuspended=function(a){var b;if(a&&!this.Gm)for(fa("[Construct 2] Suspending"),this.Gm=!0,-1!==this.gu&&i&&i(this.gu),-1!==this.Bu&&clearTimeout(this.Bu),a=0,b=this.Nn.length;b>a;a++)this.Nn[a](!0);else if(!a&&this.Gm){for(fa("[Construct 2] Resuming"),this.Gm=!1,this.Bp=Ta(),this.Fj=Ta(),a=this.Zm=this.fp=0,b=this.Nn.length;b>a;a++)this.Nn[a](!1);this.fc(!1)}},c.prototype.kA=function(a){this.Nn.push(a)},c.prototype.ei=function(a){return this.Up[a]},c.prototype.Ip=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(a&&a.project||ga("Project model unavailable"),a=a.project,this.name=a[0],this.Rv=a[1],this.we=a[12],this.Tv=a[12],this.Yc=a[10],this.Xc=a[11],this.Hx=this.Yc/2,this.Ix=this.Xc/2,this.hc&&!this.Wf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Tv=this.we=3),this.Nu=a[18],this.Tm=a[19],0===this.Tm&&(this.Ok=new Image,this.Ok.src="loading-logo.png"),this.qn=a[21],this.Up=lc(),this.Ug=new K(this),b=0,c=a[2].length;c>b;b++)h=a[2][b],d=this.ei(h[0]),kb(h,d.prototype),j=new d(this),j.Cq=h[1],j.Ei=h[2],j.jx=h[9],j.ya&&j.ya(),this.plugins.push(j);for(this.Up=lc(),b=0,c=a[3].length;c>b;b++){for(h=a[3][b],f=this.ei(h[1]),j=null,d=0,e=this.plugins.length;e>d;d++)if(this.plugins[d]instanceof f){j=this.plugins[d];break}for(k=new j.tb(j),k.name=h[0],k.ma=h[2],k.Ps=h[3].slice(0),k.wE=h[3].length,k.vA=h[4],k.NB=h[5],k.Wa=h[11],k.ma?(k.$k=[],k.qh=this.jm++,k.ac=null):(k.$k=null,k.qh=-1,k.ac=[]),k.Zo=null,k.zk=null,k.Nv=null,k.he=!1,k.te=null,h[6]?(k.Mq=h[6][0],k.Au=h[6][1],k.Pn=h[6][2]):(k.Mq=null,k.Au=0,k.Pn=0),k.qe=h[7]?h[7]:null,k.index=b,k.C=[],k.Qo=[],k.Wi=[new lb(k)],k.mh=0,k.of=null,k.HA=0,k.rl=!0,k.Wq=mb,k.Yv=nb,k.XB=ob,k.Va=pb,k.Cn=rb,k.pq=sb,k.Zj=tb,k.hp=ub,k.ss=vb,k.vs=wb,k.Sf=xb,k.Zv=yb,k.Xl=new cb(this.Yc,this.Xc),k.jo=!0,k.ko=!1,k.da={},k.toString=zb,k.Cc=[],d=0,e=h[8].length;e>d;d++){for(i=h[8][d],l=this.ei(i[1]),m=null,f=0,g=this.Cc.length;g>f;f++)if(this.Cc[f]instanceof l){m=this.Cc[f];break}m||(m=new l(this),m.kx=[],m.St=new ba,m.ya&&m.ya(),this.Cc.push(m)),-1===m.kx.indexOf(k)&&m.kx.push(k),f=new m.tb(m,k),f.name=i[0],f.Wa=i[2],f.ya(),k.Cc.push(f)}for(k.global=h[9],k.Ts=h[10],k.Ga=[],d=0,e=h[12].length;e>d;d++)k.Ga.push({id:h[12][d][0],name:h[12][d][1],rd:-1,Zb:!0,index:d});k.ZF=h[13],this.Nu&&!k.ma&&!k.Ts&&j.Ei||k.ya(),k.name&&(this.types[k.name]=k),this.aa.push(k),j.Cq&&(d=new j.Xa(k),d.uid=this.qn++,d.Sx=this.mx++,d.yj=0,d.wm=Ab,d.toString=Bb,d.Y=h[14],d.ya(),k.C.push(d),this.Kh[d.uid.toString()]=d)}for(b=0,c=a[4].length;c>b;b++)for(f=a[4][b],g=this.aa[f[0]],d=1,e=f.length;e>d;d++)h=this.aa[f[d]],h.ac.push(g),g.$k.push(h);for(b=0,c=a[27].length;c>b;b++){for(f=a[27][b],g=[],d=0,e=f.length;e>d;d++)g.push(this.aa[f[d]]);for(d=0,e=g.length;e>d;d++)g[d].he=!0,g[d].te=g}if(0<this.jm)for(b=0,c=this.aa.length;c>b;b++)if(h=this.aa[b],!h.ma&&h.ac.length){for(h.Zo=Array(this.jm),h.zk=Array(this.jm),h.Nv=Array(this.jm),k=[],d=m=l=i=0,e=h.ac.length;e>d;d++)for(j=h.ac[d],h.Zo[j.qh]=i,i+=j.wE,h.zk[j.qh]=l,l+=j.vA,h.Nv[j.qh]=m,m+=j.NB,f=0,g=j.Ga.length;g>f;f++)k.push(wa({},j.Ga[f]));for(h.Ga=k.concat(h.Ga),d=0,e=h.Ga.length;e>d;d++)h.Ga[d].index=d}for(b=0,c=a[5].length;c>b;b++)h=a[5][b],d=new Cb(this,h),this.ht[d.name]=d,this.Yf.push(d);for(b=0,c=a[6].length;c>b;b++)h=a[6][b],d=new Db(this,h),this.ds[d.name]=d,this.ph.push(d);for(b=0,c=this.ph.length;c>b;b++)this.ph[b].xc();for(b=0,c=this.ph.length;c>b;b++)this.ph[b].Gu();for(b=0,c=this.Uq.length;c>b;b++)this.Uq[b].xc();this.Uq.length=0,this.sA=a[7],this.gs=a[8],this.Gf=a[9],this.Sl=1,this.fB=a[13],this.ab=a[14],this.Fr=a[15],this.tE=a[17],this.Zt=a[20],this.tA=0<this.Zt,this.zD=a[22],this.rf=this.Ry=a[23],this.$A=a[24],this.ED=a[25],this.Hq=Date.now(),this.Up.length=0,this.uC()},j=!1,c.prototype.Qu=function(a,b){a.cocoonLazyLoad=!0,a.onerror=function(b){j=a.zv=!0,console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)},this.Wf?a.src=b:a.src||("undefined"!=typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){j=a.zv=!0,console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b),this.xl.push(a)},c.prototype.KB=function(a){var b,c;for(b=0,c=this.xl.length;c>b;b++)if(this.xl[b].DA===a)return this.xl[b];return null},k=0,l=!1,c.prototype.mC=function(){this.qk&&(k=this.qk.aE(this.sA))},c.prototype.vv=function(){var e,f,g,a=k,b=0,c=0,d=!0;for(c=0,e=this.xl.length;e>c;c++)f=this.xl[c],g=f.Hv,(!g||0>=g)&&(g=5e4),a+=g,f.src&&(f.complete||f.loaded)&&!f.zv?b+=g:d=!1;return d&&this.ED&&this.qk&&(l||(this.qk.eE(),l=!0),c=this.qk.YB(),b+=c,k>c&&(d=!1)),this.pb=0==a?0:b/a,d},c.prototype.go=function(){var a,b,c,d,e,i,f,g,h;(this.Hb||this.ba)&&(a=this.Hb||this.au,this.zd&&this.Nx(),this.pb=0,this.Bw=-1,this.vv()?this.nC():(b=Date.now()-this.Hq,a&&(c=this.width,d=this.height,e=this.devicePixelRatio,this.zd&&(c=this.Mo,d=this.Lo,e=1),3!==this.Tm&&(this.uf||b>=500&&this.Bw!=this.pb)&&(a.clearRect(0,0,c,d),b=c/2,d/=2,c=0===this.Tm&&this.Ok.complete,f=40*e,g=0,h=80*e,c&&(h=this.Ok.width*e,i=this.Ok.height*e,f=h/2,g=i/2,a.drawImage(this.Ok,ra(b-f),ra(d-g),h,i)),1>=this.Tm?(b=ra(b-f)+.5,d=ra(d+(g+(c?12*e:0)))+.5,a.fillStyle=j?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(h*this.pb),6*e),a.strokeStyle="black",a.strokeRect(b,d,h,6*e),a.strokeStyle="white",a.strokeRect(b-1*e,d-1*e,h+2*e,8*e)):2===this.Tm&&(a.font=this.Wf?"12pt ArialMT":"12pt Arial",a.fillStyle=j?"#f00":"#999",a.YF="middle",e=Math.round(100*this.pb)+"%",c=a.measureText?a.measureText(e):null,a.fillText(e,b-(c?c.width:0)/2,d))),this.Bw=this.pb),setTimeout(function(a){return function(){a.go()}}(this),this.uf?10:100)))},c.prototype.nC=function(){this.zd&&(this.canvas.parentNode.removeChild(this.zd),this.zd=this.au=null),this.Hq=Date.now(),this.Fj=Ta();var a,b,c;if(this.Nu)for(a=0,b=this.aa.length;b>a;a++)c=this.aa[a],c.ma||c.Ts||!c.yb.Ei||c.ya();else this.Jm=!1;for(a=0,b=this.Yf.length;b>a;a++)this.Yf[a].EA();for(2<=this.we&&(a=this.Yc/this.Xc,b=this.width/this.height,this.Sl=2!==this.we&&b>a||2===this.we&&a>b?this.height/this.Xc:this.width/this.Yc),this.Rv?this.ht[this.Rv].wu():this.Yf[0].wu(),this.Nu||(this.Kp=1,this.trigger(K.prototype.M.bv,null)),navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide(),a=0,b=this.aa.length;b>a;a++)c=this.aa[a],c.oD&&c.oD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.fc(!1),this.Ed&&AppMobi.webview.execute("onGameReady();")},m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,c.prototype.fc=function(c,d,e){var f,g;this.Cb&&(f=Ta(),(e||!this.Gm||c)&&(c||(m?this.gu=m(this.yy):this.Bu=setTimeout(this.yy,this.wh?1:16)),d=d||f,g=this.we,((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.vf)||this.Fm)&&0<this.sj&&(g=this.sj),g>0&&(!this.wp||window.self!==window.top)&&(g=window.innerHeight,this.Om===window.innerWidth&&this.Nm===g||this.setSize(a(),b())),this.hc||(e?(this.bp||(this.os=jQuery(this.canvas).css("margin")||"0",this.bp=!0),this.Dm||this.Ci||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.bp?(this.Dm||this.Ci||jQuery(this.canvas).css("margin",this.os),this.os="",this.bp=!1,0===this.we&&this.setSize(Math.round(this.ux/this.devicePixelRatio),Math.round(this.tx/this.devicePixelRatio),!0)):(this.ux=this.width,this.tx=this.height)),this.Jm&&(e=this.vv(),this.Kp=this.pb,e&&(this.Jm=!1,this.pb=1,this.trigger(K.prototype.M.bv,null))),this.LC(d),!this.Ta&&!this.uf||this.Ws||this.Mn||c||(this.Ta=!1,this.ba?this.de():this.ue(),this.Eq&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Eq[0],this.Eq[1]),this.trigger(K.prototype.M.sz,null)),this.Eq=null)),this.TF||(this.df++,this.qj++,this.fp++),this.Zm+=Ta()-f))},c.prototype.LC=function(a){var b,c,d,e,f,g,h,i;for(1e3<=a-this.Fj&&(this.Fj+=1e3,1e3<=a-this.Fj&&(this.Fj=a),this.ms=this.fp,this.fp=0,this.Ur=this.Zm,this.Zm=0),0!==this.Bp&&(b=a-this.Bp,0>b&&(b=0),this.ri=b/1e3,.5<this.ri?this.ri=0:.1<this.ri&&(this.ri=.1)),this.Bp=a,this.Fa=this.ri*this.Yi,this.Ae.add(this.Fa),this.ah.add(this.ri),a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Fm)&&!this.vf,2<=this.we||a&&0<this.sj?(b=this.Yc/this.Xc,c=this.width/this.height,d=this.we,a&&0<this.sj&&(d=this.sj),this.Sl=2!==d&&c>b||2===d&&b>c?this.height/this.Xc:this.width/this.Yc,this.Cb&&(this.Cb.$x(this.Cb.scrollX),this.Cb.ay(this.Cb.scrollY))):this.Sl=this.Aj?this.devicePixelRatio:1,this.Bd(),this.Re++,this.Ug.RD(),this.Re--,this.Bd(),this.Re++,c=this.rx.Zg(),a=0,b=c.length;b>a;a++)c[a].VF();for(a=0,b=this.aa.length;b>a;a++)if(g=this.aa[a],!g.ma&&(g.Cc.length||g.ac.length))for(c=0,d=g.C.length;d>c;c++)for(h=g.C[c],e=0,f=h.Ka.length;f>e;e++)h.Ka[e].fc();for(a=0,b=this.aa.length;b>a;a++)if(g=this.aa[a],!g.ma&&(g.Cc.length||g.ac.length))for(c=0,d=g.C.length;d>c;c++)for(h=g.C[c],e=0,f=h.Ka.length;f>e;e++)i=h.Ka[e],i.DD&&i.DD();for(c=this.Ut.Zg(),a=0,b=c.length;b>a;a++)c[a].fc();for(this.Re--,this.oC(),a=0;this.Wl&&10>a++;)this.Lv(this.Wl);for(a=0,b=this.ph.length;b>a;a++)this.ph[a].Fs=!1;for(this.Cb.oj&&this.Cb.oj.Ic(),this.tq.length=0,this.Re++,a=0,b=this.aa.length;b>a;a++)if(g=this.aa[a],!g.ma&&(g.Cc.length||g.ac.length))for(c=0,d=g.C.length;d>c;c++)for(h=g.C[c],e=0,f=h.Ka.length;f>e;e++)i=h.Ka[e],i.Qn&&i.Qn();for(c=this.Vt.Zg(),a=0,b=c.length;b>a;a++)c[a].Qn();this.Re--},c.prototype.Lv=function(a){var c,d,e,f,g,h,i,b=this.Cb;if(this.Cb.gE(),this.ba)for(c=0,d=this.aa.length;d>c;c++)g=this.aa[c],g.ma||!g.Vq||g.global&&0!==g.C.length||-1!==a.Bm.indexOf(g)||g.Vq();for(b==a&&(this.Ug.me.length=0),a.wu(),c=0,d=this.aa.length;d>c;c++)if(g=this.aa[c],g.global||g.yb.Cq)for(a=0,b=g.C.length;b>a;a++)if(h=g.C[a],h.Xt&&h.Xt(),h.Ka)for(e=0,f=h.Ka.length;f>e;e++)i=h.Ka[e],i.Xt&&i.Xt();this.Ta=!0,this.Bd()},c.prototype.Pq=function(a){this.Ut.add(a)},c.prototype.lE=function(a){this.Vt.add(a)},c.prototype.tj=function(a){return a&&-1!==a.pn?this.ri*a.pn:this.Fa},c.prototype.ue=function(){this.Cb.ue(this.Hb),this.Ed&&this.Hb.present()},c.prototype.de=function(){this.Cb.de(this.ba),this.ba.GD()},c.prototype.fo=function(a){a&&this.To.push(a)},c.prototype.Xx=function(a){Da(this.To,a)},c.prototype.xi=function(a){return a=a.toString(),this.Kh.hasOwnProperty(a)?this.Kh[a]:null},n=[],c.prototype.dh=function(a){var c,b=a.type.name,d=null;if(this.mj.hasOwnProperty(b)){if(d=this.mj[b],d.contains(a))return}else d=n.length?n.pop():new ba,this.mj[b]=d;if(d.add(a),this.yi=!0,a.he)for(b=0,c=a.siblings.length;c>b;b++)this.dh(a.siblings[b]);this.Ss&&d.ul.push(a),this.Re++,this.trigger(Object.getPrototypeOf(a.type.yb).M.uz,a),this.Re--},c.prototype.Bd=function(){if(this.yi){var a,b,c,d,e,f;for(this.Ss=!0,c=0,e=this.Uf.length;e>c;++c)for(a=this.Uf[c],b=a.type,b.C.push(a),d=0,f=b.ac.length;f>d;++d)b.ac[d].C.push(a),b.ac[d].rl=!0;this.Uf.length=0,this.kz(),Ra(this.mj),this.yi=this.Ss=!1}},c.prototype.kz=function(){for(var a in this.mj)this.mj.hasOwnProperty(a)&&this.Wy(this.mj[a])},c.prototype.Wy=function(a){var d,e,f,g,h,i,b=a.Zg(),c=b[0].type;for(Ua(c.C,a),c.rl=!0,0===c.C.length&&(c.ko=!1),d=0,e=c.ac.length;e>d;++d)i=c.ac[d],Ua(i.C,a),i.rl=!0;for(d=0,e=this.Ug.me.length;e>d;++d)if(h=this.Ug.me[d],h.Wd.hasOwnProperty(c.index)&&Ua(h.Wd[c.index].sh,a),!c.ma)for(f=0,g=c.ac.length;g>f;++f)i=c.ac[f],h.Wd.hasOwnProperty(i.index)&&Ua(h.Wd[i.index].sh,a);if(h=b[0].L){if(h.kg)for(f=h.C,d=0,e=f.length;e>d;++d)g=f[d],a.contains(g)&&(g.sb(),h.Ge.update(g,g.je,null),g.je.set(0,0,-1,-1));Ua(h.C,a),h.Hn(0)}for(d=0;d<b.length;++d)this.Vy(b[d],c);a.clear(),n.push(a),this.Ta=!0},c.prototype.Vy=function(a,b){var c,d,e;for(c=0,d=this.To.length;d>c;++c)this.To[c](a);if(a.kf&&b.Xl.update(a,a.kf,null),(c=a.L)&&c.il(a,!0),a.Ka)for(c=0,d=a.Ka.length;d>c;++c)e=a.Ka[c],e.Lh&&e.Lh(),e.behavior.St.remove(a);this.rx.remove(a),this.Ut.remove(a),this.Vt.remove(a),a.Lh&&a.Lh(),this.Kh.hasOwnProperty(a.uid.toString())&&delete this.Kh[a.uid.toString()],this.Vp--,100>b.Qo.length&&b.Qo.push(a)},c.prototype.Vr=function(a,b,c,d){if(a.ma){var e=ra(Math.random()*a.$k.length);return this.Vr(a.$k[e],b,c,d)}return a.of?this.pi(a.of,b,!1,c,d,!1):null},o=[],c.prototype.pi=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,p,q,r;if(!a)return null;if(k=this.aa[a[1]],l=k.yb.Ei,this.Jm&&l&&!k.Ts||l&&!this.ba&&11===a[0][11])return null;for(m=b,l||(b=null),k.Qo.length?(n=k.Qo.pop(),n.Id=!0,k.yb.Xa.call(n,k)):(n=new k.yb.Xa(k),n.Id=!1),n.uid=!c||f||this.Kh.hasOwnProperty(a[2].toString())?this.qn++:a[2],this.Kh[n.uid.toString()]=n,n.Sx=this.mx++,n.yj=k.C.length,g=0,h=this.Uf.length;h>g;++g)this.Uf[g].type===k&&n.yj++;if(n.wm=Ab,n.toString=Bb,i=a[3],n.Id)Ra(n.da);else{if(n.da={},"undefined"!=typeof cr_is_preview)for(n.nw=[],n.nw.length=i.length,g=0,h=i.length;h>g;g++)n.nw[g]=i[g][1];n.Vc=[],n.Vc.length=i.length}for(g=0,h=i.length;h>g;g++)n.Vc[g]=i[g][0];if(l){if(p=a[0],n.x=ha(d)?p[0]:d,n.y=ha(e)?p[1]:e,n.z=p[2],n.width=p[3],n.height=p[4],n.depth=p[5],n.H=p[6],n.opacity=p[7],n.fe=p[8],n.ge=p[9],n.$d=p[10],g=p[11],!this.ba&&k.Ga.length&&(n.$d=g),n.Yl=eb(n.$d),this.Z&&fb(n,n.$d,this.Z),n.Id){for(g=0,h=p[12].length;h>g;g++)for(i=0,j=p[12][g].length;j>i;i++)n.$b[g][i]=p[12][g][i];n.gc.set(0,0,0,0),n.kf.set(0,0,-1,-1),n.je.set(0,0,-1,-1),n.Eb.ol(n.gc),n.Ir.length=0}else{for(n.$b=p[12].slice(0),g=0,h=n.$b.length;h>g;g++)n.$b[g]=p[12][g].slice(0);n.lb=[],n.hi=[],n.hi.length=k.Ga.length,n.gc=new ua(0,0,0,0),n.kf=new ua(0,0,-1,-1),n.je=new ua(0,0,-1,-1),n.Eb=new va,n.Ir=[],n.Db=Eb,n.lA=Fb,n.Nd=Gb,n.sb=Hb,n.sE=Ib,n.Lu=Jb,n.zg=Kb}for(n.Wh=!1,n.oE=0,n.nE=0,n.mE=null,14===p.length&&(n.Wh=!0,n.oE=p[13][0],n.nE=p[13][1],n.mE=p[13][2]),g=0,h=k.Ga.length;h>g;g++)n.hi[g]=!0;n.Zh=Lb,n.Zh(),n.Oy=!!n.lb.length,n.qo=!0,n.Jr=!0,k.jo=!0,n.visible=!0,n.pn=-1,n.L=b,n.lg=b.C.length,"undefined"==typeof n.Qa&&(n.Qa=null),this.Ta=n.lf=!0}for(g=o.length=0,h=k.ac.length;h>g;g++)o.push.apply(o,k.ac[g].Cc);if(o.push.apply(o,k.Cc),n.Id)for(g=0,h=o.length;h>g;g++){for(r=o[g],q=n.Ka[g],q.Id=!0,r.behavior.Xa.call(q,r,n),p=a[4][g],i=0,j=p.length;j>i;i++)q.Y[i]=p[i];q.ya(),r.behavior.St.add(n)}else for(n.Ka=[],g=0,h=o.length;h>g;g++)r=o[g],q=new r.behavior.Xa(r,n),q.Id=!1,q.Y=a[4][g].slice(0),q.ya(),n.Ka.push(q),r.behavior.St.add(n);if(p=a[5],n.Id)for(g=0,h=p.length;h>g;g++)n.Y[g]=p[g];else n.Y=p.slice(0);if(this.Uf.push(n),this.yi=!0,b&&(b.Rl(n,!0),1!==b.Ef||1!==b.Ff)&&(k.ko=!0),this.Vp++,k.he){if(n.he=!0,n.Id?n.siblings.length=0:n.siblings=[],!c&&!f){for(g=0,h=k.te.length;h>g;g++)if(k.te[g]!==k){if(!k.te[g].of)return null;n.siblings.push(this.pi(k.te[g].of,m,!1,l?n.x:d,l?n.y:e,!0))}for(g=0,h=n.siblings.length;h>g;g++)for(n.siblings[g].siblings.push(n),i=0;h>i;i++)g!==i&&n.siblings[g].siblings.push(n.siblings[i])}}else n.he=!1,n.siblings=null;for(n.ya(),g=0,h=n.Ka.length;h>g;g++)n.Ka[g].Ox&&n.Ka[g].Ox();return n},c.prototype.ws=function(a){var c,d,b=0;for(c=this.Cb.Na.length;c>b;b++)if(d=this.Cb.Na[b],hb(d.name,a))return d;return null},c.prototype.tm=function(a){return a=ra(a),0>a&&(a=0),a>=this.Cb.Na.length&&(a=this.Cb.Na.length-1),this.Cb.Na[a]},c.prototype.Or=function(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b].Va().qb=!0},c.prototype.Cn=function(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b].Cn()},c.prototype.pq=function(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b].pq()},c.prototype.Zj=function(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b].Zj()},c.prototype.Iy=function(a){if(a.jo){var b,c,d=a.C;for(b=0,c=d.length;c>b;++b)d[b].Lu();for(d=this.Uf,b=0,c=d.length;c>b;++b)d[b].type===a&&d[b].Lu();a.jo=!1}},c.prototype.RB=function(a,b,c,d){var e,f,g=a?1!==a.Ef||1!==a.Ff:!1;if(b.ma)for(a=0,e=b.$k.length;e>a;++a)f=b.$k[a],g||f.ko?Ba(d,f.C):(this.Iy(f),f.Xl.rq(c,d));else g||b.ko?Ba(d,b.C):(this.Iy(b),b.Xl.rq(c,d))},c.prototype.Lq=function(a,b,c){var e,f,g,h,i,j,d=a.Va();if(d.qb)for(d.qb=!1,e=d.C.length=0,h=a.C.length;h>e;e++)g=a.C[e],g.sb(),i=g.L.se(b,c,!0),j=g.L.se(b,c,!1),g.Nd(i,j)&&d.C.push(g);else{for(e=f=0,h=d.C.length;h>e;e++)g=d.C[e],g.sb(),i=g.L.se(b,c,!0),j=g.L.se(b,c,!1),g.Nd(i,j)&&(d.C[f]=d.C[e],f++);d.C.length=f}return a.Sf(),d.Es()},c.prototype.kE=function(a,b){if(!(a&&b&&a!==b&&a.lf&&b.lf))return!1;a.sb(),b.sb();var e,f,g,h,i,j,k,l,c=a.L,d=b.L;if(c===d||c.Ef===d.Ef&&d.Ff===d.Ff&&c.scale===d.scale&&c.H===d.H&&c.mg===d.mg)return!a.gc.vC(b.gc)||!a.Eb.ow(b.Eb)||a.Wh&&b.Wh?!1:a.Wh?this.wy(a,b):b.Wh?this.wy(b,a):(k=a.Qa&&!a.Qa.Cj(),e=b.Qa&&!b.Qa.Cj(),k||e?(k?(a.Qa.ij(a.width,a.height,a.H),k=a.Qa):(this.ig.nl(a.Eb,a.x,a.y,a.width,a.height),k=this.ig),e?(b.Qa.ij(b.width,b.height,b.H),l=b.Qa):(this.ig.nl(b.Eb,b.x,b.y,b.width,b.height),l=this.ig),k.Cm(l,b.x-a.x,b.y-a.y)):!0);for(k=a.Qa&&!a.Qa.Cj(),e=b.Qa&&!b.Qa.Cj(),k?(a.Qa.ij(a.width,a.height,a.H),this.ig.fy(a.Qa)):this.ig.nl(a.Eb,a.x,a.y,a.width,a.height),k=this.ig,e?(b.Qa.ij(b.width,b.height,b.H),this.yu.fy(b.Qa)):this.yu.nl(b.Eb,b.x,b.y,b.width,b.height),l=this.yu,e=0,f=k.$e;f>e;e++)g=2*e,h=g+1,i=k.yc[g],j=k.yc[h],k.yc[g]=c.ec(i+a.x,j+a.y,!0),k.yc[h]=c.ec(i+a.x,j+a.y,!1);for(k.sb(),e=0,f=l.$e;f>e;e++)g=2*e,h=g+1,i=l.yc[g],j=l.yc[h],l.yc[g]=d.ec(i+b.x,j+b.y,!0),l.yc[h]=d.ec(i+b.x,j+b.y,!1);return l.sb(),k.Cm(l,0,0)},p=new va,new ua(0,0,0,0),q=[],c.prototype.wy=function(a,b){var c,d,e,f,j,g=b.gc,h=a.x,i=a.y;for(a.PF(g,q),j=b.Qa&&!b.Qa.Cj(),c=0,d=q.length;d>c;++c)if(e=q[c],f=e.JD,g.wC(f,h,i)&&(p.ol(f),p.offset(h,i),p.ow(b.Eb)))if(j){if(b.Qa.ij(b.width,b.height,b.H),e.Pg){if(e.Pg.Cm(b.Qa,b.x-(h+f.left),b.y-(i+f.top)))return q.length=0,!0}else if(this.ig.nl(p,0,0,f.right-f.left,f.bottom-f.top),this.ig.Cm(b.Qa,b.x,b.y))return q.length=0,!0}else{if(!e.Pg)return q.length=0,!0;if(this.ig.nl(b.Eb,0,0,b.width,b.height),e.Pg.Cm(this.ig,-(h+f.left),-(i+f.top)))return q.length=0,!0}return q.length=0,!1},c.prototype.Dy=function(a,b){if(!b)return!1;var c,d,e,f,g;for(c=0,d=a.Cc.length;d>c;c++)if(a.Cc[c].behavior instanceof b)return!0;if(!a.ma)for(c=0,d=a.ac.length;d>c;c++)for(g=a.ac[c],e=0,f=g.Cc.length;f>e;e++)if(g.Cc[e].behavior instanceof b)return!0;return!1},c.prototype.Ey=function(a){return this.Dy(a,$b.ZE)},c.prototype.Fu=function(a){return this.Dy(a,$b.$E)},c.prototype.LD=function(a,b){a.lf&&b.lf&&this.tq.push([a,b])},c.prototype.AA=function(a,b){var c,d,e;for(c=0,d=this.tq.length;d>c;c++)if(e=this.tq[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return!0;return!1},r=-1,c.prototype.trigger=function(a,b,c){var d,f,g,h,e,i;if(!this.Cb)return!1;if(d=this.Cb.oj,!d)return!1;for(e=!1,r++,i=d.$r,g=0,h=i.length;h>g;++g)f=this.Ay(a,b,i[g],c),e=e||f;return f=this.Ay(a,b,d,c),r--,e||f},c.prototype.Ay=function(a,b,c,d){var f,g,h,i,e=!1;if(b)for(h=this.Du(a,b,b.type.name,c,d),e=e||h,i=b.type.ac,f=0,g=i.length;g>f;++f)h=this.Du(a,b,i[f].name,c,d),e=e||h;else h=this.Du(a,b,"system",c,d),e=e||h;return e},c.prototype.Du=function(a,b,c,d,e){var f,i,j,g=!1,h=!1;if(h="undefined"!=typeof e,i=(h?d.Pv:d.By)[c],!i)return g;for(j=null,d=0,f=i.length;f>d;++d)if(i[d].method==a){j=i[d].em;break}if(!j)return g;if(a=h?j[e]:j,!a)return null;for(d=0,f=a.length;f>d;d++)e=a[d][0],h=a[d][1],h=this.IB(b,c,e,h),g=g||h;return g},c.prototype.IB=function(a,b,c,d){var e,f,h,i,j,g=!1;if(this.Eu++,h=this.td().be,h&&this.Cn(h.Vi),i=1<this.Eu,this.Cn(c.Vi),i&&this.ID(),j=this.qq(c),j.be=c,a&&(e=this.types[b].Va(),e.qb=!1,e.C.length=1,e.C[0]=a,this.types[b].Sf()),a=!0,c.parent){for(b=j.uy,e=c.parent;e;)b.push(e),e=e.parent;for(b.reverse(),e=0,f=b.length;f>e;e++)if(!b[e].TD()){a=!1;break}}return a&&(this.qj++,c.eg?c.SD(d):c.Ic(),g=g||j.Ej),this.kq(),i&&this.CD(),this.Zj(c.Vi),h&&this.Zj(h.Vi),this.yi&&0===this.Re&&0===r&&!this.Us&&this.Bd(),this.Eu--,g},c.prototype.us=function(){var a=this.td();return a.be.gd[a.Qc]},c.prototype.SB=function(){var a=this.td();return a.be.hf[a.Zd]},c.prototype.ID=function(){this.Mp++,this.Mp>=this.pt.length&&this.pt.push([])},c.prototype.CD=function(){this.Mp--},c.prototype.Wv=function(){return this.pt[this.Mp]},c.prototype.qq=function(a){this.Xo++,this.Xo>=this.cs.length&&this.cs.push(new Mb);var b=this.td();return b.reset(a),b},c.prototype.kq=function(){this.Xo--},c.prototype.td=function(){return this.cs[this.Xo]},c.prototype.Xv=function(a,b){for(var c,d,e,f,g,h;b;){for(c=0,d=b.Lf.length;d>c;c++)if(h=b.Lf[c],h instanceof Nb&&hb(a,h.name))return h;b=b.parent}for(c=0,d=this.ph.length;d>c;c++)for(g=this.ph[c],e=0,f=g.si.length;f>e;e++)if(h=g.si[e],h instanceof Nb&&hb(a,h.name))return h;return null},c.prototype.$v=function(a){var b,c;for(b=0,c=this.Yf.length;c>b;b++)if(this.Yf[b].Wa===a)return this.Yf[b];return null},c.prototype.kp=function(a){var b,c;for(b=0,c=this.aa.length;c>b;b++)if(this.aa[b].Wa===a)return this.aa[b];return null},c.prototype.TB=function(a){var b,c;for(b=0,c=this.ok.length;c>b;b++)if(this.ok[b].Wa===a)return this.ok[b];return null},c.prototype.oC=function(){var a=this,b=this.qu,c=this.zh,d=this.Gp,h=!1;if(this.ky&&(h=!0,b="__c2_continuouspreview",this.ky=!1),b.length){if(this.Bd(),c=this.XD(),window.indexedDB&&!this.uf)e(b,c,function(){fa("Saved state to IndexedDB storage ("+c.length+" bytes)"),a.zh=c,a.trigger(K.prototype.M.mr,null),a.zh="",h&&g()},function(d){try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.zh=c,a.trigger(K.prototype.M.mr,null),a.zh="",h&&g()
}catch(e){fa("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.zh=c,this.trigger(K.prototype.M.mr,null),a.zh="",h&&g()}catch(i){fa("Error saving to WebStorage: "+i)}this.Qd=this.Gp=this.qu=""}d.length&&(window.indexedDB&&!this.uf?f(d,function(b){b?(a.Qd=b,fa("Loaded state from IndexedDB storage ("+a.Qd.length+" bytes)")):(a.Qd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Qd.length+" bytes)")),a.Mn=!1,a.Qd.length||a.trigger(K.prototype.M.lr,null)},function(){a.Qd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Qd.length+" bytes)"),a.Mn=!1,a.Qd.length||a.trigger(K.prototype.M.lr,null)}):(this.Qd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.Qd.length+" bytes)"),this.Mn=!1,a.Qd.length||a.trigger(K.prototype.M.lr,null)),this.qu=this.Gp=""),this.Qd.length&&(this.Bd(),this.KC(this.Qd),this.zh=this.Qd,this.trigger(K.prototype.M.Fz,null),this.Qd=this.zh="")},c.prototype.XD=function(){var a,b,c,d,e,f,g,i={c2save:!0,version:1,rt:{time:this.Ae.xa,walltime:this.ah.xa,timescale:this.Yi,tickcount:this.df,execcount:this.qj,next_uid:this.qn,running_layout:this.Cb.Wa,start_time_offset:Date.now()-this.Hq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};for(a=0,b=this.aa.length;b>a;a++)if(e=this.aa[a],!e.ma&&!this.Ey(e)){for(f={instances:[]},Qa(e.da)&&(f.ex=h(e.da)),c=0,d=e.C.length;d>c;c++)f.instances.push(this.pu(e.C[c]));i.types[e.Wa.toString()]=f}for(a=0,b=this.Yf.length;b>a;a++)c=this.Yf[a],i.layouts[c.Wa.toString()]=c.Zc();for(d=i.events.groups,a=0,b=this.ok.length;b>a;a++)c=this.ok[a],d[c.Wa.toString()]=this.np[c.ym].xm;b=i.events.cnds;for(g in this.uk)this.uk.hasOwnProperty(g)&&(a=this.uk[g],Qa(a.da)&&(b[g]={ex:h(a.da)}));b=i.events.acts;for(g in this.nk)this.nk.hasOwnProperty(g)&&(a=this.nk[g],Qa(a.da)&&(b[g]={ex:a.da}));b=i.events.vars;for(g in this.wl)this.wl.hasOwnProperty(g)&&(a=this.wl[g],a.tp||a.parent&&!a.Im||(b[g]=a.data));return i.system=this.Ug.Zc(),JSON.stringify(i)},c.prototype.Vx=function(){var a,b,c,d,e,f;for(this.Kh={},a=0,b=this.aa.length;b>a;a++)if(c=this.aa[a],!c.ma)for(d=0,e=c.C.length;e>d;d++)f=c.C[d],this.Kh[f.uid.toString()]=f},c.prototype.KC=function(a){var b,c,d,e,f,g,h,i,j;if(a=JSON.parse(a),a.c2save&&!(1<a.version)){if(b=a.rt,this.Ae.reset(),this.Ae.xa=b.time,this.ah.reset(),this.ah.xa=b.walltime||0,this.Yi=b.timescale,this.df=b.tickcount,this.qj=b.execcount,this.Hq=Date.now()-b.start_time_offset,c=b.running_layout,c!==this.Cb.Wa){if(!(c=this.$v(c)))return;this.Lv(c)}i=a.types;for(e in i)if(i.hasOwnProperty(e)&&(g=this.kp(parseInt(e,10)))&&!g.ma&&!this.Ey(g)){for(i[e].ex?g.da=i[e].ex:Ra(g.da),h=g.C,f=i[e].instances,c=0,d=pa(h.length,f.length);d>c;c++)this.Hp(h[c],f[c]);for(c=f.length,d=h.length;d>c;c++)this.dh(h[c]);for(c=h.length,d=f.length;d>c;c++)h=null,(!g.yb.Ei||(h=this.Cb.jp(f[c].w.l)))&&(h=this.pi(g.of,h,!1,0,0,!0),this.Hp(h,f[c]));g.rl=!0}this.Bd(),this.Vx(),d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.$v(parseInt(e,10)))&&c.vd(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.TB(parseInt(e,10)))&&this.np[c.ym]&&this.np[c.ym].ZD(d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.uk.hasOwnProperty(e)&&(this.uk[e].da=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&this.nk.hasOwnProperty(e)&&(this.nk[e].da=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.wl.hasOwnProperty(e)&&(this.wl[e].data=c[e]);for(this.qn=b.next_uid,this.Ug.vd(a.system),c=0,d=this.aa.length;d>c;c++)if(g=this.aa[c],!g.ma)for(e=0,a=g.C.length;a>e;e++){if(h=g.C[e],g.he)for(i=h.wm(),b=h.siblings.length=0,f=g.te.length;f>b;b++)j=g.te[b],g!==j&&h.siblings.push(j.C[i]);if(h.sg&&h.sg(),h.Ka)for(b=0,f=h.Ka.length;f>b;b++)i=h.Ka[b],i.sg&&i.sg()}this.Ta=!0}},c.prototype.pu=function(a,b){var c,d,g,f=a.type,e=f.yb,i={};if(b?i.c2=!0:i.uid=a.uid,Qa(a.da)&&(i.ex=h(a.da)),a.Vc&&a.Vc.length)for(i.ivs={},c=0,d=a.Vc.length;d>c;c++)i.ivs[a.type.Ps[c].toString()]=a.Vc[c];if(e.Ei){if(e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.L.Wa,zi:a.zg()},0!==a.H&&(e.a=a.H),1!==a.opacity&&(e.o=a.opacity),.5!==a.fe&&(e.hX=a.fe),.5!==a.ge&&(e.hY=a.ge),0!==a.$d&&(e.bm=a.$d),a.visible||(e.v=a.visible),a.lf||(e.ce=a.lf),-1!==a.pn&&(e.mts=a.pn),f.Ga.length)for(e.fx=[],c=0,d=f.Ga.length;d>c;c++)g=f.Ga[c],e.fx.push({name:g.name,active:a.hi[g.index],params:a.$b[g.index]});i.w=e}if(a.Ka&&a.Ka.length)for(i.behs={},c=0,d=a.Ka.length;d>c;c++)f=a.Ka[c],f.Zc&&(i.behs[f.type.Wa.toString()]=f.Zc());return a.Zc&&(i.data=a.Zc()),i},c.prototype.VB=function(a,b){var c,d;for(c=0,d=a.Ps.length;d>c;c++)if(a.Ps[c]===b)return c;return-1},c.prototype.QB=function(a,b){var c,d;for(c=0,d=a.Ka.length;d>c;c++)if(a.Ka[c].type.Wa===b)return c;return-1},c.prototype.Hp=function(a,b,c){var d,e,f,g,h;if(h=a.type,f=h.yb,c){if(!b.c2)return}else a.uid=b.uid;if(b.ex?a.da=b.ex:Ra(a.da),e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(c=this.VB(h,parseInt(d,10)),0>c||c>=a.Vc.length||(a.Vc[c]=e[d]));if(f.Ei){if(f=b.w,a.L.Wa!==f.l&&(c=a.L,a.L=this.Cb.jp(f.l),a.L?(c.il(a,!0),a.L.Rl(a,!0),a.Db(),a.L.Hn(0)):(a.L=c,this.dh(a))),a.x=f.x,a.y=f.y,a.width=f.w,a.height=f.h,a.lg=f.zi,a.H=f.hasOwnProperty("a")?f.a:0,a.opacity=f.hasOwnProperty("o")?f.o:1,a.fe=f.hasOwnProperty("hX")?f.hX:.5,a.ge=f.hasOwnProperty("hY")?f.hY:.5,a.visible=f.hasOwnProperty("v")?f.v:!0,a.lf=f.hasOwnProperty("ce")?f.ce:!0,a.pn=f.hasOwnProperty("mts")?f.mts:-1,a.$d=f.hasOwnProperty("bm")?f.bm:0,a.Yl=eb(a.$d),this.Z&&fb(a,a.$d,this.Z),a.Db(),f.hasOwnProperty("fx"))for(c=0,e=f.fx.length;e>c;c++)g=h.vs(f.fx[c].name),0>g||(a.hi[g]=f.fx[c].active,a.$b[g]=f.fx[c].params);a.Zh()}if(h=b.behs)for(d in h)h.hasOwnProperty(d)&&(f=this.QB(a,parseInt(d,10)),0>f||a.Ka[f].vd(h[d]));b.data&&a.vd(b.data)},Ob=function(a){return new c(document.getElementById(a))},Pb=function(a,b){return new c({dc:!0,width:a,height:b})},window.cr_createRuntime=Ob,window.cr_createDCRuntime=Pb,window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");return a.XF=!0,document.body.appendChild(a),a=new c(a),window.c2runtime=a,window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)}),window.c2runtime.setSize(window.innerWidth,window.innerHeight),a},window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));return window.c2runtime=a,window.c2runtime.setSize(window.innerWidth,window.innerHeight),a}}(),window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null},window.cr_sizeCanvas=function(a,b){if(0!==a&&0!==b){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}},window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)},function(){function a(a,b){var d,e,c,f,g;for(this.i=a,this.oj=null,this.scrollX=this.i.Yc/2,this.scrollY=this.i.Xc/2,this.scale=1,this.H=0,this.Ak=!0,this.name=b[0],this.width=b[1],this.height=b[2],this.Fy=b[3],this.iy=b[4],this.Wa=b[5],c=b[6],this.Na=[],this.Bm=[],d=0,e=c.length;e>d;d++)f=new Qb(this,c[d]),f.ox=d,this.Na.push(f);for(c=b[7],this.zj=[],d=0,e=c.length;e>d;d++)f=c[d],g=this.i.aa[f[1]],g.of||(g.of=f),this.zj.push(f),-1===this.Bm.indexOf(g)&&this.Bm.push(g);for(this.Ga=[],this.lb=[],this.$b=[],d=0,e=b[8].length;e>d;d++)this.Ga.push({id:b[8][d][0],name:b[8][d][1],rd:-1,Zb:!0,index:d}),this.$b.push(b[8][d][2].slice(0));this.Zh(),this.hl=new ua(0,0,1,1),this.hu=new ua(0,0,1,1),this.Oi={}}function b(a,b){return a.lg-b.lg}function c(a,b){var e,f,c,g,h;for(this.jd=a,this.i=a.i,this.C=[],this.scale=1,this.H=0,this.nj=!1,this.Xh=new ua(0,0,0,0),this.zy=new va,this.Xb=this.Nb=this.Yb=this.Mb=0,this.dk=!1,this.ai=-1,this.name=b[0],this.index=b[1],this.Wa=b[2],this.visible=b[3],this.ki=b[4],this.Yh=b[5],this.Ef=b[6],this.Ff=b[7],this.opacity=b[8],this.ls=b[9],this.kg=b[10],this.mg=b[11],this.$d=b[12],this.eB=b[13],this.Yl="source-over",this.Dd=this.Jd=0,this.Ge=null,this.Lk=d(),this.Rh=!0,this.Ap=new ua(0,0,-1,-1),this.nf=new ua(0,0,-1,-1),this.kg&&(this.Ge=new db(this.i.Yc,this.i.Xc)),this.Ri=!1,c=b[14],this.ny=[],this.Qe=[],this.Zl=[],e=0,f=c.length;f>e;e++)g=c[e],h=this.i.aa[g[1]],h.of||(h.of=g,h.HA=this.index),this.Qe.push(g),-1===this.jd.Bm.indexOf(h)&&this.jd.Bm.push(h);for(Aa(this.ny,this.Qe),this.Ga=[],this.lb=[],this.$b=[],e=0,f=b[15].length;f>e;e++)this.Ga.push({id:b[15][e][0],name:b[15][e][1],rd:-1,Zb:!0,index:e}),this.$b.push(b[15][e][2].slice(0));this.Zh(),this.hl=new ua(0,0,1,1),this.hu=new ua(0,0,1,1)}function d(){return h.length?h.pop():[]}function e(a){a.length=0,h.push(a)}var f,g,h,i,j;a.prototype.WD=function(a){var b=a.type.Wa.toString();this.Oi.hasOwnProperty(b)||(this.Oi[b]=[]),this.Oi[b].push(this.i.pu(a))},a.prototype.hw=function(){var a=this.Na[0];return!a.Yh&&1===a.opacity&&!a.ls&&a.visible},a.prototype.Zh=function(){this.lb.length=0;var a,b,c;for(a=0,b=this.Ga.length;b>a;a++)c=this.Ga[a],c.Zb&&this.lb.push(c)},a.prototype.ip=function(a){var b,c,d;for(b=0,c=this.Ga.length;c>b;b++)if(d=this.Ga[b],d.name===a)return d;return null},f=[],g=!0,a.prototype.wu=function(){var a,c,d,e,h,i,j,k;for(this.iy&&(this.oj=this.i.ds[this.iy],this.oj.Gu()),this.i.Cb=this,this.scrollX=this.i.Yc/2,this.scrollY=this.i.Xc/2,a=0,d=this.i.aa.length;d>a;a++)if(c=this.i.aa[a],!c.ma)for(h=c.C,c=0,e=h.length;e>c;c++)i=h[c],i.L&&(k=i.L.ox,k>=this.Na.length&&(k=this.Na.length-1),i.L=this.Na[k],-1===i.L.C.indexOf(i)&&i.L.C.push(i),i.L.dk=!0);if(!g)for(a=0,d=this.Na.length;d>a;++a)this.Na[a].C.sort(b);for(f.length=0,this.wA(),a=0,d=this.Na.length;d>a;a++)i=this.Na[a],i.FA(),i.Ju();if(h=!1,!this.Ak){for(j in this.Oi)if(this.Oi.hasOwnProperty(j)&&(c=this.i.kp(parseInt(j,10)))&&!c.ma&&this.i.Fu(c)){for(e=this.Oi[j],a=0,d=e.length;d>a;a++)i=null,(!c.yb.Ei||(i=this.jp(e[a].w.l)))&&(i=this.i.pi(c.of,i,!1,0,0,!0),this.i.Hp(i,e[a]),h=!0,f.push(i));e.length=0}for(a=0,d=this.Na.length;d>a;a++)this.Na[a].C.sort(b),this.Na[a].dk=!0}for(h&&(this.i.Bd(),this.i.Vx()),a=0;a<f.length;a++)if(i=f[a],i.type.he)for(d=i.wm(),c=0,e=i.type.te.length;e>c;c++)j=i.type.te[c],i.type!==j&&(j.C.length>d?i.siblings.push(j.C[d]):j.of&&(h=this.i.pi(j.of,i.L,!0,i.x,i.y,!0),this.i.Bd(),j.Wq(),i.siblings.push(h),f.push(h)));for(a=0,d=this.zj.length;d>a;a++)this.i.pi(this.zj[a],null,!0);if(this.i.Wl=null,this.i.Bd(),this.i.Hb&&!this.i.hc)for(a=0,d=this.i.aa.length;d>a;a++)j=this.i.aa[a],!j.ma&&j.C.length&&j.nq&&j.nq(this.i.Hb);for(a=0,d=f.length;d>a;a++)i=f[a],this.i.trigger(Object.getPrototypeOf(i.type.yb).M.Il,i);f.length=0,this.i.trigger(K.prototype.M.av,null),this.Ak=!1},a.prototype.EA=function(){var a,b,c,d,e;for(b=a=0,c=this.zj.length;c>a;a++)d=this.zj[a],e=this.i.aa[d[1]],e.global?this.i.pi(d,null,!0):(this.zj[b]=d,b++);this.zj.length=b},a.prototype.gE=function(){this.i.trigger(K.prototype.M.Ez,null),this.i.Ug.me.length=0;var a,b,c,d,e,f;if(!this.Ak)for(a=0,b=this.Na.length;b>a;a++)for(this.Na[a].Ku(),e=this.Na[a].C,c=0,d=e.length;d>c;c++)f=e[c],f.type.global||this.i.Fu(f.type)&&this.WD(f);for(a=0,b=this.Na.length;b>a;a++){for(e=this.Na[a].C,c=0,d=e.length;d>c;c++)f=e[c],f.type.global||this.i.dh(f);this.i.Bd(),e.length=0,this.Na[a].dk=!0}for(a=0,b=this.i.aa.length;b>a;a++)if(e=this.i.aa[a],!(e.global||e.yb.Ei||e.yb.Cq||e.ma)){for(c=0,d=e.C.length;d>c;c++)this.i.dh(e.C[c]);this.i.Bd()}g=!1},new ua(0,0,0,0),a.prototype.ue=function(a){var b,f,g,c=a,d=!1,e=!this.i.rf;for(e&&(this.i.Fp||(this.i.Fp=document.createElement("canvas"),b=this.i.Fp,b.width=this.i.Ma,b.height=this.i.La,this.i.Dw=b.getContext("2d"),d=!0),b=this.i.Fp,c=this.i.Dw,b.width!==this.i.Ma&&(b.width=this.i.Ma,d=!0),b.height!==this.i.La&&(b.height=this.i.La,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.ab,c.mozImageSmoothingEnabled=this.i.ab,c.msImageSmoothingEnabled=this.i.ab,c.imageSmoothingEnabled=this.i.ab)),c.globalAlpha=1,c.globalCompositeOperation="source-over",this.i.Fr&&!this.hw()&&c.clearRect(0,0,this.i.Ma,this.i.La),d=0,f=this.Na.length;f>d;d++)g=this.Na[d],g.visible&&0<g.opacity&&11!==g.$d&&(g.C.length||!g.Yh)?g.ue(c):g.Ju();e&&a.drawImage(b,0,0,this.i.width,this.i.height)},a.prototype.de=function(a){var c,d,e,b=0<this.lb.length||this.i.tl||!this.i.rf;for(b?(this.i.Be||(this.i.Be=a.hh(this.i.Ma,this.i.La,this.i.ab)),(this.i.Be.Ul!==this.i.Ma||this.i.Be.Tl!==this.i.La)&&(a.deleteTexture(this.i.Be),this.i.Be=a.hh(this.i.Ma,this.i.La,this.i.ab)),a.Sg(this.i.Be),this.i.rf||a.ml(this.i.Ma,this.i.La)):this.i.Be&&(a.Sg(null),a.deleteTexture(this.i.Be),this.i.Be=null),this.i.Fr&&!this.hw()&&a.clear(0,0,0,0),c=0,d=this.Na.length;d>c;c++)e=this.Na[c],e.visible&&0<e.opacity&&(e.C.length||!e.Yh)?e.de(a):e.Ju();b&&(0===this.lb.length||1===this.lb.length&&this.i.rf?(1===this.lb.length?(b=this.lb[0].index,a.Tg(this.lb[0].rd),a.ll(null,1/this.i.Ma,1/this.i.La,0,0,1,1,this.scale,this.H,0,0,this.i.Ma/2,this.i.La/2,this.$b[b]),a.oq(this.lb[0].rd)&&(this.i.Ta=!0)):a.Tg(0),this.i.rf||a.ml(this.i.width,this.i.height),a.Sg(null),a.Ui(1),a.le(this.i.Be),a.by(),a.Rg(),a.Yg(),b=this.i.width/2,c=this.i.height/2,a.Dn(-b,c,b,c,b,-c,-b,-c),a.le(null)):this.ju(a,null,null,null))},a.prototype.um=function(){return 0<this.lb.length||this.i.tl||!this.i.rf?this.i.Be:null},a.prototype.aw=function(){var b,c,d,a=this.Na[0].xe();for(b=1,c=this.Na.length;c>b;b++)d=this.Na[b],(0!==d.Ef||0!==d.Ff)&&d.xe()<a&&(a=d.xe());return a},a.prototype.$x=function(a){if(!this.Fy){var b=1/this.aw()*this.i.Ma/2;a>this.width-b&&(a=this.width-b),b>a&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Ta=!0)},a.prototype.ay=function(a){if(!this.Fy){var b=1/this.aw()*this.i.La/2;a>this.height-b&&(a=this.height-b),b>a&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Ta=!0)},a.prototype.wA=function(){this.$x(this.scrollX),this.ay(this.scrollY)},a.prototype.ju=function(a,b,c,d){var m,n,o,p,s,l,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,e=c?c.lb:b?b.lb:this.lb,f=1,g=0,h=0,i=0,j=this.i.Ma,k=this.i.La;if(c?(f=c.L.xe(),g=c.L.Fc(),h=c.L.Mb,i=c.L.Nb,j=c.L.Yb,k=c.L.Xb):b&&(f=b.xe(),g=b.Fc(),h=b.Mb,i=b.Nb,j=b.Yb,k=b.Xb),l=this.i.qs,q=0,r=1,t=this.i.Ma,u=this.i.La,v=t/2,w=u/2,x=b?b.hl:this.hl,y=b?b.hu:this.hu,z=0,A=0,B=0,C=0,D=t,E=t,F=u,G=u,H=o=0,I=c?c.L.Fc():0,c){for(m=0,n=e.length;n>m;m++)o+=a.ZB(e[m].rd),H+=a.$B(e[m].rd);p=c.gc,z=b.ec(p.left,p.top,!0,!0),B=b.ec(p.left,p.top,!1,!0),D=b.ec(p.right,p.bottom,!0,!0),F=b.ec(p.right,p.bottom,!1,!0),0!==I&&(m=b.ec(p.right,p.top,!0,!0),n=b.ec(p.right,p.top,!1,!0),A=b.ec(p.left,p.bottom,!0,!0),C=b.ec(p.left,p.bottom,!1,!0),p=Math.min(z,D,m,A),D=Math.max(z,D,m,A),z=p,p=Math.min(B,F,n,C),F=Math.max(B,F,n,C),B=p),z-=o,B-=H,D+=o,F+=H,y.left=z/t,y.top=1-B/u,y.right=D/t,y.bottom=1-F/u,A=z=ra(z),C=B=ra(B),E=D=sa(D),G=F=sa(F),A-=o,C-=H,E+=o,G+=H,0>z&&(z=0),0>B&&(B=0),D>t&&(D=t),F>u&&(F=u),0>A&&(A=0),0>C&&(C=0),E>t&&(E=t),G>u&&(G=u),x.left=z/t,x.top=1-B/u,x.right=D/t,x.bottom=1-F/u}else x.left=y.left=0,x.top=y.top=0,x.right=y.right=1,x.bottom=y.bottom=1;for(H=c&&((c.H||I)&&a.An(e[0].rd)||0!==o||0!==H||1!==c.opacity||c.type.yb.jx)||b&&!c&&1!==b.opacity,a.by(),H&&(l[q]||(l[q]=a.hh(t,u,this.i.ab)),(l[q].Ul!==t||l[q].Tl!==u)&&(a.deleteTexture(l[q]),l[q]=a.hh(t,u,this.i.ab)),a.Tg(0),a.Sg(l[q]),s=G-C,a.clearRect(A,u-C-s,E-A,s),c?c.de(a):(a.le(this.i.Se),a.Ui(b.opacity),a.Rg(),a.translate(-v,-w),a.Yg(),a.Qh(z,F,D,F,D,B,z,B,x)),y.left=y.top=0,y.right=y.bottom=1,c&&(p=x.top,x.top=x.bottom,x.bottom=p),q=1,r=0),a.Ui(1),o=e.length-1,I=a.du(e[o].rd)||!b&&!c&&!this.i.rf,J=0,m=0,n=e.length;n>m;m++)l[q]||(l[q]=a.hh(t,u,this.i.ab)),(l[q].Ul!==t||l[q].Tl!==u)&&(a.deleteTexture(l[q]),l[q]=a.hh(t,u,this.i.ab)),a.Tg(e[m].rd),J=e[m].index,a.oq(e[m].rd)&&(this.i.Ta=!0),0!=m||H?(a.ll(d,1/t,1/u,y.left,y.top,y.right,y.bottom,f,g,h,i,(h+j)/2,(i+k)/2,c?c.$b[J]:b?b.$b[J]:this.$b[J]),a.le(null),m!==o||I?(a.Sg(l[q]),s=G-C,p=u-C-s,a.clearRect(A,p,E-A,s)):(c?a.Ti(c.Jd,c.Dd):b&&a.Ti(b.Jd,b.Dd),a.Sg(d)),a.le(l[r]),a.Rg(),a.translate(-v,-w),a.Yg(),a.Qh(z,F,D,F,D,B,z,B,x),m!==o||I||a.le(null)):(a.Sg(l[q]),s=G-C,p=u-C-s,a.clearRect(A,p,E-A,s),c?(a.ll(d,1/c.width,1/c.height,y.left,y.top,y.right,y.bottom,f,g,h,i,(h+j)/2,(i+k)/2,c.$b[J]),c.de(a)):(a.ll(d,1/t,1/u,0,0,1,1,f,g,h,i,(h+j)/2,(i+k)/2,b?b.$b[J]:this.$b[J]),a.le(b?this.i.Se:this.i.Be),a.Rg(),a.translate(-v,-w),a.Yg(),a.Qh(z,F,D,F,D,B,z,B,x)),y.left=y.top=0,y.right=y.bottom=1,c&&!I&&(p=F,F=B,B=p)),q=0===q?1:0,r=0===q?1:0;I&&(a.Tg(0),c?a.Ti(c.Jd,c.Dd):b?a.Ti(b.Jd,b.Dd):this.i.rf||(a.ml(this.i.width,this.i.height),v=this.i.width/2,w=this.i.height/2,B=z=0,D=this.i.width,F=this.i.height),a.Sg(d),a.le(l[r]),a.Rg(),a.translate(-v,-w),a.Yg(),c&&1===e.length&&!H?a.Qh(z,B,D,B,D,F,z,F,x):a.Qh(z,F,D,F,D,B,z,B,x),a.le(null))},a.prototype.jp=function(a){var b,c;for(b=0,c=this.Na.length;c>b;b++)if(this.Na[b].Wa===a)return this.Na[b];return null},a.prototype.Zc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.H,w:this.width,h:this.height,fv:this.Ak,persist:this.Oi,fx:[],layers:{}};for(a=0,b=this.Ga.length;b>a;a++)c=this.Ga[a],d.fx.push({name:c.name,active:c.Zb,params:this.$b[c.index]});for(a=0,b=this.Na.length;b>a;a++)c=this.Na[a],d.layers[c.Wa.toString()]=c.Zc();return d},a.prototype.vd=function(a){var b,c,d,e,f;for(this.scrollX=a.sx,this.scrollY=a.sy,this.scale=a.s,this.H=a.a,this.width=a.w,this.height=a.h,this.Oi=a.persist,"undefined"!=typeof a.fv&&(this.Ak=a.fv),f=a.fx,b=0,c=f.length;c>b;b++)(d=this.ip(f[b].name))&&(d.Zb=f[b].active,this.$b[d.index]=f[b].params);this.Zh(),b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.jp(parseInt(e,10)))&&a.vd(b[e])},Cb=a,c.prototype.Zh=function(){this.lb.length=0;var a,b,c;for(a=0,b=this.Ga.length;b>a;a++)c=this.Ga[a],c.Zb&&this.lb.push(c)},c.prototype.ip=function(a){var b,c,d;for(b=0,c=this.Ga.length;c>b;b++)if(d=this.Ga[b],d.name===a)return d;return null},c.prototype.FA=function(){var a,b,c,d,e,g;for(b=a=0,c=this.Qe.length;c>a;a++)d=this.Qe[a],e=this.i.aa[d[1]],g=this.i.Fu(e),e=!0,(!g||this.jd.Ak)&&(d=this.i.pi(d,this,!0),f.push(d),d.type.global&&(e=!1,this.Zl.push(d.uid))),e&&(this.Qe[b]=this.Qe[a],b++);this.Qe.length=b,this.i.Bd(),!this.i.ba&&this.Ga.length&&(this.$d=this.eB),this.Yl=eb(this.$d),this.i.Z&&fb(this,this.$d,this.i.Z),this.Rh=!0},c.prototype.il=function(a,b){var c=Ca(this.C,a);0>c||(b&&this.kg&&a.je&&a.je.right>=a.je.left&&(a.sb(),this.Ge.update(a,a.je,null),a.je.set(0,0,-1,-1)),c===this.C.length-1?this.C.pop():(xa(this.C,c),this.Hn(c)),this.Rh=!0)},c.prototype.Rl=function(a,b){a.lg=this.C.length,this.C.push(a),b&&this.kg&&a.je&&a.Db(),this.Rh=!0},c.prototype.FD=function(a){this.C.unshift(a),this.Hn(0)},c.prototype.lD=function(a,b,c){var d=a.zg();b=b.zg(),xa(this.C,d),b>d&&b--,c&&b++,b===this.C.length?this.C.push(a):this.C.splice(b,0,a),this.Hn(b>d?d:b)},c.prototype.Hn=function(a){-1===this.ai?this.ai=a:a<this.ai&&(this.ai=a),this.Rh=this.dk=!0},c.prototype.Ku=function(){if(this.dk){-1===this.ai&&(this.ai=0);var a,b,c;if(this.kg)for(a=this.ai,b=this.C.length;b>a;++a)c=this.C[a],c.lg=a,this.Ge.dD(c.je);else for(a=this.ai,b=this.C.length;b>a;++a)this.C[a].lg=a;this.dk=!1,this.ai=-1}},c.prototype.xe=function(a){return this.WB()*(this.i.rf||a?this.i.Sl:1)},c.prototype.WB=function(){return(this.scale*this.jd.scale-1)*this.mg+1},c.prototype.Fc=function(){return this.nj?0:Ga(this.jd.H+this.H)},h=[],i=[],j=[],c.prototype.dw=function(){var a,b,c,f,g,h,k,l,m,n,o,p,q,r,s,t,u;if(this.Ku(),this.Ge.rq(this.Mb,this.Nb,this.Yb,this.Xb,j),!j.length)return d();if(1===j.length)return a=d(),Aa(a,j[0]),j.length=0,a;for(b=!0;1<j.length;){for(a=j,c=void 0,f=void 0,g=void 0,h=void 0,k=void 0,c=0,f=a.length;f-1>c;c+=2){for(g=a[c],h=a[c+1],k=d(),l=g,m=h,n=k,o=0,p=0,q=0,r=l.length,s=m.length,t=void 0,u=void 0,n.length=r+s;r>o&&s>p;++q)t=l[o],u=m[p],t.lg<u.lg?(n[q]=t,++o):(n[q]=u,++p);for(;r>o;++o,++q)n[q]=l[o];for(;s>p;++p,++q)n[q]=m[p];b||(e(g),e(h)),i.push(k)}1===f%2&&(b?(g=d(),Aa(g,a[f-1]),i.push(g)):i.push(a[f-1])),Aa(a,i),i.length=0,b=!1}return a=j[0],j.length=0,a},c.prototype.ue=function(a){var b,c,d,f,g,h,i;for(this.Ri=this.ls||1!==this.opacity||0!==this.$d,b=this.i.canvas,c=a,d=!1,this.Ri&&(this.i.Ep||(this.i.Ep=document.createElement("canvas"),b=this.i.Ep,b.width=this.i.Ma,b.height=this.i.La,this.i.Cw=b.getContext("2d"),d=!0),b=this.i.Ep,c=this.i.Cw,b.width!==this.i.Ma&&(b.width=this.i.Ma,d=!0),b.height!==this.i.La&&(b.height=this.i.La,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.ab,c.mozImageSmoothingEnabled=this.i.ab,c.msImageSmoothingEnabled=this.i.ab,c.imageSmoothingEnabled=this.i.ab),this.Yh&&c.clearRect(0,0,this.i.Ma,this.i.La)),c.globalAlpha=1,c.globalCompositeOperation="source-over",this.Yh||(c.fillStyle="rgb("+this.ki[0]+","+this.ki[1]+","+this.ki[2]+")",c.fillRect(0,0,this.i.Ma,this.i.La)),c.save(),this.nj=!0,d=this.se(0,0,!0,!0),f=this.se(0,0,!1,!0),this.nj=!1,this.i.Gf&&(d=Math.round(d),f=Math.round(f)),this.lu(d,f,c),g=this.xe(),c.scale(g,g),c.translate(-d,-f),this.kg?(this.nf.left=this.Ge.Le(this.Mb),this.nf.top=this.Ge.Me(this.Nb),this.nf.right=this.Ge.Le(this.Yb),this.nf.bottom=this.Ge.Me(this.Xb),this.Rh||!this.nf.Wo(this.Ap)?(e(this.Lk),d=this.dw(),this.Rh=!1,this.Ap.Io(this.nf)):d=this.Lk):d=this.C,i=null,f=0,g=d.length;g>f;++f)h=d[f],h!==i&&(this.aB(h,c),i=h);this.kg&&(this.Lk=d),c.restore(),this.Ri&&(a.globalCompositeOperation=this.Yl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))},c.prototype.aB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.sb();var c=a.gc;c.right<this.Mb||c.bottom<this.Nb||c.left>this.Yb||c.top>this.Xb||(b.globalCompositeOperation=a.Yl,a.ue(b))}},c.prototype.Ju=function(){this.nj=!0;var a=this.se(0,0,!0,!0),b=this.se(0,0,!1,!0);this.nj=!1,this.i.Gf&&(a=Math.round(a),b=Math.round(b)),this.lu(a,b,null)},c.prototype.lu=function(a,b,c){var d=this.xe();this.Mb=a,this.Nb=b,this.Yb=a+1/d*this.i.Ma,this.Xb=b+1/d*this.i.La,a=this.Fc(),0!==a&&(c&&(c.translate(this.i.Ma/2,this.i.La/2),c.rotate(-a),c.translate(this.i.Ma/-2,this.i.La/-2)),this.Xh.set(this.Mb,this.Nb,this.Yb,this.Xb),this.Xh.offset((this.Mb+this.Yb)/-2,(this.Nb+this.Xb)/-2),this.zy.gy(this.Xh,a),this.zy.yv(this.Xh),this.Xh.offset((this.Mb+this.Yb)/2,(this.Nb+this.Xb)/2),this.Mb=this.Xh.left,this.Nb=this.Xh.top,this.Yb=this.Xh.right,this.Xb=this.Xh.bottom)},c.prototype.de=function(a){var d,f,g,h,b=0,c=0;for((this.Ri=this.ls||1!==this.opacity||0<this.lb.length||0!==this.$d)&&(this.i.Se||(this.i.Se=a.hh(this.i.Ma,this.i.La,this.i.ab)),(this.i.Se.Ul!==this.i.Ma||this.i.Se.Tl!==this.i.La)&&(a.deleteTexture(this.i.Se),this.i.Se=a.hh(this.i.Ma,this.i.La,this.i.ab)),a.Sg(this.i.Se),this.Yh&&a.clear(0,0,0,0)),this.Yh||a.clear(this.ki[0]/255,this.ki[1]/255,this.ki[2]/255,1),this.nj=!0,d=this.se(0,0,!0,!0),b=this.se(0,0,!1,!0),this.nj=!1,this.i.Gf&&(d=Math.round(d),b=Math.round(b)),this.lu(d,b,null),d=this.xe(),a.Rg(),a.scale(d,d),a.mu(-this.Fc()),a.translate((this.Mb+this.Yb)/-2,(this.Nb+this.Xb)/-2),a.Yg(),this.kg?(this.nf.left=this.Ge.Le(this.Mb),this.nf.top=this.Ge.Me(this.Nb),this.nf.right=this.Ge.Le(this.Yb),this.nf.bottom=this.Ge.Me(this.Xb),this.Rh||!this.nf.Wo(this.Ap)?(e(this.Lk),b=this.dw(),this.Rh=!1,this.Ap.Io(this.nf)):b=this.Lk):b=this.C,h=null,c=0,f=b.length;f>c;++c)g=b[c],g!==h&&(this.bB(b[c],a),h=g);this.kg&&(this.Lk=b),this.Ri&&(b=this.lb.length?this.lb[0].rd:0,c=this.lb.length?this.lb[0].index:0,0===this.lb.length||1===this.lb.length&&!a.du(b)&&1===this.opacity?(1===this.lb.length?(a.Tg(b),a.ll(this.jd.um(),1/this.i.Ma,1/this.i.La,0,0,1,1,d,this.Fc(),this.Mb,this.Nb,(this.Mb+this.Yb)/2,(this.Nb+this.Xb)/2,this.$b[c]),a.oq(b)&&(this.i.Ta=!0)):a.Tg(0),a.Sg(this.jd.um()),a.Ui(this.opacity),a.le(this.i.Se),a.Ti(this.Jd,this.Dd),a.Rg(),a.Yg(),d=this.i.Ma/2,b=this.i.La/2,a.Dn(-d,b,d,b,d,-b,-d,-b),a.le(null)):this.jd.ju(a,this,null,this.jd.um()))},c.prototype.bB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.sb();var c=a.gc;c.right<this.Mb||c.bottom<this.Nb||c.left>this.Yb||c.top>this.Xb||(a.Oy?this.cB(a,b):(b.Tg(0),b.Ti(a.Jd,a.Dd),a.de(b)))}},c.prototype.cB=function(a,b){var f,g,h,i,c=a.lb[0].rd,d=a.lb[0].index,e=this.xe();1!==a.lb.length||b.du(c)||b.HD(c)||(a.H||a.L.Fc())&&b.An(c)||1!==a.opacity||a.type.yb.jx?(this.jd.ju(b,this,a,this.Ri?this.i.Se:this.jd.um()),b.Rg(),b.scale(e,e),b.mu(-this.Fc()),b.translate((this.Mb+this.Yb)/-2,(this.Nb+this.Xb)/-2),b.Yg()):(b.Tg(c),b.Ti(a.Jd,a.Dd),b.oq(c)&&(this.i.Ta=!0),f=0,g=0,h=0,i=0,b.An(c)&&(c=a.gc,f=this.ec(c.left,c.top,!0,!0),g=this.ec(c.left,c.top,!1,!0),h=this.ec(c.right,c.bottom,!0,!0),c=this.ec(c.right,c.bottom,!1,!0),f/=windowWidth,g=1-g/windowHeight,h/=windowWidth,i=1-c/windowHeight),b.ll(this.Ri?this.i.Se:this.jd.um(),1/a.width,1/a.height,f,g,h,i,e,this.Fc(),this.Mb,this.Nb,(this.Mb+this.Yb)/2,(this.Nb+this.Xb)/2,a.$b[d]),a.de(b))},c.prototype.se=function(a,b,c,d){var f,g,h,i,e=this.i.devicePixelRatio;return this.i.Aj&&(a*=e,b*=e),e=this.i.Hx,f=this.i.Ix,e=(this.jd.scrollX-e)*this.Ef+e,f=(this.jd.scrollY-f)*this.Ff+f,g=e,h=f,i=1/this.xe(!d),d?(g-=this.i.Ma*i/2,h-=this.i.La*i/2):(g-=this.i.width*i/2,h-=this.i.height*i/2),g+=a*i,h+=b*i,b=this.Fc(),0!==b&&(g-=e,h-=f,a=Math.cos(b),b=Math.sin(b),d=g*a-h*b,h=h*a+g*b,g=d+e,h+=f),c?g:h},c.prototype.ec=function(a,b,c,d){var i,j,k,e=this.i.Hx,f=this.i.Ix,g=(this.jd.scrollX-e)*this.Ef+e,h=(this.jd.scrollY-f)*this.Ff+f;return f=g,e=h,i=this.Fc(),0!==i&&(a-=g,b-=h,j=Math.cos(-i),i=Math.sin(-i),k=a*j-b*i,b=b*j+a*i,a=k+g,b+=h),g=1/this.xe(!d),d?(f-=this.i.Ma*g/2,e-=this.i.La*g/2):(f-=this.i.width*g/2,e-=this.i.height*g/2),f=(a-f)/g,e=(b-e)/g,a=this.i.devicePixelRatio,this.i.Aj&&!d&&(f/=a,e/=a),c?f:e},c.prototype.Zc=function(){var a,b,c,d={s:this.scale,a:this.H,vl:this.Mb,vt:this.Nb,vr:this.Yb,vb:this.Xb,v:this.visible,bc:this.ki,t:this.Yh,px:this.Ef,py:this.Ff,o:this.opacity,zr:this.mg,fx:[],cg:this.Zl,instances:[]};for(a=0,b=this.Ga.length;b>a;a++)c=this.Ga[a],d.fx.push({name:c.name,active:c.Zb,params:this.$b[c.index]});return d},c.prototype.vd=function(a){var c,d,e,f;for(this.scale=a.s,this.H=a.a,this.Mb=a.vl,this.Nb=a.vt,this.Yb=a.vr,this.Xb=a.vb,this.visible=a.v,this.ki=a.bc,this.Yh=a.t,this.Ef=a.px,this.Ff=a.py,this.opacity=a.o,this.mg=a.zr,this.Zl=a.cg||[],Aa(this.Qe,this.ny),f=new ba,c=0,e=this.Zl.length;e>c;++c)f.add(this.Zl[c]);for(d=c=0,e=this.Qe.length;e>c;++c)f.contains(this.Qe[c][2])||(this.Qe[d]=this.Qe[c],++d);for(this.Qe.length=d,d=a.fx,c=0,e=d.length;e>c;c++)(a=this.ip(d[c].name))&&(a.Zb=d[c].active,this.$b[a.index]=d[c].params);this.Zh(),this.C.sort(b),this.dk=!0},Qb=c}(),function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;d>c;c++)if(a[c]!==b[c])return!1;return!0}}function b(a,b){return a.index-b.index}function c(c){var d,e,f,g;for(2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b),c.length>=o.length&&(o.length=c.length+1),o[c.length]||(o[c.length]=[]),g=o[c.length],d=0,e=g.length;e>d;d++)if(f=g[d],a(c,f))return f;return g.push(c),c}function d(a,b){var c,d,e;for(this.i=a,this.By={},this.Pv={},this.Fs=!1,this.jw=new ba,this.$r=[],this.Gr=[],this.name=b[0],c=b[1],this.si=[],d=0,e=c.length;e>d;d++)this.lw(c[d],null,this.si)}function e(a){this.type=a,this.C=[],this.eb=[],this.qb=!0}function f(a,b,c){var d,e;for(this.sheet=a,this.parent=b,this.i=a.i,this.Jb=[],this.Vi=[],this.iw=this.Qq=this.Cu=this.Ks=this.group=this.my=!1,this.gd=[],this.hf=[],this.Lf=[],this.ym="",this.xm=this.Ks=this.group=!1,this.Eo=null,c[1]&&(this.ym=c[1][1].toLowerCase(),this.group=!0,this.Ks=!!c[1][0],this.Eo=[],this.xm=this.Ks,this.i.ok.push(this),this.i.np[this.ym]=this),this.eg=c[2],this.Wa=c[4],this.group||(this.i.xv[this.Wa.toString()]=this),d=c[5],a=0,b=d.length;b>a;a++)e=new Rb(this,d[a]),e.index=a,this.gd.push(e),this.rv(e.type);for(d=c[6],a=0,b=d.length;b>a;a++)e=new Sb(this,d[a]),e.index=a,this.hf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;b>a;a++)this.sheet.lw(c[a],this,this.Lf);this.up=!1,this.gd.length&&(this.up=null==this.gd[0].type&&this.gd[0].sd==K.prototype.M.bz)}function g(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.he))for(c=0,d=a.te.length;d>c;c++)e=a.te[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function h(a,b){var c,d,e,f;if(this.Ne=a,this.sheet=a.sheet,this.i=a.i,this.Ia=[],this.nc=[],this.da={},this.index=-1,this.Pl=!1,this.sd=this.i.ei(b[1]),this.trigger=0<b[3],this.Ov=2===b[3],this.Cg=b[4],this.Qs=b[5],this.HC=b[6],this.Wa=b[7],this.i.uk[this.Wa.toString()]=this,-1===b[0]?(this.type=null,this.Ic=this.ou,this.hj=null,this.Tf=-1):(this.type=this.i.aa[b[0]],this.Ic=this.HC?this.UD:this.nu,b[2]?(this.hj=this.type.hp(b[2]),this.Tf=this.type.ss(b[2])):(this.hj=null,this.Tf=-1),this.Ne.parent&&this.Ne.parent.Aq()),this.Ov&&(this.Ic=this.VD),10===b.length){for(e=b[9],c=0,d=e.length;d>c;c++)f=new Tb(this,e[c]),this.Ia.push(f);this.nc.length=e.length}}function i(a,b){var c,d,e,f;if(this.Ne=a,this.sheet=a.sheet,this.i=a.i,this.Ia=[],this.nc=[],this.da={},this.index=-1,this.Pl=!1,this.sd=this.i.ei(b[1]),-1===b[0]?(this.type=null,this.Ic=this.ou,this.hj=null,this.Tf=-1):(this.type=this.i.aa[b[0]],this.Ic=this.nu,b[2]?(this.hj=this.type.hp(b[2]),this.Tf=this.type.ss(b[2])):(this.hj=null,this.Tf=-1)),this.Wa=b[3],this.i.nk[this.Wa.toString()]=this,6===b.length){for(e=b[5],c=0,d=e.length;d>c;c++)f=new Tb(this,e[c]),this.Ia.push(f);this.nc.length=e.length}}function j(){return q++,p.length===q&&p.push(new Ub),p[q]}function k(a,b){this.Qb=a,this.Ne=a.Ne,this.sheet=a.sheet,this.i=a.i,this.type=b[0],this.xg=null,this.Uh=0,this.get=null,this.Fv=0,this.jd=null,this.key=0,this.object=null,this.index=0,this.Sn=this.ak=this.Sn=this.ak=this.Qv=this.pj=this.Tn=null,this.Mf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.xg=new Vb(this,b[1]),this.Uh=0,this.get=this.dC;break;case 1:this.xg=new Vb(this,b[1]),this.Uh=0,this.get=this.eC;break;case 5:this.xg=new Vb(this,b[1]),this.Uh=0,this.get=this.iC;break;case 3:case 8:this.Fv=b[1],this.get=this.bC;break;case 6:this.jd=this.i.ht[b[1]],this.get=this.jC;break;case 9:this.key=b[1],this.get=this.hC;break;case 4:this.object=this.i.aa[b[1]],this.get=this.kC,this.Ne.rv(this.object),this.Qb instanceof Sb?this.Ne.Aq():this.Ne.parent&&this.Ne.parent.Aq();break;case 10:this.index=b[1],a.type.ma?(this.get=this.fC,this.Mf=!0):this.get=this.gC;break;case 11:this.Tn=b[1],this.pj=null,this.get=this.cC;break;case 2:case 12:this.Qv=b[1],this.get=this.aC;break;case 13:for(this.get=this.lC,this.ak=[],this.Sn=[],c=1,d=b.length;d>c;c++)e=new Tb(this.Qb,b[c]),this.ak.push(e),this.Sn.push(0)}}function l(a,b,c){this.sheet=a,this.parent=b,this.i=a.i,this.Jb=[],this.name=c[1],this.Yq=c[2],this.Js=c[3],this.Im=!!c[4],this.tp=!!c[5],this.Wa=c[6],this.i.wl[this.Wa.toString()]=this,this.data=this.Js,this.parent?(this.Lj=this.Im||this.tp?-1:this.i.dE++,this.i.oA.push(this)):(this.Lj=-1,this.i.nA.push(this))}function m(a,b,c){this.sheet=a,this.parent=b,this.i=a.i,this.Jb=[],this.Am=null,this.rC=c[1],this.Zb=!0}function n(){this.uy=[],this.reset(null)}var p,q,o=[];d.prototype.toString=function(){return this.name},d.prototype.lw=function(a,b,c){switch(a[0]){case 0:if(a=new Wb(this,b,a),a.eg)for(c.push(a),c=0,b=a.gd.length;b>c;c++)a.gd[c].trigger&&this.mw(a,c);else a.vw()?this.mw(a,0):c.push(a);break;case 1:a=new Nb(this,b,a),c.push(a);break;case 2:a=new Xb(this,b,a),c.push(a)}},d.prototype.xc=function(){var a,b;for(a=0,b=this.si.length;b>a;a++)this.si[a].xc(b-1>a&&this.si[a+1].up)},d.prototype.Gu=function(){this.$r.length=0,this.Gr.length=0,this.qv(this),this.Gr.length=0},d.prototype.qv=function(a){var b,c,d,e,f=a.$r,g=a.Gr,h=this.jw.Zg();for(b=0,c=h.length;c>b;++b)d=h[b],e=d.Am,!d.Zb||a===e||-1<g.indexOf(e)||(g.push(e),e.qv(a),f.push(e))},d.prototype.Ic=function(a){var b,c,d;for(this.i.WF||(this.Fs=!0,a||(this.i.Us=!0)),b=0,c=this.si.length;c>b;b++)d=this.si[b],d.Ic(),this.i.Or(d.Jb),this.i.yi&&this.i.Bd();a||(this.i.Us=!1)},d.prototype.mw=function(a,b){var c,d,f,e,g;if(a.eg||this.i.Uq.push(a),e=a.gd[b],f=e.type?e.type.name:"system",g=(c=e.Ov)?this.Pv:this.By,g[f]||(g[f]=[]),f=g[f],g=e.sd,c){if(e.Ia.length&&(e=e.Ia[0],1===e.type&&2===e.xg.type)){for(e=e.xg.value.toLowerCase(),c=0,d=f.length;d>c;c++)if(f[c].method==g)return c=f[c].em,c[e]?c[e].push([a,b]):c[e]=[[a,b]],void 0;
c={},c[e]=[[a,b]],f.push({method:g,em:c})}}else{for(c=0,d=f.length;d>c;c++)if(f[c].method==g)return f[c].em.push([a,b]),void 0;mc&&g===mc.prototype.M.lk?f.unshift({method:g,em:[[a,b]]}):f.push({method:g,em:[[a,b]]})}},Db=d,e.prototype.Es=function(){return this.qb?this.type.C.length:this.C.length},e.prototype.Pe=function(){return this.qb?this.type.C:this.C},e.prototype.xn=function(a){a&&(a.i.td().be.eg?(this.qb&&(this.C.length=0,Aa(this.eb,a.type.C),this.qb=!1),a=this.eb.indexOf(a),-1!==a&&(this.C.push(this.eb[a]),this.eb.splice(a,1))):(this.qb=!1,this.C.length=1,this.C[0]=a))},lb=e,window._c2hh_="417E4E0E570EED14CF766147927F77190F28B24E",f.prototype.xc=function(a){var b,d=this.parent;if(this.group)for(this.Qq=!0;d;){if(!d.group){this.Qq=!1;break}d=d.parent}for(this.Cu=!this.vw()&&(!this.parent||this.parent.group&&this.parent.Qq),this.iw=!!a,this.Vi=this.Jb.slice(0),d=this.parent;d;){for(a=0,b=d.Jb.length;b>a;a++)this.jA(d.Jb[a]);d=d.parent}for(this.Jb=c(this.Jb),this.Vi=c(this.Vi),a=0,b=this.gd.length;b>a;a++)this.gd[a].xc();for(a=0,b=this.hf.length;b>a;a++)this.hf[a].xc();for(a=0,b=this.Lf.length;b>a;a++)this.Lf[a].xc(b-1>a&&this.Lf[a+1].up)},f.prototype.ZD=function(a){if(this.xm!==!!a){this.xm=!!a;var b;for(a=0,b=this.Eo.length;b>a;++a)this.Eo[a].Hy();b>0&&this.i.Cb.oj&&this.i.Cb.oj.Gu()}},f.prototype.rv=function(a){g(a,this.Jb)},f.prototype.jA=function(a){g(a,this.Vi)},f.prototype.Aq=function(){this.my=!0,this.parent&&this.parent.Aq()},f.prototype.vw=function(){return this.gd.length?this.gd[0].trigger:!1},f.prototype.Ic=function(){var a,c,f,b=!1,d=this.i,e=this.i.td();if(e.be=this,f=this.gd,this.up||(e.bs=!1),this.eg){for(0===f.length&&(b=!0),e.Qc=0,a=f.length;e.Qc<a;e.Qc++)f[e.Qc].trigger||(c=f[e.Qc].Ic())&&(b=!0);(e.Ej=b)&&this.vq()}else{for(e.Qc=0,a=f.length;e.Qc<a;e.Qc++)if(c=f[e.Qc].Ic(),!c)return e.Ej=!1,this.Cu&&d.yi&&d.Bd(),void 0;e.Ej=!0,this.vq()}this.gB(e)},f.prototype.gB=function(a){a.Ej&&this.iw&&(a.bs=!0),this.Cu&&this.i.yi&&this.i.Bd()},f.prototype.SD=function(a){this.i.td().be=this,this.gd[a].Ic()&&(this.vq(),this.i.td().Ej=!0)},f.prototype.vq=function(){var b,a=this.i.td();for(a.Zd=0,b=this.hf.length;a.Zd<b;a.Zd++)if(this.hf[a.Zd].Ic())return;this.Zx()},f.prototype.OD=function(){var b,a=this.i.td();for(b=this.hf.length;a.Zd<b;a.Zd++)if(this.hf[a.Zd].Ic())return;this.Zx()},f.prototype.Zx=function(){if(this.Lf.length){var a,b,c,d,e=this.Lf.length-1;if(this.i.qq(this),this.my)for(a=0,b=this.Lf.length;b>a;a++)c=this.Lf[a],(d=!this.Qq||!this.group&&e>a)&&this.i.pq(c.Jb),c.Ic(),d?this.i.Zj(c.Jb):this.i.Or(c.Jb);else for(a=0,b=this.Lf.length;b>a;a++)this.Lf[a].Ic();this.i.kq()}},f.prototype.TD=function(){var c,b,a=this.i.td();for(a.be=this,b=!1,a.Qc=0,c=this.gd.length;a.Qc<c;a.Qc++)if(this.gd[a.Qc].Ic())b=!0;else if(!this.eg)return!1;return this.eg?b:!0},f.prototype.PD=function(){this.i.qj++;var a=this.i.td().Qc,b=this.i.qq(this);if(!this.eg)for(b.Qc=a+1,a=this.gd.length;b.Qc<a;b.Qc++)if(!this.gd[b.Qc].Ic())return this.i.kq(),void 0;this.vq(),this.i.kq()},f.prototype.AC=function(a){var b=a.index;if(0===b)return!0;for(--b;b>=0;--b)if(this.gd[b].type===a.type)return!1;return!0},Wb=f,h.prototype.xc=function(){var a,b,c;for(a=0,b=this.Ia.length;b>a;a++)c=this.Ia[a],c.xc(),c.Mf&&(this.Pl=!0)},h.prototype.VD=function(){return!0},h.prototype.ou=function(){var a,b;for(a=0,b=this.Ia.length;b>a;a++)this.nc[a]=this.Ia[a].get();return Pa(this.sd.apply(this.i.Ug,this.nc),this.Qs)},h.prototype.UD=function(){var a,b;for(a=0,b=this.Ia.length;b>a;a++)this.nc[a]=this.Ia[a].get();return a=this.sd.apply(this.hj?this.hj:this.type,this.nc),this.type.Sf(),a},h.prototype.nu=function(){var a,c,d,e,f,g,h,v,w,i=this.type,j=i.Va(),k=this.Ne.eg&&!this.trigger,b=0,l=i.he,m=i.ma,n=i.qh,o=this.Tf,p=o>-1,q=this.Pl,r=this.Ia,s=this.nc,t=this.Qs,u=this.sd;if(q)for(b=0,e=r.length;e>b;++b)f=r[b],f.Mf||(s[b]=f.get(0));else for(b=0,e=r.length;e>b;++b)s[b]=r[b].get(0);if(j.qb){for(j.C.length=0,j.eb.length=0,v=i.C,a=0,d=v.length;d>a;++a){if(h=v[a],q)for(b=0,e=r.length;e>b;++b)f=r[b],f.Mf&&(s[b]=f.get(a));p?(b=0,m&&(b=h.type.zk[n]),b=u.apply(h.Ka[o+b],s)):b=u.apply(h,s),(g=Pa(b,t))?j.C.push(h):k&&j.eb.push(h)}return i.finish&&i.finish(!0),j.qb=!1,i.Sf(),j.Es()}for(c=0,v=(g=k&&!this.Ne.AC(this))?j.eb:j.C,w=!1,a=0,d=v.length;d>a;++a){if(h=v[a],q)for(b=0,e=r.length;e>b;++b)f=r[b],f.Mf&&(s[b]=f.get(a));if(p?(b=0,m&&(b=h.type.zk[n]),b=u.apply(h.Ka[o+b],s)):b=u.apply(h,s),Pa(b,t))if(w=!0,g){if(j.C.push(h),l)for(b=0,e=h.siblings.length;e>b;b++)f=h.siblings[b],f.type.Va().C.push(f)}else{if(v[c]=h,l)for(b=0,e=h.siblings.length;e>b;b++)f=h.siblings[b],f.type.Va().C[c]=f;c++}else if(g){if(v[c]=h,l)for(b=0,e=h.siblings.length;e>b;b++)f=h.siblings[b],f.type.Va().eb[c]=f;c++}else if(k&&(j.eb.push(h),l))for(b=0,e=h.siblings.length;e>b;b++)f=h.siblings[b],f.type.Va().eb.push(f)}if(v.length=c,l)for(m=i.te,a=0,d=m.length;d>a;a++)h=m[a].Va(),g?h.eb.length=c:h.C.length=c;if(c=w,g&&!w)for(a=0,d=j.C.length;d>a;a++){if(h=j.C[a],q)for(b=0,e=r.length;e>b;b++)f=r[b],f.Mf&&(s[b]=f.get(a));if(b=p?u.apply(h.Ka[o],s):u.apply(h,s),Pa(b,t)){w=!0;break}}return i.finish&&i.finish(c||k),k?w:j.Es()},Rb=h,i.prototype.xc=function(){var a,b,c;for(a=0,b=this.Ia.length;b>a;a++)c=this.Ia[a],c.xc(),c.Mf&&(this.Pl=!0)},i.prototype.ou=function(){var b,c,a=this.i,d=this.Ia,e=this.nc;for(b=0,c=d.length;c>b;++b)e[b]=d[b].get();return this.sd.apply(a.Ug,e)},i.prototype.nu=function(){var j,k,l,m,n,o,a=this.type,b=this.Tf,c=a.qh,d=this.Pl,e=this.Ia,f=this.nc,g=this.sd,h=a.Va().Pe(),a=a.ma,i=b>-1;if(d)for(k=0,m=e.length;m>k;++k)n=e[k],n.Mf||(f[k]=n.get(0));else for(k=0,m=e.length;m>k;++k)f[k]=e[k].get(0);for(j=0,l=h.length;l>j;++j){if(o=h[j],d)for(k=0,m=e.length;m>k;++k)n=e[k],n.Mf&&(f[k]=n.get(j));i?(k=0,a&&(k=o.type.zk[c]),g.apply(o.Ka[b+k],f)):g.apply(o,f)}return!1},Sb=i,p=[],q=-1,k.prototype.xc=function(){var a,b;if(11===this.type)this.pj=this.i.Xv(this.Tn,this.Ne.parent);else if(13===this.type)for(a=0,b=this.ak.length;b>a;a++)this.ak[a].xc();this.xg&&this.xg.xc()},k.prototype.iD=function(a){this.Mf||!a||a.yb.Cq||(this.Mf=!0)},k.prototype.dy=function(){this.Mf=!0},k.prototype.dC=function(a){return this.Uh=a||0,a=j(),this.xg.get(a),q--,a.data},k.prototype.eC=function(a){return this.Uh=a||0,a=j(),this.xg.get(a),q--,ka(a.data)?a.data:""},k.prototype.kC=function(){return this.object},k.prototype.bC=function(){return this.Fv},k.prototype.iC=function(a){return this.Uh=a||0,a=j(),this.xg.get(a),q--,a.Wc()?this.i.tm(a.data):this.i.ws(a.data)},k.prototype.jC=function(){return this.jd},k.prototype.hC=function(){return this.key},k.prototype.gC=function(){return this.index},k.prototype.fC=function(a){a=a||0;var b=this.Qb.type,c=null,c=b.Va(),d=c.Pe();if(d.length)c=d[a%d.length].type;else if(c.eb.length)c=c.eb[a%c.eb.length].type;else{if(!b.C.length)return 0;c=b.C[a%b.C.length].type}return this.index+c.Zo[b.qh]},k.prototype.cC=function(){return this.pj},k.prototype.aC=function(){return this.Qv},k.prototype.lC=function(){var a,b;for(a=0,b=this.ak.length;b>a;a++)this.Sn[a]=this.ak[a].get();return this.Sn},Tb=k,l.prototype.xc=function(){this.Jb=c(this.Jb)},l.prototype.$j=function(a){var b=this.i.Wv();this.parent&&!this.Im&&b?(this.Lj>=b.length&&(b.length=this.Lj+1),b[this.Lj]=a):this.data=a},l.prototype.vm=function(){var a=this.i.Wv();return!this.parent||this.Im||!a||this.tp?this.data:this.Lj>=a.length||"undefined"==typeof a[this.Lj]?this.Js:a[this.Lj]},l.prototype.Ic=function(){!this.parent||this.Im||this.tp||this.$j(this.Js)},Nb=l,m.prototype.toString=function(){return"include:"+this.Am.toString()},m.prototype.xc=function(){this.Am=this.i.ds[this.rC],this.sheet.jw.add(this),this.Jb=c(this.Jb);for(var a=this.parent;a;)a.group&&a.Eo.push(this),a=a.parent;this.Hy()},m.prototype.Ic=function(){this.parent&&this.i.Cn(this.i.aa),this.Am.Fs||this.Am.Ic(!0),this.parent&&this.i.Zj(this.i.aa)},m.prototype.Hy=function(){for(var a=this.parent;a;){if(a.group&&!a.xm)return this.Zb=!1,void 0;a=a.parent}this.Zb=!0},Xb=m,n.prototype.reset=function(a){this.be=a,this.Zd=this.Qc=0,this.uy.length=0,this.bs=this.Ej=!1},Mb=n}(),function(){function a(a,b){var c,d,e;switch(this.Qb=a,this.i=a.i,this.type=b[0],this.get=[this.uB,this.qB,this.DB,this.HB,this.jB,this.EB,this.yB,this.nB,this.xB,this.CB,this.kB,this.BB,this.oB,this.zB,this.vB,this.wB,this.rB,this.sB,this.mB,this.GB,this.AB,this.tB,this.lB,this.pB][this.type],c=null,this.Jh=this.Ia=this.nc=this.sd=this.Oq=this.qd=this.first=this.value=null,this.Tf=-1,this.Ai=null,this.Py=-1,this.pj=this.Tn=null,this.jl=!1,this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=new Vb(a,b[1]);break;case 18:this.first=new Vb(a,b[1]),this.qd=new Vb(a,b[2]),this.Oq=new Vb(a,b[3]);break;case 19:this.sd=this.i.ei(b[1]),this.sd!==K.prototype.Za.random&&this.sd!==K.prototype.Za.BA||this.Qb.dy(),this.nc=[],this.Ia=[],3===b.length?(c=b[2],this.nc.length=c.length+1):this.nc.length=1;break;case 20:this.Jh=this.i.aa[b[1]],this.Tf=-1,this.sd=this.i.ei(b[2]),this.jl=b[3],nc&&this.sd===nc.prototype.Za.Uy&&this.Qb.dy(),this.Ai=b[4]?new Vb(a,b[4]):null,this.nc=[],this.Ia=[],6===b.length?(c=b[5],this.nc.length=c.length+1):this.nc.length=1;break;case 21:this.Jh=this.i.aa[b[1]],this.jl=b[2],this.Ai=b[3]?new Vb(a,b[3]):null,this.Py=b[4];break;case 22:this.Jh=this.i.aa[b[1]],this.Jh.hp(b[2]),this.Tf=this.Jh.ss(b[2]),this.sd=this.i.ei(b[3]),this.jl=b[4],this.Ai=b[5]?new Vb(a,b[5]):null,this.nc=[],this.Ia=[],7===b.length?(c=b[6],this.nc.length=c.length+1):this.nc.length=1;break;case 23:this.Tn=b[1],this.pj=null}if(this.Qb.iD(this.Jh),4<=this.type&&17>=this.type&&(this.first=new Vb(a,b[1]),this.qd=new Vb(a,b[2])),c)for(d=0,e=c.length;e>d;d++)this.Ia.push(new Vb(a,c[d]))}function b(){return++f,e.length===f&&e.push(new Ub),e[f]}function c(a,b,c){var d,e;for(d=0,e=a.length;e>d;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Yb.jk,this.data=b||0,this.Xj=null,this.type==Yb.jk&&(this.data=Math.floor(this.data))}a.prototype.xc=function(){if(23===this.type&&(this.pj=this.Qb.i.Xv(this.Tn,this.Qb.Ne.parent)),this.first&&this.first.xc(),this.qd&&this.qd.xc(),this.Oq&&this.Oq.xc(),this.Ai&&this.Ai.xc(),this.Ia){var a,b;for(a=0,b=this.Ia.length;b>a;a++)this.Ia[a].xc()}};var e=[],f=-1;a.prototype.GB=function(a){var d=this.Ia,e=this.nc;e[0]=a,a=b(),c(d,e,a),--f,this.sd.apply(this.i.Ug,e)},a.prototype.AB=function(a){var d=this.Jh,e=this.nc,g=this.Ia,h=this.Ai,i=this.sd,j=this.Qb.Uh,k=d.Va(),l=k.Pe();if(!l.length){if(!k.eb.length)return this.jl?a.Jc(""):a.Gb(0),void 0;l=k.eb}e[0]=a,a.Xj=d,a=b(),c(g,e,a),h&&(h.get(a),a.Wc()&&(j=a.data,l=d.C)),--f,d=l.length,(j>=d||-d>=j)&&(j%=d),0>j&&(j+=d),i.apply(l[j],e)},a.prototype.lB=function(a){var d=this.Jh,e=this.nc,g=this.Ia,h=this.Ai,i=this.Tf,j=this.sd,k=this.Qb.Uh,l=d.Va(),m=l.Pe();if(!m.length){if(!l.eb.length)return this.jl?a.Jc(""):a.Gb(0),void 0;m=l.eb}e[0]=a,a.Xj=d,a=b(),c(g,e,a),h&&(h.get(a),a.Wc()&&(k=a.data,m=d.C)),--f,g=m.length,(k>=g||-g>=k)&&(k%=g),0>k&&(k+=g),k=m[k],m=0,d.ma&&(m=k.type.zk[d.qh]),j.apply(k.Ka[i+m],e)},a.prototype.tB=function(a){var c=this.Ai,d=this.Jh,e=this.Py,g=this.Qb.Uh,h=d.Va(),i=h.Pe();if(!i.length){if(!h.eb.length)return this.jl?a.Jc(""):a.Gb(0),void 0;i=h.eb}if(c){if(h=b(),c.get(h),h.Wc())return g=h.data,d=d.C,g%=d.length,0>g&&(g+=d.length),e=d[g].Vc[e],ka(e)?a.Jc(e):a.ca(e),--f,void 0;--f}c=i.length,(g>=c||-c>=g)&&(g%=c),0>g&&(g+=c),g=i[g],i=0,d.ma&&(i=g.type.Zo[d.qh]),e=g.Vc[e+i],ka(e)?a.Jc(e):a.ca(e)},a.prototype.uB=function(a){a.type=Yb.jk,a.data=this.value},a.prototype.qB=function(a){a.type=Yb.hk,a.data=this.value},a.prototype.DB=function(a){a.type=Yb.String,a.data=this.value},a.prototype.HB=function(a){this.first.get(a),a.Wc()&&(a.data=-a.data)},a.prototype.jB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data+=c.data,c.Fk()&&a.Zk()),--f},a.prototype.EB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data-=c.data,c.Fk()&&a.Zk()),--f},a.prototype.yB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data*=c.data,c.Fk()&&a.Zk()),--f},a.prototype.nB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data/=c.data,a.Zk()),--f},a.prototype.xB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data%=c.data,c.Fk()&&a.Zk()),--f},a.prototype.CB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data=Math.pow(a.data,c.data),c.Fk()&&a.Zk()),--f},a.prototype.kB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()?c.vp()?a.Jc(a.data.toString()+c.data):a.data&&c.data?a.Gb(1):a.Gb(0):a.vp()&&(a.data=c.vp()?a.data+c.data:a.data+(Math.round(1e10*c.data)/1e10).toString()),--f},a.prototype.BB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Wc()&&c.Wc()&&(a.data||c.data?a.Gb(1):a.Gb(0)),--f},a.prototype.mB=function(a){this.first.get(a),a.data?this.qd.get(a):this.Oq.get(a)},a.prototype.oB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data===c.data?1:0),--f},a.prototype.zB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data!==c.data?1:0),--f},a.prototype.vB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data<c.data?1:0),--f},a.prototype.wB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data<=c.data?1:0),--f},a.prototype.rB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data>c.data?1:0),--f},a.prototype.sB=function(a){this.first.get(a);var c=b();this.qd.get(c),a.Gb(a.data>=c.data?1:0),--f},a.prototype.pB=function(a){var b=this.pj.vm();ja(b)?a.ca(b):a.Jc(b)},Vb=a,d.prototype.Fk=function(){return this.type===Yb.hk},d.prototype.Wc=function(){return this.type===Yb.jk||this.type===Yb.hk},d.prototype.vp=function(){return this.type===Yb.String},d.prototype.Zk=function(){this.Fk()||(this.vp()&&(this.data=parseFloat(this.data)),this.type=Yb.hk)},d.prototype.Gb=function(a){this.type=Yb.jk,this.data=Math.floor(a)},d.prototype.ca=function(a){this.type=Yb.hk,this.data=a},d.prototype.Jc=function(a){this.type=Yb.String,this.data=a},d.prototype.ey=function(a){ja(a)?(this.type=Yb.hk,this.data=a):ka(a)?(this.type=Yb.String,this.data=a.toString()):(this.type=Yb.jk,this.data=0)},Ub=d,Yb={jk:0,hk:1,String:2}}(),K.prototype.Zc=function(){var b,c,d,e,f,g,h,i,k,j,a={};for(a.waits=[],j=a.waits,b=0,c=this.me.length;c>b;b++){for(g=this.me[b],k={t:g.time,st:g.ly,s:g.uu,ev:g.xk.Wa,sm:[],sols:{}},g.xk.hf[g.Zd]&&(k.act=g.xk.hf[g.Zd].Wa),d=0,e=g.Jb.length;e>d;d++)k.sm.push(g.Jb[d].Wa);for(f in g.Wd)if(g.Wd.hasOwnProperty(f)){for(h=this.i.aa[parseInt(f,10)],i={sa:g.Wd[f].wq,insts:[]},d=0,e=g.Wd[f].sh.length;e>d;d++)i.insts.push(g.Wd[f].sh[d].uid);k.sols[h.Wa.toString()]=i}j.push(k)}return a},K.prototype.vd=function(a){a=a.waits;var b,c,d,e,f,g,h,i,j,k,l;for(b=this.me.length=0,c=a.length;c>b;b++)if(g=a[b],i=this.i.xv[g.ev.toString()]){for(j=-1,d=0,e=i.hf.length;e>d;d++)if(i.hf[d].Wa===g.act){j=d;break}if(-1!==j){for(h={Wd:{},Jb:[],as:!1},h.time=g.t,h.ly=g.st||"",h.uu=!!g.s,h.xk=i,h.Zd=j,d=0,e=g.sm.length;e>d;d++)(i=this.i.kp(g.sm[d]))&&h.Jb.push(i);for(f in g.sols)if(g.sols.hasOwnProperty(f)&&(i=this.i.kp(parseInt(f,10)))){for(j=g.sols[f],k={wq:j.sa,sh:[]},d=0,e=j.insts.length;e>d;d++)(l=this.i.xi(j.insts[d]))&&k.sh.push(l);h.Wd[i.index.toString()]=k}this.me.push(h)}}},function(){function a(){}function b(){}function c(){}var e,f,d=K.prototype;a.prototype.dz=function(){return!0},a.prototype.av=function(){return!0},a.prototype.Ez=function(){return!0},a.prototype.Xy=function(a,b,c){return Zb(a,b,c)},a.prototype.cz=function(a){var e,b=this.i.us(),c=b.da.Every_lastTime||0,d=this.i.Ae.xa;return"undefined"==typeof b.da.Every_seconds&&(b.da.Every_seconds=a),e=b.da.Every_seconds,d>=c+e?(b.da.Every_lastTime=c+e,d>=b.da.Every_lastTime+.04&&(b.da.Every_lastTime=d),b.da.Every_seconds=a,!0):(c-.1>d&&(b.da.Every_lastTime=d),!1)},a.prototype.Zy=function(a,b,c){return Zb(a.vm(),b,c)},a.prototype.bz=function(){var a=this.i.td();return a.bs?!1:!a.Ej},a.prototype.bv=function(){return!0},a.prototype.sz=function(){return!0},a.prototype.mr=function(){return!0},a.prototype.Fz=function(){return!0},a.prototype.lr=function(){return!0},a.prototype.Ty=function(a,b,c){return Ka(w(a),w(c))<=w(b)},a.prototype.jz=function(a,b){return Ma(w(a),w(b))},a.prototype.iz=function(a,b,c){return a=Ia(a),b=Ia(b),c=Ia(c),Ma(c,b)?Ma(a,b)&&!Ma(a,c):!(!Ma(a,b)&&Ma(a,c))},d.M=new a,b.prototype.gz=function(a){this.i.Jm||this.i.Wl||(this.i.Wl=a)},b.prototype.az=function(a,b,c,d){if(b&&a&&(b=this.i.Vr(a,b,c,d))){this.i.Re++;var e;if(this.i.trigger(Object.getPrototypeOf(a.yb).M.Il,b),b.he)for(c=0,d=b.siblings.length;d>c;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.yb).M.Il,e);if(this.i.Re--,a=a.Va(),a.qb=!1,a.C.length=1,a.C[0]=b,b.he)for(c=0,d=b.siblings.length;d>c;c++)e=b.siblings[c],a=e.type.Va(),a.qb=!1,a.C.length=1,a.C[0]=e}},b.prototype.Tz=function(a,b){0===a.Yq?ja(b)?a.$j(b):a.$j(parseFloat(b)):1===a.Yq&&a.$j(b.toString())},b.prototype.Sy=function(a,b){0===a.Yq?ja(b)?a.$j(a.vm()+b):a.$j(a.vm()+parseFloat(b)):1===a.Yq&&a.$j(a.vm()+b.toString())},e=[],f=[],b.prototype.dA=function(a){if(!(0>a)){var b,c,d,h,g=this.i.td();for(h=e.length?e.pop():{Wd:{},Jb:[]},h.as=!1,h.time=this.i.Ae.xa+a,h.ly="",h.uu=!1,h.xk=g.be,h.Zd=g.Zd+1,a=0,b=this.i.aa.length;b>a;a++)d=this.i.aa[a],c=d.Va(),c.qb&&-1===g.be.Jb.indexOf(d)||(h.Jb.push(d),d=void 0,d=f.length?f.pop():{sh:[]},d.wq=!1,d.wq=c.qb,Aa(d.sh,c.C),h.Wd[a.toString()]=d);return this.me.push(h),!0}},b.prototype.Rz=function(a,b,c){if(this.i.Cb&&this.i.ba&&(a=this.i.Cb.ip(a))){var d=this.i.Cb.$b[a.index];b=Math.floor(b),0>b||b>=d.length||(1===this.i.ba.bw(a.rd,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Zb&&(this.i.Ta=!0)))}},d.ta=new b,c.prototype["int"]=function(a,b){ka(b)?(a.Gb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Gb(b)},c.prototype["float"]=function(a,b){ka(b)?(a.ca(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ca(b)},c.prototype.random=function(a,b,c){void 0===c?a.ca(Math.random()*b):a.ca(Math.random()*(c-b)+b)},c.prototype.sqrt=function(a,b){a.ca(Math.sqrt(b))},c.prototype.abs=function(a,b){a.ca(Math.abs(b))},c.prototype.round=function(a,b){a.Gb(Math.round(b))},c.prototype.floor=function(a,b){a.Gb(Math.floor(b))},c.prototype.ceil=function(a,b){a.Gb(Math.ceil(b))},c.prototype.sin=function(a,b){a.ca(Math.sin(w(b)))},c.prototype.cos=function(a,b){a.ca(Math.cos(w(b)))},c.prototype.tan=function(a,b){a.ca(Math.tan(w(b)))},c.prototype.asin=function(a,b){a.ca(Ea(Math.asin(b)))},c.prototype.acos=function(a,b){a.ca(Ea(Math.acos(b)))},c.prototype.atan=function(a,b){a.ca(Ea(Math.atan(b)))},c.prototype.exp=function(a,b){a.ca(Math.exp(b))},c.prototype.log10=function(a,b){a.ca(Math.log(b)/Math.LN10)},c.prototype.max=function(a){var c,d,e,b=arguments[1];for("number"!=typeof b&&(b=0),c=2,d=arguments.length;d>c;c++)e=arguments[c],"number"==typeof e&&e>b&&(b=e);a.ca(b)},c.prototype.min=function(a){var c,d,e,b=arguments[1];for("number"!=typeof b&&(b=0),c=2,d=arguments.length;d>c;c++)e=arguments[c],"number"==typeof e&&b>e&&(b=e);a.ca(b)},c.prototype.Fa=function(a){a.ca(this.i.Fa)},c.prototype.Yi=function(a){a.ca(this.i.Yi)},c.prototype.time=function(a){a.ca(this.i.Ae.xa)},c.prototype.df=function(a){a.Gb(this.i.df)},c.prototype.Vp=function(a){a.Gb(this.i.Vp)},c.prototype.ms=function(a){a.Gb(this.i.ms)},c.prototype.nh=function(a,b,c,d,e){a.ca(Oa(b,c,d,e))},c.prototype.H=function(a,b,c,d,e){a.ca(Ea(Ja(b,c,d,e)))},c.prototype.find=function(a,b,c){ka(b)&&ka(c)?a.Gb(b.search(new RegExp($a(c),"i"))):a.Gb(-1)},c.prototype.left=function(a,b,c){a.Jc(ka(b)?b.substr(0,c):"")},c.prototype.right=function(a,b,c){a.Jc(ka(b)?b.substr(b.length-c):"")},c.prototype.replace=function(a,b,c,d){ka(b)&&ka(c)&&ka(d)?a.Jc(b.replace(new RegExp($a(c),"gi"),d)):a.Jc(ka(b)?b:"")},c.prototype.trim=function(a,b){a.Jc(ka(b)?b.trim():"")},c.prototype.BA=function(a){var b=ra(Math.random()*(arguments.length-1));a.ey(arguments[b+1])},c.prototype.Ur=function(a){a.ca(this.i.Ur/1e3)},c.prototype.Kp=function(a){a.ca(this.i.Kp)},d.Za=new c,d.RD=function(){var a,b,c,d,g,h,i=this.i.td();for(a=0,c=this.me.length;c>a;a++){if(d=this.me[a],-1===d.time){if(!d.uu)continue}else if(d.time>this.i.Ae.xa)continue;i.be=d.xk,i.Zd=d.Zd,i.Qc=0;for(b in d.Wd)d.Wd.hasOwnProperty(b)&&(g=this.i.aa[parseInt(b,10)].Va(),h=d.Wd[b],g.qb=h.wq,Aa(g.C,h.sh),g=h,g.sh.length=0,f.push(g));d.xk.OD(),this.i.Or(d.Jb),d.as=!0}for(b=a=0,c=this.me.length;c>a;a++)d=this.me[a],this.me[b]=d,d.as?(Ra(d.Wd),d.Jb.length=0,e.push(d)):b++;this.me.length=b}}(),function(){kb=function(a,b){var j,k,l,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],h=a[7],i=a[8];b.M||(b.M={}),b.ta||(b.ta={}),b.Za||(b.Za={}),j=b.M,k=b.ta,l=b.Za,d&&(j.JE=function(a,b){return Zb(this.x,a,b)},j.KE=function(a,b){return Zb(this.y,a,b)},j.PE=function(){var b,a=this.L;return this.sb(),b=this.gc,!(b.right<a.Mb||b.bottom<a.Nb||b.left>a.Yb||b.top>a.Xb)},j.QE=function(){this.sb();var a=this.gc,b=this.i.Cb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},j.aF=function(a,b,c){var i,j,k,f,g,h,d=this.Va(),e=d.Pe();if(!e.length)return!1;for(f=e[0],g=f,h=Oa(f.x,f.y,b,c),i=1,j=e.length;j>i;i++)f=e[i],k=Oa(f.x,f.y,b,c),(0===a&&h>k||1===a&&k>h)&&(h=k,g=f);return d.xn(g),!0},k.DF=function(a){this.x!==a&&(this.x=a,this.Db())},k.EF=function(a){this.y!==a&&(this.y=a,this.Db())},k.xF=function(a,b){(this.x!==a||this.y!==b)&&(this.x=a,this.y=b,this.Db())},k.yF=function(a,b){var d,c=a.XB(this);c&&(c.sf?(d=c.sf(b,!0),c=c.sf(b,!1)):(d=c.x,c=c.y),(this.x!==d||this.y!==c)&&(this.x=d,this.y=c,this.Db()))},k.VE=function(a){0!==a&&(this.x+=Math.cos(this.H)*a,this.y+=Math.sin(this.H)*a,this.Db())},k.UE=function(a,b){0!==b&&(this.x+=Math.cos(w(a))*b,this.y+=Math.sin(w(a))*b,this.Db())},l.lv=function(a){a.ca(this.x)},l.fA=function(a){a.ca(this.y)},l.Fa=function(a){a.ca(this.i.tj(this))}),e&&(j.IE=function(a,b){return Zb(this.width,a,b)},j.EE=function(a,b){return Zb(this.height,a,b)},k.Uz=function(a){this.width!==a&&(this.width=a,this.Db())},k.sF=function(a){this.height!==a&&(this.height=a,this.Db())},k.Sz=function(a,b){(this.width!==a||this.height!==b)&&(this.width=a,this.height=b,this.Db())},l.eA=function(a){a.ca(this.width)},l.hz=function(a){a.ca(this.height)},l.BE=function(a){this.sb(),a.ca(this.gc.left)},l.DE=function(a){this.sb(),a.ca(this.gc.top)},l.CE=function(a){this.sb(),a.ca(this.gc.right)},l.AE=function(a){this.sb(),a.ca(this.gc.bottom)}),f&&(j.Ty=function(a,b){return Ka(this.H,w(b))<=w(a)},j.jz=function(a){return Ma(this.H,w(a))},j.iz=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.H);return Ma(d,c)?Ma(e,c)&&!Ma(e,d):!(!Ma(e,c)&&Ma(e,d))},k.hv=function(a){a=w(Fa(a)),isNaN(a)||this.H===a||(this.H=a,this.Db())},k.hF=function(a){0===a||isNaN(a)||(this.H+=w(a),this.H=Ga(this.H),this.Db())},k.iF=function(a){0===a||isNaN(a)||(this.H-=w(a),this.H=Ga(this.H),this.Db())},k.jF=function(a,b){var c=La(this.H,w(b),w(a));isNaN(c)||this.H===c||(this.H=c,this.Db())},k.kF=function(a,b,c){a=La(this.H,Math.atan2(c-this.y,b-this.x),w(a)),isNaN(a)||this.H===a||(this.H=a,this.Db())},k.AF=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.H===c||(this.H=c,this.Db())},l.zE=function(a){a.ca(Ha(this.H))}),c||(j.FE=function(a,b,c){return Zb(this.Vc[a],b,c)},j.NE=function(a){return this.Vc[a]},j.bF=function(a,b){var h,i,j,e,f,g,c=this.Va(),d=c.Pe();if(!d.length)return!1;for(e=d[0],f=e,g=e.Vc[b],h=1,i=d.length;i>h;h++)e=d[h],j=e.Vc[b],(0===a&&g>j||1===a&&j>g)&&(g=j,f=e);return c.xn(f),!0},j.Nz=function(a){var b,c,d,e,f;if(this.i.us().Qs){if(f=this.Va(),f.qb)for(f.qb=!1,f.C.length=0,f.eb.length=0,d=this.C,b=0,c=d.length;c>b;b++)e=d[b],e.uid===a?f.eb.push(e):f.C.push(e);else{for(d=b=0,c=f.C.length;c>b;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.eb.push(e):d++;f.C.length=d}return this.Sf(),!!f.C.length}if(e=this.i.xi(a),!e)return!1;if(f=this.Va(),!f.qb&&-1===f.C.indexOf(e))return!1;if(this.ma){for(a=e.type.ac,b=0,c=a.length;c>b;b++)if(a[b]===this)return f.xn(e),this.Sf(),!0}else if(e.type===this)return f.xn(e),this.Sf(),!0;return!1},j.Il=function(){return!0},j.uz=function(){return!0},k.uF=function(a,b){var c=this.Vc;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):ka(c[a])&&(c[a]=ka(b)?b:b.toString())},k.yE=function(a,b){var c=this.Vc;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):ka(c[a])&&(c[a]=ka(b)?c[a]+b:c[a]+b.toString())},k.FF=function(a,b){var c=this.Vc;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},k.lF=function(a,b){this.Vc[a]=b?1:0},k.HF=function(a){this.Vc[a]=1-this.Vc[a]},k.Ld=function(){this.i.dh(this)},k.lz||(k.lz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}if(this.i.Hp(this,b,!0),this.sg&&this.sg(),this.Ka)for(a=0,b=this.Ka.length;b>a;++a)c=this.Ka[a],c.sg&&c.sg()}),l.LE=function(a){var c,d,e,b=a.Xj.C.length;for(c=0,d=this.i.Uf.length;d>c;c++)e=this.i.Uf[c],a.Xj.ma?0<=e.type.ac.indexOf(a.Xj)&&b++:e.type===a.Xj&&b++;a.Gb(b)},l.dF=function(a){a.Gb(a.Xj.Va().Pe().length)},l.IF=function(a){a.Gb(this.uid)},l.ME=function(a){a.Gb(this.wm())},l.Uu||(l.Uu=function(a){a.Jc(JSON.stringify(this.i.pu(this,!0)))})),g&&(j.RE=function(){return this.visible},k.jv=function(a){!a!=!this.visible&&(this.visible=a,this.i.Ta=!0)},j.GE=function(a,b){return Zb(gb(100*this.opacity),a,b)},k.vF=function(a){a/=100,0>a?a=0:a>1&&(a=1),a!==this.opacity&&(this.opacity=a,this.i.Ta=!0)},l.Opacity=function(a){a.ca(gb(100*this.opacity))}),h&&(j.OE=function(a){return a?this.L===a:!1},j.cF=function(a){var f,g,d,e,b=this.Va(),c=b.Pe();if(!c.length)return!1;for(d=c[0],e=d,f=1,g=c.length;g>f;f++)d=c[f],0===a?(d.L.index>e.L.index||d.L.index===e.L.index&&d.zg()>e.zg())&&(e=d):(d.L.index<e.L.index||d.L.index===e.L.index&&d.zg()<e.zg())&&(e=d);return b.xn(e),!0},k.YE=function(){var a=this.L,b=a.C;b.length&&b[b.length-1]===this||(a.il(this,!1),a.Rl(this,!1),this.i.Ta=!0)},k.WE=function(){var a=this.L,b=a.C;b.length&&b[0]===this||(a.il(this,!1),a.FD(this),this.i.Ta=!0)},k.XE=function(a){a&&a!=this.L&&(this.L.il(this,!0),this.L=a,a.Rl(this,!0),this.i.Ta=!0)},k.LF=function(a,b){var d,c=0===a;b&&(d=b.Yv(this),d&&d.uid!==this.uid&&(this.L.index!==d.L.index&&(this.L.il(this,!0),this.L=d.L,d.L.Rl(this,!0)),this.L.lD(this,d,c),this.i.Ta=!0))},l.TE=function(a){a.Gb(this.L.ox)},l.SE=function(a){a.Jc(this.L.name)},l.KF=function(a){a.Gb(this.zg())}),i&&(k.pF=function(a,b){var c,d;this.i.ba&&(c=this.type.vs(b),0>c||(d=1===a,this.hi[c]!==d&&(this.hi[c]=d,this.Zh(),this.i.Ta=!0)))},k.qF=function(a,b,c){if(this.i.ba){var d=this.type.vs(a);0>d||(a=this.type.Ga[d],d=this.$b[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.ba.bw(a.rd,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Zb&&(this.i.Ta=!0))))}})},Eb=function(){this.Jr=this.qo=!0,this.type.jo=!0,this.i.Ta=!0;var a,b,c=this.Ir;for(a=0,b=c.length;b>a;++a)c[a](this);this.L.kg&&this.sb()},Fb=function(a){a&&this.Ir.push(a)},Hb=function(){if(this.qo){var a=this.gc,b=this.Eb;a.set(this.x,this.y,this.x+this.width,this.y+this.height),a.offset(-this.fe*this.width,-this.ge*this.height),this.H?(a.offset(-this.x,-this.y),b.gy(a,this.H),b.offset(this.x,this.y),b.yv(a)):b.ol(a),a.normalize(),this.qo=!1,this.sE()}};var a=new ua(0,0,0,0);Ib=function(){if(this.L.kg){var b=this.L.Ge,c=this.gc;a.set(b.Le(c.left),b.Me(c.top),b.Le(c.right),b.Me(c.bottom)),this.je.Wo(a)||(this.je.right<this.je.left?b.update(this,null,a):b.update(this,this.je,a),this.je.Io(a),this.L.Rh=!0)}},Jb=function(){if(this.Jr&&this.lf){this.sb();var b=this.type.Xl,c=this.gc;a.set(b.Le(c.left),b.Me(c.top),b.Le(c.right),b.Me(c.bottom)),this.kf.Wo(a)||(this.kf.right<this.kf.left?b.update(this,null,a):b.update(this,this.kf,a),this.kf.Io(a),this.Jr=!1)}},Gb=function(a,b){return this.gc.Nd(a,b)&&this.Eb.Nd(a,b)?this.Qa&&!this.Qa.Cj()?(this.Qa.ij(this.width,this.height,this.H),this.Qa.Nd(a-this.x,b-this.y)):!0:!1},Ab=function(){return this.type.Wq(),this.yj},Kb=function(){return this.L.Ku(),this.lg},Lb=function(){this.lb.length=0;var a,b;for(a=0,b=this.hi.length;b>a;a++)this.hi[a]&&this.lb.push(this.type.Ga[a]);this.Oy=!!this.lb.length},Bb=function(){return"Inst"+this.Sx},nb=function(a){if(a&&a.he&&a.type!=this){var b,c,d;for(b=0,c=a.siblings.length;c>b;b++)if(d=a.siblings[b],d.type==this)return d}return a=this.Va().Pe(),a.length?a[0]:null},ob=function(a){var b=this.Va().Pe();return b.length?b[a.wm()%b.length]:null},mb=function(){var a,b,c,d;if(this.rl&&!this.ma){for(a=0,b=this.C.length;b>a;a++)this.C[a].yj=a;for(c=a,d=this.i.Uf,a=0,b=d.length;b>a;++a)d[a].type===this&&(d[a].yj=c++);this.rl=!1}},yb=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var c,d,b=this.i.Uf;for(c=0,d=b.length;d>c;++c)if(b[c].type===this){if(0===a)return b[c];--a}return null},pb=function(){return this.Wi[this.mh]},rb=function(){this.mh++,this.mh===this.Wi.length?this.Wi.push(new lb(this)):this.Wi[this.mh].qb=!0},sb=function(){this.mh++,this.mh===this.Wi.length&&this.Wi.push(new lb(this));var a=this.Wi[this.mh],b=this.Wi[this.mh-1];b.qb?a.qb=!0:(a.qb=!1,Aa(a.C,b.C),Aa(a.eb,b.eb))},tb=function(){this.mh--},ub=function(a){var b,c,d,e,f,g=0;if(!this.ma)for(b=0,c=this.ac.length;c>b;b++)for(f=this.ac[b],d=0,e=f.Cc.length;e>d;d++){if(a===f.Cc[d].name)return this.da.lastBehIndex=g,f.Cc[d];g++}for(b=0,c=this.Cc.length;c>b;b++){if(a===this.Cc[b].name)return this.da.lastBehIndex=g,this.Cc[b];g++}return null},vb=function(a){return this.hp(a)?this.da.lastBehIndex:-1},wb=function(a){var b,c;for(b=0,c=this.Ga.length;c>b;b++)if(this.Ga[b].name===a)return b;return-1},xb=function(){var a,b,c,d,e,f,g,h,i;if(this.he&&!this.ma)for(this.Wq(),f=this.Va(),h=f.qb,i=(a=this.i.td())&&a.be&&a.be.eg,a=0,b=this.te.length;b>a;a++)if(e=this.te[a],e!==this&&(e.Wq(),g=e.Va(),g.qb=h,!h)){for(g.C.length=f.C.length,c=0,d=f.C.length;d>c;c++)g.C[c]=e.Zv(f.C[c].yj);if(i)for(g.eb.length=f.eb.length,c=0,d=f.eb.length;d>c;c++)g.eb[c]=e.Zv(f.eb[c].yj)}},zb=function(){return"Type"+this.Wa},Zb=function(a,b,c){if("undefined"==typeof a||"undefined"==typeof c)return!1;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return c>a;case 3:return c>=a;case 4:return a>c;case 5:return a>=c;default:return!1}}}(),kc={grayscale:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float gray = front.r * 0.299 + front.g * 0.587 + front.b * 0.114;\ngl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}",fm:0,gm:0,Ko:!1,ho:!1,Ia:[["intensity",0,1]]},hsladjust:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3(huerotate, 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",fm:0,gm:0,Ko:!1,ho:!1,Ia:[["huerotate",0,1],["satadjust",0,1],["lumadjust",0,1]]}},function(){function a(a){return 0>a&&(a=0),a>1&&(a=1),20*(Math.log(a)/Math.log(10))
}function b(a){return a=a.toLowerCase(),_.hasOwnProperty(a)&&_[a].length?_[a][0].Oe():I.destination}function c(){return I.createGain?I.createGain():I.createGainNode()}function d(a){return I.createDelay?I.createDelay(a):I.createDelayNode(a)}function e(a){a.start?a.start(0):a.noteOn(0)}function f(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function h(a,b,d,e,f,g){this.type="filter",this.Bb=[a,b,d,e,f,g],this.$a=c(),this.Ea=c(),this.Ea.gain.value=g,this.Aa=c(),this.Aa.gain.value=1-g,this.Ec=I.createBiquadFilter(),this.Ec.type="number"==typeof this.Ec.type?a:ab[a],this.Ec.frequency.value=b,this.Ec.detune&&(this.Ec.detune.value=d),this.Ec.Q.value=e,this.Ec.gain.value=f,this.$a.connect(this.Ec),this.$a.connect(this.Aa),this.Ec.connect(this.Ea)}function i(a,b,e){this.type="delay",this.Bb=[a,b,e],this.$a=c(),this.Ea=c(),this.Ea.gain.value=e,this.Aa=c(),this.Aa.gain.value=1-e,this.kn=c(),this.pf=d(a),this.pf.delayTime.value=a,this.Ro=c(),this.Ro.gain.value=b,this.$a.connect(this.kn),this.$a.connect(this.Aa),this.kn.connect(this.Ea),this.kn.connect(this.pf),this.pf.connect(this.Ro),this.Ro.connect(this.kn)}function j(a,b,d,e){this.type="convolve",this.Bb=[b,d,e],this.$a=c(),this.Ea=c(),this.Ea.gain.value=d,this.Aa=c(),this.Aa.gain.value=1-d,this.lj=I.createConvolver(),a&&(this.lj.normalize=b,this.lj.buffer=a),this.$a.connect(this.lj),this.$a.connect(this.Aa),this.lj.connect(this.Ea)}function k(a,b,f,g,h){this.type="flanger",this.Bb=[a,b,f,g,h],this.$a=c(),this.Aa=c(),this.Aa.gain.value=1-h/2,this.Ea=c(),this.Ea.gain.value=h/2,this.$o=c(),this.$o.gain.value=g,this.pf=d(a+b),this.pf.delayTime.value=a,this.nd=I.createOscillator(),this.nd.frequency.value=f,this.Fe=c(),this.Fe.gain.value=b,this.$a.connect(this.pf),this.$a.connect(this.Aa),this.pf.connect(this.Ea),this.pf.connect(this.$o),this.$o.connect(this.pf),this.nd.connect(this.Fe),this.Fe.connect(this.pf.delayTime),e(this.nd)}function l(a,b,d,f,g,h){this.type="phaser",this.Bb=[a,b,d,f,g,h],this.$a=c(),this.Aa=c(),this.Aa.gain.value=1-h/2,this.Ea=c(),this.Ea.gain.value=h/2,this.Ec=I.createBiquadFilter(),this.Ec.type="number"==typeof this.Ec.type?7:"allpass",this.Ec.frequency.value=a,this.Ec.detune&&(this.Ec.detune.value=b),this.Ec.Q.value=d,this.nd=I.createOscillator(),this.nd.frequency.value=g,this.Fe=c(),this.Fe.gain.value=f,this.$a.connect(this.Ec),this.$a.connect(this.Aa),this.Ec.connect(this.Ea),this.nd.connect(this.Fe),this.Fe.connect(this.Ec.frequency),e(this.nd)}function m(a){this.type="gain",this.Bb=[a],this.ib=c(),this.ib.gain.value=a}function n(a,b){this.type="tremolo",this.Bb=[a,b],this.ib=c(),this.ib.gain.value=1-b/2,this.nd=I.createOscillator(),this.nd.frequency.value=a,this.Fe=c(),this.Fe.gain.value=b/2,this.nd.connect(this.Fe),this.Fe.connect(this.ib.gain),e(this.nd)}function o(a,b){this.type="ringmod",this.Bb=[a,b],this.$a=c(),this.Ea=c(),this.Ea.gain.value=b,this.Aa=c(),this.Aa.gain.value=1-b,this.Fn=c(),this.Fn.gain.value=0,this.nd=I.createOscillator(),this.nd.frequency.value=a,this.nd.connect(this.Fn.gain),e(this.nd),this.$a.connect(this.Fn),this.$a.connect(this.Aa),this.Fn.connect(this.Ea)}function p(a,b,d,e,f){this.type="distortion",this.Bb=[a,b,d,e,f],this.$a=c(),this.mq=c(),this.lq=c(),this.YD(d,Math.pow(10,e/20)),this.Ea=c(),this.Ea.gain.value=f,this.Aa=c(),this.Aa.gain.value=1-f,this.Zq=I.createWaveShaper(),this.Po=new Float32Array(65536),this.OB(a,b),this.Zq.Po=this.Po,this.$a.connect(this.mq),this.$a.connect(this.Aa),this.mq.connect(this.Zq),this.Zq.connect(this.lq),this.lq.connect(this.Ea)}function q(a,b,c,d,e){this.type="compressor",this.Bb=[a,b,c,d,e],this.ib=I.createDynamicsCompressor();try{this.ib.threshold.value=a,this.ib.knee.value=b,this.ib.ratio.value=c,this.ib.attack.value=d,this.ib.release.value=e}catch(f){}}function r(a,b){this.type="analyser",this.Bb=[a,b],this.ib=I.createAnalyser(),this.ib.fftSize=a,this.ib.smoothingTimeConstant=b,this.MB=new Float32Array(this.ib.frequencyBinCount),this.jy=new Uint8Array(a),this.wn=0}function s(){this.Da=null,this.Jp=0,this.Xi=[],this.Rt=this.zp=this.yp=0}function t(a,b){var d,e;switch(this.src=a,this.Ja=H,this.Xf=b,this.tv=!1,d=this,this.Pt=this.$t=null,this.fl=[],this.xq=0,this.Ru=this.es=this.oy=this.fq=!1,1===H&&b&&(this.Ja=0,this.$t=c()),this.gj=this.zb=null,this.Ja){case 0:this.zb=new Audio,this.zb.addEventListener("canplaythrough",function(){d.Ru=!0}),1===H&&I.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.oy=!0,this.zb.addEventListener("canplay",function(){d.Pt||(d.Pt=I.createMediaElementSource(d.zb),d.Pt.connect(d.$t))})),this.zb.autoplay=!1,this.zb.UF="auto",this.zb.src=a;break;case 1:e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){d.gj=e.response,d.GA()},e.onerror=function(){d.es=!0},e.send();break;case 2:this.zb=!0;break;case 3:this.zb=!0}}function u(a,d){var f,e=this;switch(this.tag=d,this.Ie=this.yg=!0,this.src=a.src,this.buffer=a,this.Ja=H,this.Xf=a.Xf,this.playbackRate=1,this.Tr=!0,this.wf=this.Sh=!1,this.ke=0,this.Hm=this.Gk=this.Cg=!1,this.volume=1,this.Bj=1===N&&!this.Xf||2===N,this.al=1,this.startTime=this.Bj?D.Ae.xa:D.ah.xa,this.wc=this.Sc=null,this.Mg=!1,this.vc=null,this.Ex=this.Dx=this.Cx=this.Bx=this.Gx=this.Fx=0,this.S=null,f=!1,1!==this.Ja||0!==this.buffer.Ja||this.buffer.oy||(this.Ja=0),this.Ja){case 0:this.Xf?(this.S=a.zb,f=!a.tv,a.tv=!0):(this.S=new Audio,this.S.autoplay=!1,this.S.src=a.zb.src,f=!0),f&&this.S.addEventListener("ended",function(){F=e.tag,e.Ie=!0,D.trigger(oc.prototype.M.kr,E)});break;case 1:this.Sc=c(),this.Sc.connect(b(d)),1===this.buffer.Ja?a.zb&&(this.S=I.createBufferSource(),this.S.buffer=a.zb,this.S.connect(this.Sc)):(this.S=this.buffer.zb,this.buffer.$t.connect(this.Sc));break;case 2:this.S=new window.Media(G+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Tr=!0,e.Ie=!0,F=e.tag,D.trigger(oc.prototype.M.kr,E))});break;case 3:this.S=!0}}function v(a,b){var c=a.Di()?1:0,d=b.Di()?1:0;return c===d?0:d>c?1:-1}function x(a,b){if(fb.length=0,a.length){var c,d,e;for(c=0,d=K.length;d>c;c++)e=K[c],hb(a,e.tag)&&fb.push(e);b&&fb.sort(v)}else L&&!L.xj()&&(fb.length=1,fb[0]=L)}function y(a,b){_.hasOwnProperty(a)?_[a].push(b):_[a]=[b];var c,d,e,f,g=I.destination;if(_.hasOwnProperty(a)&&(e=_[a],e.length))for(g=e[0].Oe(),c=0,d=e.length;d>c;c++)f=e[c],c+1===d?f.mf(I.destination):f.mf(e[c+1].Oe());for(x(a),c=0,d=fb.length;d>c;c++)fb[c].KD(g);X&&Y===a&&(X.disconnect(),X.connect(g))}function z(){}function A(){}function B(){}var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,C=oc.prototype;C.tb=function(a){this.yb=a,this.i=a.i},C.tb.prototype.ya=function(){},D=null,E=null,F="",G="",H=0,I=null,J=[],K=[],L=null,M=!1,N=0,O=!1,P=1,Q=0,R=0,S=1,T=1,U=10,V=1e4,W=1,X=null,Y="",Z=!1,$=[],_={},ab="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" "),h.prototype.mf=function(a){this.Ea.disconnect(),this.Ea.connect(a),this.Aa.disconnect(),this.Aa.connect(a)},h.prototype.remove=function(){this.$a.disconnect(),this.Ec.disconnect(),this.Ea.disconnect(),this.Aa.disconnect()},h.prototype.Oe=function(){return this.$a},i.prototype.mf=function(a){this.Ea.disconnect(),this.Ea.connect(a),this.Aa.disconnect(),this.Aa.connect(a)},i.prototype.remove=function(){this.$a.disconnect(),this.kn.disconnect(),this.pf.disconnect(),this.Ro.disconnect(),this.Ea.disconnect(),this.Aa.disconnect()},i.prototype.Oe=function(){return this.$a},j.prototype.mf=function(a){this.Ea.disconnect(),this.Ea.connect(a),this.Aa.disconnect(),this.Aa.connect(a)},j.prototype.remove=function(){this.$a.disconnect(),this.lj.disconnect(),this.Ea.disconnect(),this.Aa.disconnect()},j.prototype.Oe=function(){return this.$a},k.prototype.mf=function(a){this.Aa.disconnect(),this.Aa.connect(a),this.Ea.disconnect(),this.Ea.connect(a)},k.prototype.remove=function(){this.$a.disconnect(),this.pf.disconnect(),this.nd.disconnect(),this.Fe.disconnect(),this.Aa.disconnect(),this.Ea.disconnect(),this.$o.disconnect()},k.prototype.Oe=function(){return this.$a},l.prototype.mf=function(a){this.Aa.disconnect(),this.Aa.connect(a),this.Ea.disconnect(),this.Ea.connect(a)},l.prototype.remove=function(){this.$a.disconnect(),this.Ec.disconnect(),this.nd.disconnect(),this.Fe.disconnect(),this.Aa.disconnect(),this.Ea.disconnect()},l.prototype.Oe=function(){return this.$a},m.prototype.mf=function(a){this.ib.disconnect(),this.ib.connect(a)},m.prototype.remove=function(){this.ib.disconnect()},m.prototype.Oe=function(){return this.ib},n.prototype.mf=function(a){this.ib.disconnect(),this.ib.connect(a)},n.prototype.remove=function(){this.nd.disconnect(),this.Fe.disconnect(),this.ib.disconnect()},n.prototype.Oe=function(){return this.ib},o.prototype.mf=function(a){this.Ea.disconnect(),this.Ea.connect(a),this.Aa.disconnect(),this.Aa.connect(a)},o.prototype.remove=function(){this.nd.disconnect(),this.Fn.disconnect(),this.$a.disconnect(),this.Ea.disconnect(),this.Aa.disconnect()},o.prototype.Oe=function(){return this.$a},p.prototype.YD=function(a,b){.01>a&&(a=.01),this.mq.gain.value=a,this.lq.gain.value=Math.pow(1/a,.6)*b},p.prototype.shape=function(a,b,c){var d=1.05*c*b-b;return c=0>a?-1:1,a=0>a?-a:a,b=b>a?a:b+d*(1-Math.exp(-(1/d)*(a-b))),b*c},p.prototype.OB=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Po[32768+f]=e,this.Po[32768-f-1]=-e},p.prototype.mf=function(a){this.Ea.disconnect(),this.Ea.connect(a),this.Aa.disconnect(),this.Aa.connect(a)},p.prototype.remove=function(){this.$a.disconnect(),this.mq.disconnect(),this.Zq.disconnect(),this.lq.disconnect(),this.Ea.disconnect(),this.Aa.disconnect()},p.prototype.Oe=function(){return this.$a},q.prototype.mf=function(a){this.ib.disconnect(),this.ib.connect(a)},q.prototype.remove=function(){this.ib.disconnect()},q.prototype.Oe=function(){return this.ib},r.prototype.fc=function(){this.ib.getFloatFrequencyData(this.MB),this.ib.getByteTimeDomainData(this.jy);for(var b=this.ib.fftSize,c=0,d=this.wn=0,e=0;b>c;c++)e=(this.jy[c]-128)/128,0>e&&(e=-e),this.wn<e&&(this.wn=e),d+=e*e;this.wn=a(this.wn),a(Math.sqrt(d/b))},r.prototype.mf=function(a){this.ib.disconnect(),this.ib.connect(a)},r.prototype.remove=function(){this.ib.disconnect()},r.prototype.Oe=function(){return this.ib},s.prototype.Gn=function(a){(this.Da=a)&&(this.yp=this.Da.x,this.zp=this.Da.y),this.Xi.length=0},s.prototype.qp=function(){return!!this.Da},s.prototype.fc=function(a){this.Da&&0!==a&&(this.Rt=Ja(this.yp,this.zp,this.Da.x,this.Da.y),a=Oa(this.yp,this.zp,this.Da.x,this.Da.y)/a,4>this.Xi.length||this.Xi.shift(),this.Xi.push(a),this.yp=this.Da.x,this.zp=this.Da.y)},s.prototype.ew=function(){if(!this.Xi.length)return 0;var a,b,c=0;for(a=0,b=this.Xi.length;b>a;a++)c+=this.Xi[a];return c/this.Xi.length},s.prototype.zs=function(){return Math.cos(this.Rt)*this.ew()},s.prototype.As=function(){return Math.sin(this.Rt)*this.ew()},bb=!1,t.prototype.GA=function(){var a,b;!this.zb&&this.gj&&(a=this,I.decodeAudioData?I.decodeAudioData(this.gj,function(b){var c,d,e,f,g;if(a.zb=b,a.gj=null,ha(a.hq)||O)ha(a.Ho)||(c=a.Ho.lj,c.normalize=a.nx,c.buffer=b);else if(a.fl.length){for(c=0,d=a.fl.length;d>c;c++)b=a.fl[c],e=new u(a,b.xy),e.su(!0),("undefined"==typeof b.qx||(b.Da=D.xi(b.qx),b.Da))&&(b.Da?(f=Na(b.Da.x,b.Da.y,-b.Da.L.Fc(),Q,R,!0),g=Na(b.Da.x,b.Da.y,-b.Da.L.Fc(),Q,R,!1),e.ru(f,g,Ea(b.Da.H-b.Da.L.Fc()),b.Gs,b.Tt,b.Wt),e.Gn(b.Da)):e.ru(b.x,b.y,b.K,b.Gs,b.Tt,b.Wt),e.play(a.qt,a.Pu,a.xq),a.fq&&e.pause(),K.push(e));a.fl.length=0}else e=new u(a,a.hq),e.play(a.qt,a.Pu,a.xq),a.fq&&e.pause(),K.push(e)},function(){a.es=!0}):(this.zb=I.createBuffer(this.gj,!1),this.gj=null,ha(this.hq)||O?ha(this.Ho)||(b=this.Ho.lj,b.normalize=this.nx,b.buffer=this.zb):(b=new u(this,this.hq),b.play(this.qt,this.Pu,this.xq),this.fq&&b.pause(),K.push(b))))},t.prototype.pw=function(){switch(this.Ja){case 0:var a=4<=this.zb.readyState;return a&&(this.Ru=!0),a||this.Ru;case 1:return!!this.gj||!!this.zb;case 2:return!0;case 3:return!0}return!1},t.prototype.BC=function(){switch(this.Ja){case 0:return this.pw();case 1:return!!this.zb;case 2:return!0;case 3:return!0}return!1},t.prototype.qC=function(){switch(this.Ja){case 0:return!!this.zb.error;case 1:return this.es}return!1},u.prototype.xj=function(){var a,b;switch(this.Ja){case 0:return this.S.ended;case 1:return 1===this.buffer.Ja?!this.yg&&!this.Ie&&this.S.loop||this.wf?!1:(a=this.Bj?D.Ae.xa:D.ah.xa,b=this.playbackRate,0===b&&(b=1e-6),a-this.startTime>this.buffer.zb.duration/b):this.S.ended;case 2:return this.Tr;case 3:}return!0},u.prototype.yA=function(){return this.yg||this.Ie?!0:this.xj()},u.prototype.su=function(a){1===H&&(!this.Mg&&a?this.Sc&&(this.wc||(this.wc=I.createPanner(),this.wc.panningModel="number"==typeof this.wc.panningModel?S:["equalpower","HRTF","soundfield"][S],this.wc.distanceModel="number"==typeof this.wc.distanceModel?T:["linear","inverse","exponential"][T],this.wc.refDistance=U,this.wc.maxDistance=V,this.wc.rolloffFactor=W),this.Sc.disconnect(),this.Sc.connect(this.wc),this.wc.connect(b(this.tag)),this.Mg=!0):this.Mg&&!a&&this.Sc&&(this.wc.disconnect(),this.Sc.disconnect(),this.Sc.connect(b(this.tag)),this.Mg=!1))},u.prototype.ru=function(a,b,c,d,e,f){this.Mg&&1===H&&(this.wc.setPosition(a,b,0),this.wc.setOrientation(Math.cos(w(c)),Math.sin(w(c)),0),this.wc.coneInnerAngle=d,this.wc.coneOuterAngle=e,this.wc.coneOuterGain=f,this.Fx=a,this.Gx=b,this.Bx=c,this.Cx=d,this.Dx=e,this.Ex=f)},u.prototype.Gn=function(a){this.Mg&&1===H&&(this.vc||(this.vc=new s),this.vc.Gn(a))},u.prototype.fc=function(a){if(this.Mg&&1===H&&this.vc&&this.vc.qp()&&this.Di()){this.vc.fc(a),a=this.vc.Da;var b=Na(a.x,a.y,-a.L.Fc(),Q,R,!0),c=Na(a.x,a.y,-a.L.Fc(),Q,R,!1);this.wc.setPosition(b,c,0),b=0,"undefined"!=typeof this.vc.Da.H&&(b=a.H-a.L.Fc(),this.wc.setOrientation(Math.cos(b),Math.sin(b),0)),b=Na(this.vc.zs(),this.vc.As(),-a.L.Fc(),0,0,!0),c=Na(this.vc.zs(),this.vc.As(),-a.L.Fc(),0,0,!1),this.wc.setVelocity(b,c,0)}},u.prototype.play=function(a,b,c){var d=this.S;switch(this.Cg=a,this.volume=b,c=c||0,this.Ja){case 0:if(1!==d.playbackRate&&(d.playbackRate=1),d.volume!==b*P&&(d.volume=b*P),d.loop!==a&&(d.loop=a),d.muted&&(d.muted=!1),d.currentTime!==c)try{d.currentTime=c}catch(g){}if(this.Xf&&Z&&!D.ze)$.push(this);else try{this.S.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;case 1:if(this.muted=!1,this.al=1,1===this.buffer.Ja)this.Sc.gain.value=b*P,this.yg||(this.S=I.createBufferSource(),this.S.buffer=this.buffer.zb,this.S.connect(this.Sc)),this.S.loop=a,0===c?e(this.S):f(this.S,c,this.wi());else{if(1!==d.playbackRate&&(d.playbackRate=1),d.loop!==a&&(d.loop=a),d.volume=b*P,d.currentTime!==c)try{d.currentTime=c}catch(i){}this.Xf&&Z&&!D.ze?$.push(this):d.play()}break;case 2:(!this.yg&&this.Ie||0!==c)&&d.seekTo(c),d.play(),this.Tr=!1;break;case 3:D.Ed?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1,this.startTime=(this.Bj?D.Ae.xa:D.ah.xa)-c,this.wf=this.Ie=this.yg=!1},u.prototype.stop=function(){switch(this.Ja){case 0:this.S.paused||this.S.pause();break;case 1:1===this.buffer.Ja?g(this.S):this.S.paused||this.S.pause();break;case 2:this.S.stop();break;case 3:D.Ed&&AppMobi.context.stopSound(this.src)}this.Ie=!0,this.wf=!1},u.prototype.pause=function(){if(!(this.yg||this.Ie||this.xj()||this.wf)){switch(this.Ja){case 0:this.S.paused||this.S.pause();break;case 1:1===this.buffer.Ja?(this.ke=this.xs(),this.Cg&&(this.ke%=this.wi()),g(this.S)):this.S.paused||this.S.pause();break;case 2:this.S.pause();break;case 3:D.Ed&&AppMobi.context.stopSound(this.src)}this.wf=!0}},u.prototype.ND=function(){if(!(this.yg||this.Ie||this.xj())&&this.wf){switch(this.Ja){case 0:this.S.play();break;case 1:1===this.buffer.Ja?(this.S=I.createBufferSource(),this.S.buffer=this.buffer.zb,this.S.connect(this.Sc),this.S.loop=this.Cg,this.Sc.gain.value=P*this.volume*this.al,this.startTime=(this.Bj?D.Ae.xa:D.ah.xa)-this.ke,f(this.S,this.ke,this.wi())):this.S.play();break;case 2:this.S.play();break;case 3:D.Ed&&AppMobi.context.resumeSound(this.src)}this.wf=!1}},u.prototype.seek=function(a){if(!(this.yg||this.Ie||this.xj()))switch(this.Ja){case 0:try{this.S.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.Ja)this.wf?this.ke=a:(this.pause(),this.ke=a,this.ND());else try{this.S.currentTime=a}catch(c){}break;case 3:D.Ed&&AppMobi.context.seekSound(this.src,a)}},u.prototype.KD=function(a){1===this.Ja&&(this.Mg?(this.wc.disconnect(),this.wc.connect(a)):(this.Sc.disconnect(),this.Sc.connect(a)))},u.prototype.wi=function(){switch(this.Ja){case 0:if("undefined"!=typeof this.S.duration)return this.S.duration;break;case 1:return this.buffer.zb.duration;case 2:return this.S.getDuration();case 3:if(D.Ed)return AppMobi.context.getDurationSound(this.src)}return 0},u.prototype.xs=function(){var a=this.wi(),b=0;switch(this.Ja){case 0:"undefined"!=typeof this.S.currentTime&&(b=this.S.currentTime);break;case 1:if(1===this.buffer.Ja){if(this.wf)return this.ke;b=(this.Bj?D.Ae.xa:D.ah.xa)-this.startTime}else"undefined"!=typeof this.S.currentTime&&(b=this.S.currentTime);break;case 3:D.Ed&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}return!this.Cg&&b>a&&(b=a),b},u.prototype.Di=function(){return!(this.wf||this.yg||this.Ie||this.xj())},u.prototype.qE=function(){var a=this.volume*P;switch(this.Ja){case 0:"undefined"!=typeof this.S.volume&&this.S.volume!==a&&(this.S.volume=a);break;case 1:1===this.buffer.Ja?this.Sc.gain.value=a*this.al:"undefined"!=typeof this.S.volume&&this.S.volume!==a&&(this.S.volume=a)}},u.prototype.Uo=function(a){switch(this.Ja){case 0:this.S.muted!==!!a&&(this.S.muted=!!a);break;case 1:1===this.buffer.Ja?(this.al=a?0:1,this.Sc.gain.value=P*this.volume*this.al):this.S.muted!==!!a&&(this.S.muted=!!a)}},u.prototype.$D=function(){this.Gk=!0,this.Uo(this.Gk||this.Hm)},u.prototype.cy=function(a){this.Hm=!!a,this.Uo(this.Gk||this.Hm)},u.prototype.Ky=function(){var a=this.playbackRate;switch(this.Bj&&(a*=D.Yi),this.Ja){case 0:this.S.playbackRate!==a&&(this.S.playbackRate=a);break;case 1:1===this.buffer.Ja?this.S.playbackRate.value!==a&&(this.S.playbackRate.value=a):this.S.playbackRate!==a&&(this.S.playbackRate=a)}},u.prototype.cE=function(a){switch(this.Ja){case 0:a?this.Di()?(this.S.pause(),this.Sh=!0):this.Sh=!1:this.Sh&&this.S.play();break;case 1:a?this.Di()?(1===this.buffer.Ja?(this.ke=this.xs(),this.Cg&&(this.ke%=this.wi()),g(this.S)):this.S.pause(),this.Sh=!0):this.Sh=!1:this.Sh&&(1===this.buffer.Ja?(this.S=I.createBufferSource(),this.S.buffer=this.buffer.zb,this.S.connect(this.Sc),this.S.loop=this.Cg,this.Sc.gain.value=P*this.volume*this.al,this.startTime=(this.Bj?D.Ae.xa:D.ah.xa)-this.ke,f(this.S,this.ke,this.wi())):this.S.play());break;case 2:a?this.Di()?(this.S.pause(),this.Sh=!0):this.Sh=!1:this.Sh&&this.S.play()}},C.Xa=function(a){if(this.type=a,D=this.i=a.i,E=this,this.Pd=null,this.Sm=-600,!(this.i.wp||this.i.rp&&(this.i.Dm||this.i.sp))||this.i.Em||this.i.hc||this.i.Rs||(Z=!0),I=null,"undefined"!=typeof AudioContext?(H=1,I=new AudioContext):"undefined"!=typeof webkitAudioContext&&(H=1,I=new webkitAudioContext),(this.i.wp&&1===H||Z)&&document.addEventListener("touchstart",function(){var a,b,c;if(!bb&&I&&(a=I.createBuffer(1,1,22050),b=I.createBufferSource(),b.buffer=a,b.connect(I.destination),e(b),bb=!0),Z){if(!O)for(a=0,b=$.length;b>a;++a)c=$[a],c.Ie||c.wf||c.S.play();$.length=0}},!0),1!==H&&(this.i.vf&&"undefined"!=typeof window.Media?H=2:this.i.Dk&&(H=3)),2===H&&(G=location.href,a=G.lastIndexOf("/"),a>-1&&(G=G.substr(0,a+1)),G=G.replace("file://","")),this.i.qw&&this.i.DC&&"undefined"==typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.dh(this);else{if(this.i.Ed)M=this.i.rp;else try{M=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){M=!1}this.i.Pq(this)}},cb=C.Xa.prototype,cb.ya=function(){var a,c,d;this.i.qk=this,N=this.Y[0],this.Th=this.Y[1],this.AD=0!==this.Y[2],S=this.Y[3],T=this.Y[4],this.Sm=-this.Y[5],U=this.Y[6],V=this.Y[7],W=this.Y[8],this.Pd=new s,a=this.i.Ma||this.i.width,c=this.i.La||this.i.height,1===H&&("undefined"!=typeof I.listener.dopplerFactor&&(I.listener.dopplerFactor=0),I.listener.setPosition(a/2,c/2,this.Sm),I.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){X&&X.disconnect(),Y=c.toLowerCase(),X=I.createMediaStreamSource(a),X.connect(b(Y))}),this.i.kA(function(a){E.xD(a)}),d=this,this.i.fo(function(a){d.rn(a)})},cb.rn=function(a){var b,c,d;for(b=0,c=K.length;c>b;b++)d=K[b],d.vc&&d.vc.Da===a&&(d.vc.Da=null,d.Mg&&d.Di()&&d.Cg&&d.stop());this.Pd.Da===a&&(this.Pd.Da=null)},cb.Zc=function(){var c,d,e,f,g,h,a={silent:O,masterVolume:P,listenerZ:this.Sm,listenerUid:this.Pd.qp()?this.Pd.Da.uid:-1,playing:[],effects:{}},b=a.playing;for(c=0,d=K.length;d>c;c++)e=K[c],!e.Di()||3===this.Th||e.Xf&&1===this.Th||!e.Xf&&2===this.Th||(f=e.xs(),e.Cg&&(f%=e.wi()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Xf,playbackTime:f,volume:e.volume,looping:e.Cg,muted:e.Gk,playbackRate:e.playbackRate,paused:e.wf,resume_position:e.ke},e.Mg&&(f.pan={},h=f.pan,e.vc&&e.vc.qp()?h.objUid=e.vc.Da.uid:(h.x=e.Fx,h.y=e.Gx,h.a=e.Bx),h.ia=e.Cx,h.oa=e.Dx,h.og=e.Ex),b.push(f));b=a.effects;for(g in _)if(_.hasOwnProperty(g)){for(e=[],c=0,d=_[g].length;d>c;c++)e.push({type:_[g][c].type,params:_[g][c].Bb});b[g]=e}return a},db=[],cb.vd=function(a){var c,d,e,f,g,t,u,v,w,x,z,A,b=a.silent;if(P=a.masterVolume,this.Sm=a.listenerZ,this.Pd.Gn(null),c=a.listenerUid,-1!==c&&(this.Pd.Jp=c,db.push(this.Pd)),c=a.playing,3!==this.Th)for(d=0,e=K.length;e>d;d++)x=K[d],x.Xf&&1===this.Th||(x.Xf||2!==this.Th)&&x.stop();for(t in _)if(_.hasOwnProperty(t))for(d=0,e=_[t].length;e>d;d++)_[t][d].remove();Ra(_);for(t in a.effects)if(a.effects.hasOwnProperty(t))for(u=a.effects[t],d=0,e=u.length;e>d;d++)switch(f=u[d].type,z=u[d].params,f){case"filter":y(t,new h(z[0],z[1],z[2],z[3],z[4],z[5]));break;case"delay":y(t,new i(z[0],z[1],z[2]));break;case"convolve":f=z[2],x=this.gp(f,!1),x.zb?f=new j(x.zb,z[0],z[1],f):(f=new j(null,z[0],z[1],f),x.nx=z[0],x.Ho=f),y(t,f);break;case"flanger":y(t,new k(z[0],z[1],z[2],z[3],z[4]));break;case"phaser":y(t,new l(z[0],z[1],z[2],z[3],z[4],z[5]));break;case"gain":y(t,new m(z[0]));break;case"tremolo":y(t,new n(z[0],z[1]));break;case"ringmod":y(t,new o(z[0],z[1]));break;case"distortion":y(t,new p(z[0],z[1],z[2],z[3],z[4]));break;case"compressor":y(t,new q(z[0],z[1],z[2],z[3],z[4]));break;case"analyser":y(t,new r(z[0],z[1]))}for(d=0,e=c.length;e>d;d++)3===this.Th||(a=c[d],f=a.buffersrc,g=a.is_music,t=a.tag,u=a.playbackTime,v=a.looping,w=a.volume,A=(z=a.pan)&&z.hasOwnProperty("objUid")?z.objUid:-1,g&&1===this.Th)||!g&&2===this.Th||((x=this.Vv(f,t,g,v,w))?(x.ke=a.resume_position,x.su(!!z),x.play(v,w,u),x.Ky(),x.qE(),x.Uo(x.Gk||x.Hm),a.paused&&x.pause(),a.muted&&x.$D(),x.Uo(x.Gk||x.Hm),z&&(-1!==A?(x.vc=x.vc||new s,x.vc.Jp=A,db.push(x.vc)):x.ru(z.x,z.y,z.a,z.ia,z.oa,z.og))):(x=this.gp(f,g),x.xq=u,x.fq=a.paused,z&&(-1!==A?x.fl.push({qx:A,Gs:z.ia,Tt:z.oa,Wt:z.og,xy:t}):x.fl.push({x:z.x,y:z.y,K:z.a,Gs:z.ia,Tt:z.oa,Wt:z.og,xy:t}))));if(b&&!O){for(d=0,e=K.length;e>d;d++)K[d].cy(!0);O=!0}else if(!b&&O){for(d=0,e=K.length;e>d;d++)K[d].cy(!1);O=!1}},cb.sg=function(){var a,b,c,d;for(a=0,b=db.length;b>a;a++)c=db[a],d=this.i.xi(c.Jp),c.Gn(d),c.Jp=-1,d&&(Q=d.x,R=d.y);db.length=0},cb.xD=function(a){if(!this.AD){!a&&I&&I.resume&&I.resume();var b,c;for(b=0,c=K.length;c>b;b++)K[b].cE(a);a&&I&&I.suspend&&I.suspend()}},cb.fc=function(){var c,d,e,f,a=this.i.Fa,b=0;for(c=K.length;c>b;b++)d=K[b],d.fc(a),0===d.Ja||3===d.Ja||d.yg||d.Ie||!d.xj()||(d.Ie=!0,F=d.tag,D.trigger(oc.prototype.M.kr,E)),0!==N&&d.Ky();for(e in _)if(_.hasOwnProperty(e))for(d=_[e],b=0,c=d.length;c>b;b++)f=d[b],f.fc&&f.fc();1===H&&this.Pd.qp()&&(this.Pd.fc(a),Q=this.Pd.Da.x,R=this.Pd.Da.y,I.listener.setPosition(this.Pd.Da.x,this.Pd.Da.y,this.Sm),I.listener.setVelocity(this.Pd.zs(),this.Pd.As(),0))},eb=[],cb.aE=function(a){var b,c,d,e,f,g=0;for(b=0,c=a.length;c>b;++b)d=a[b],e=d[0],d=2*d[1],((f=4<e.length&&".ogg"===e.substr(e.length-4))&&M||!f&&!M)&&(eb.push({filename:e,size:d,Da:null}),g+=d);return g},cb.eE=function(){var a,b,c,d;for(a=0,b=eb.length;b>a;++a)c=eb[a],d=this.i.gs+c.filename,c.Da=this.gp(d,!1)},cb.YB=function(){var b,c,d,a=0;for(b=0,c=eb.length;c>b;++b)d=eb[b],d.Da.BC()||d.Da.qC()||this.i.hc||this.i.sp?a+=d.size:d.Da.pw()&&(a+=Math.floor(d.size/2));return a},cb.gp=function(a,b){var c,d,e,f=null;for(c=0,d=J.length;d>c;c++)if(e=J[c],e.src===a){f=e;break}return f||(f=new t(a,b),J.push(f)),f},cb.Vv=function(a,b,c,d,e){var f,g,h;for(f=0,g=K.length;g>f;f++)if(h=K[f],h.src===a&&(h.yA()||c))return h.tag=b,h;return a=this.gp(a,c),a.zb?(h=new u(a,b),K.push(h),h):("<preload>"!==b&&(a.hq=b,a.qt=d,a.Pu=e),null)},fb=[],z.prototype.kr=function(a){return hb(F,a)},C.M=new z,A.prototype.Play=function(a,b,c,d){!O&&(c=Math.pow(10,c/20),0>c&&(c=0),c>1&&(c=1),L=this.Vv(this.i.gs+a[0]+(M?".ogg":".m4a"),d,a[1],0!==b,c))&&(L.su(!1),L.play(0!==b,c))},A.prototype.Zz=function(a){x(a);var b;for(a=0,b=fb.length;b>a;a++)fb[a].stop()},C.ta=new A,B.prototype.Vu=function(a,b){x(b,!0),fb.length?a.ca(fb[0].wi()):a.ca(0)},C.Za=new B}(),function(){function a(){this.name="",this.En=0,this.Bb=[]}function b(){return h++,h===g.length&&g.push(new a),g[h]}function c(){}function d(){}function e(){}var g,h,f=nc.prototype;f.tb=function(a){this.yb=a,this.i=a.i},f.tb.prototype.ya=function(){},f.Xa=function(a){this.type=a,this.i=a.i},g=[],h=-1,f.Xa.prototype.ya=function(){var a=this;window.c2_callFunction=function(c,d){var e,f,g,i=b();if(i.name=c.toLowerCase(),i.En=0,d)for(i.Bb.length=d.length,e=0,f=d.length;f>e;++e)g=d[e],i.Bb[e]="number"==typeof g||"string"==typeof g?g:"boolean"==typeof g?g?1:0:0;else i.Bb.length=0;return a.i.trigger(nc.prototype.M.bo,a,i.name),h--,i.En}},c.prototype.bo=function(a){var b=0>h?null:g[h];return b?hb(a,b.name):!1},f.M=new c,d.prototype.CallFunction=function(a,c){var d=b();d.name=a.toLowerCase(),d.En=0,Aa(d.Bb,c),this.i.trigger(nc.prototype.M.bo,this,d.name),h--},f.ta=new d,e.prototype.Uy=function(a,c){var e,f,d=b();for(d.name=c.toLowerCase(),d.En=0,d.Bb.length=0,e=2,f=arguments.length;f>e;e++)d.Bb.push(arguments[e]);this.i.trigger(nc.prototype.M.bo,this,d.name),h--,a.ey(d.En)},f.Za=new e}(),function(){function a(){}var c,d,b=pc.prototype;b.tb=function(a){this.yb=a,this.i=a.i},b.tb.prototype.ya=function(){},b.Xa=function(a){this.type=a,this.i=a.i,this.Ys=Array(256),this.Xq=Array(256),this.$i=0},c=b.Xa.prototype,c.ya=function(){var a=this;this.i.hc||(jQuery(document).keydown(function(b){a.rD(b)}),jQuery(document).keyup(function(b){a.sD(b)}))},d=[32,33,34,35,36,37,38,39,40,44],c.rD=function(a){var c,e,b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation()),this.Ys[a.which]?this.Xq[a.which]&&!b&&a.preventDefault():(this.Ys[a.which]=!0,this.$i=a.which,this.i.ze=!0,this.i.trigger(pc.prototype.M.qz,this),c=this.i.trigger(pc.prototype.M.Bz,this),e=this.i.trigger(pc.prototype.M.Cz,this),this.i.ze=!1,(c||e)&&(this.Xq[a.which]=!0,b||a.preventDefault()))},c.sD=function(a){this.Ys[a.which]=!1,this.$i=a.which,this.i.ze=!0,this.i.trigger(pc.prototype.M.rz,this);var b=this.i.trigger(pc.prototype.M.$u,this),c=this.i.trigger(pc.prototype.M.Dz,this);this.i.ze=!1,(b||c||this.Xq[a.which])&&(this.Xq[a.which]=!0,a.preventDefault())},c.Zc=function(){return{triggerKey:this.$i}},c.vd=function(a){this.$i=a.triggerKey},a.prototype.Bz=function(a){return a===this.$i},a.prototype.qz=function(){return!0},a.prototype.rz=function(){return!0},a.prototype.$u=function(a){return a===this.$i},a.prototype.Cz=function(a){return a===this.$i},a.prototype.Dz=function(a){return a===this.$i},b.M=new a,b.ta=new function(){},b.Za=new function(){}}(),function(){function a(a){this.Qb=a,this.Zb=!1,this.H=this.speed=this.y=this.x=0,this.opacity=1,this.ii=this.Ck=this.size=this.op=0}var c,d,b=qc.prototype;b.tb=function(a){this.yb=a,this.i=a.i},c=b.tb.prototype,c.ya=function(){this.ma||(this.rb=new Image,this.rb.Hv=this.Au,this.kb=null,this.i.Qu(this.rb,this.Mq))},c.sn=function(){this.ma||(this.kb=null)},c.Yp=function(){this.ma||!this.C.length||this.kb||(this.kb=this.i.ba.Nk(this.rb,!0,this.i.ab,this.Pn))},c.lt=function(){this.ma||this.kb||!this.i.ba||(this.kb=this.i.ba.Nk(this.rb,!0,this.i.ab,this.Pn))},c.Vq=function(){this.ma||this.C.length||!this.kb||(this.i.ba.deleteTexture(this.kb),this.kb=null)},c.nq=function(a){a.drawImage(this.rb,0,0)},a.prototype.init=function(){var a=this.Qb;this.x=a.x-a.br/2+Math.random()*a.br,this.y=a.y-a.cr/2+Math.random()*a.cr,this.speed=a.Ns-a.Fq/2+Math.random()*a.Fq,this.H=a.H-a.Gq/2+Math.random()*a.Gq,this.opacity=a.Ls,this.size=a.Ms-a.Dq/2+Math.random()*a.Dq,this.op=a.Cs-a.pp/2+Math.random()*a.pp,this.ii=this.Ck=0},a.prototype.fc=function(a){var b=this.Qb;this.x+=Math.cos(this.H)*this.speed*a,this.y+=Math.sin(this.H)*this.speed*a,this.y+=this.Ck*a,this.speed+=b.Dr*a,this.size+=this.op*a,this.Ck+=b.rs*a,this.ii+=a,1>this.size?this.Zb=!1:(0!==b.Pm&&(this.H+=Math.random()*b.Pm*a-b.Pm*a/2),0!==b.Rm&&(this.speed+=Math.random()*b.Rm*a-b.Rm*a/2),0!==b.Qm&&(this.opacity+=Math.random()*b.Qm*a-b.Qm*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.vk&&this.ii>=b.timeout&&(this.Zb=!1),2===b.vk&&0>=this.speed&&(this.Zb=!1))},a.prototype.ue=function(a){var c,b=this.Qb.opacity*this.opacity;0!==b&&(0===this.Qb.vk&&(b*=1-this.ii/this.Qb.timeout),a.globalAlpha=b,b=this.x-this.size/2,c=this.y-this.size/2,this.Qb.i.Gf&&(b=0|b+.5,c=0|c+.5),a.drawImage(this.Qb.type.rb,b,c,this.size,this.size))},a.prototype.de=function(a){var c,d,e,f,b=this.Qb.opacity*this.opacity;0===this.Qb.vk&&(b*=1-this.ii/this.Qb.timeout),c=this.size,d=c*this.Qb.Jx,e=this.x-c/2,f=this.y-c/2,this.Qb.i.Gf&&(e=0|e+.5,f=0|f+.5),1>d||0===b||(d<a.kD||d>a.Mt?(a.Ui(b),a.Dn(e,f,e+c,f,e+c,f+c,e,f+c)):a.BD(this.x,this.y,d,b))},a.prototype.left=function(){return this.x-this.size/2},a.prototype.right=function(){return this.x+this.size/2},a.prototype.top=function(){return this.y-this.size/2},a.prototype.bottom=function(){return this.y+this.size/2},b.Xa=function(a){this.type=a,this.i=a.i},c=b.Xa.prototype,d=[],c.ya=function(){var a=this.Y;if(this.sq=a[0],this.Gq=w(a[1]),this.pl=a[2],this.vu=!0,this.Ns=a[3],this.Ms=a[4],this.Ls=a[5]/100,this.Cs=a[6],this.br=a[7],this.cr=a[8],this.Fq=a[9],this.Dq=a[10],this.pp=a[11],this.Dr=a[12],this.rs=a[13],this.Pm=a[14],this.Rm=a[15],this.Qm=a[16],this.vk=a[17],this.timeout=a[18],this.Yj=0,this.Jx=1,this.bq=this.x,this.dq=this.y,this.cq=this.x,this.aq=this.y,this.lA(function(a){a.gc.set(a.bq,a.dq,a.cq,a.aq),a.Eb.ol(a.gc),a.qo=!1,a.Lu()}),this.Id||(this.Vd=[]),this.i.Pq(this),this.type.lt(),1===this.pl)for(a=0;a<this.sq;a++)this.Er().opacity=0;this.cp=!0},c.Zc=function(){var b,c,d,a={r:this.sq,sc:this.Gq,st:this.pl,s:this.vu,isp:this.Ns,isz:this.Ms,io:this.Ls,gr:this.Cs,xr:this.br,yr:this.cr,spr:this.Fq,szr:this.Dq,grnd:this.pp,acc:this.Dr,g:this.rs,lar:this.Pm,lsr:this.Rm,lor:this.Qm,dm:this.vk,to:this.timeout,pcc:this.Yj,ft:this.cp,p:[]},e=a.p;for(b=0,c=this.Vd.length;c>b;b++)d=this.Vd[b],e.push([d.x,d.y,d.speed,d.H,d.opacity,d.op,d.size,d.Ck,d.ii]);return a},c.vd=function(a){this.sq=a.r,this.Gq=a.sc,this.pl=a.st,this.vu=a.s,this.Ns=a.isp,this.Ms=a.isz,this.Ls=a.io,this.Cs=a.gr,this.br=a.xr,this.cr=a.yr,this.Fq=a.spr,this.Dq=a.szr,this.pp=a.grnd,this.Dr=a.acc,this.rs=a.g,this.Pm=a.lar,this.Rm=a.lsr,this.Qm=a.lor,this.vk=a.dm,this.timeout=a.to,this.Yj=a.pcc,this.cp=a.ft,d.push.apply(d,this.Vd),this.Vd.length=0;var b,c,e,f=a.p;for(a=0,b=f.length;b>a;a++)c=this.Er(),e=f[a],c.x=e[0],c.y=e[1],c.speed=e[2],c.H=e[3],c.opacity=e[4],c.op=e[5],c.size=e[6],c.Ck=e[7],c.ii=e[8]},c.Lh=function(){d.push.apply(d,this.Vd),this.Vd.length=0},c.Er=function(){var b;return d.length?(b=d.pop(),b.Qb=this):b=new a(this),this.Vd.push(b),b.Zb=!0,b},c.fc=function(){var b,c,e,f,a=this.i.tj(this);if(0===this.pl&&this.vu)for(this.Yj+=a*this.sq,c=ra(this.Yj),this.Yj-=c,b=0;c>b;b++)e=this.Er(),e.init();
for(this.bq=this.x,this.dq=this.y,this.cq=this.x,this.aq=this.y,f=b=0,c=this.Vd.length;c>b;b++)e=this.Vd[b],this.Vd[f]=e,this.i.Ta=!0,1===this.pl&&this.cp&&e.init(),e.fc(a),e.Zb?(e.left()<this.bq&&(this.bq=e.left()),e.right()>this.cq&&(this.cq=e.right()),e.top()<this.dq&&(this.dq=e.top()),e.bottom()>this.aq&&(this.aq=e.bottom()),f++):d.push(e);this.Vd.length=f,this.Db(),this.cp=!1,1===this.pl&&0===this.Vd.length&&this.i.dh(this)},c.ue=function(a){var b,c,d,e=this.L;for(b=0,c=this.Vd.length;c>b;b++)d=this.Vd[b],d.right()>=e.Mb&&d.bottom()>=e.Nb&&d.left()<=e.Yb&&d.top()<=e.Xb&&d.ue(a)},c.de=function(a){this.Jx=this.L.xe(),a.le(this.type.kb);var b,c,d,e=this.L;for(b=0,c=this.Vd.length;c>b;b++)d=this.Vd[b],d.right()>=e.Mb&&d.bottom()>=e.Nb&&d.left()<=e.Yb&&d.top()<=e.Xb&&d.de(a)},b.M=new function(){},b.ta=new function(){},b.Za=new function(){}}(),function(){function a(){var a,b;return 0===this.Zr.length&&(a=document.createElement("canvas"),a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.ql?b.drawImage(this.rb,this.cl,this.dl,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.rb,0,0,this.width,this.height),this.Zr=a.toDataURL("image/png")),this.Zr}function b(){}function c(a){a[0]=0,a[1]=0,a[2]=0,m.push(a)}function d(a,b){return b>a?""+a+","+b:""+b+","+a}function e(a,b,c,e){var f,g;b=b.uid,c=c.uid,f=d(b,c),a.hasOwnProperty(f)?a[f][2]=e:(g=m.length?m.pop():[0,0,0],g[0]=b,g[1]=c,g[2]=e,a[f]=g)}function f(a,b,e){b=d(b.uid,e.uid),a.hasOwnProperty(b)&&(c(a[b]),delete a[b])}function g(a,b,c){return b=d(b.uid,c.uid),a.hasOwnProperty(b)?(n=a[b][2],!0):(n=-2,!1)}function h(){}var j,k,l,m,n,o,p,q,i=mc.prototype;i.tb=function(a){this.yb=a,this.i=a.i},j=i.tb.prototype,j.ya=function(){if(!this.ma){var b,c,d,e,f,g,h,i,j;for(this.Rf=[],this.zm=!1,b=0,c=this.qe.length;c>b;b++){for(f=this.qe[b],h={},h.name=f[0],h.speed=f[1],h.loop=f[2],h.ku=f[3],h.uq=f[4],h.Nh=f[5],h.Wa=f[6],h.frames=[],d=0,e=f[7].length;e>d;d++)g=f[7][d],i={},i.Mq=g[0],i.Au=g[1],i.cl=g[2],i.dl=g[3],i.width=g[4],i.height=g[5],i.duration=g[6],i.fe=g[7],i.ge=g[8],i.Hs=g[9],i.jq=g[10],i.Lx=g[11],i.ql=0!==i.width,i.Zr="",i.QF=a,j={left:0,top:0,right:1,bottom:1},i.tu=j,i.kb=null,(j=this.i.KB(g[0]))?i.rb=j:(i.rb=new Image,i.rb.DA=g[0],i.rb.Hv=g[1],i.rb.xA=null,this.i.Qu(i.rb,g[0])),h.frames.push(i),this.Rf.push(i);this.qe[b]=h}}},j.Jy=function(){var a,b,c;for(a=0,b=this.C.length;b>a;a++)c=this.C[a],c.No=c.Cd.kb},j.sn=function(){if(!this.ma){var a,b,c;for(a=0,b=this.Rf.length;b>a;++a)c=this.Rf[a],c.rb.xA=null,c.kb=null;this.zm=!1,this.Jy()}},j.Yp=function(){if(!this.ma&&this.C.length){var a,b,c;for(a=0,b=this.Rf.length;b>a;++a)c=this.Rf[a],c.kb=this.i.ba.Nk(c.rb,!1,this.i.ab,c.Lx);this.Jy()}},j.lt=function(){if(!this.ma&&!this.zm&&this.i.ba){var a,b,c;for(a=0,b=this.Rf.length;b>a;++a)c=this.Rf[a],c.kb=this.i.ba.Nk(c.rb,!1,this.i.ab,c.Lx);this.zm=!0}},j.Vq=function(){if(!this.ma&&!this.C.length&&this.zm){var a,b,c;for(a=0,b=this.Rf.length;b>a;++a)c=this.Rf[a],this.i.ba.deleteTexture(c.kb),c.kb=null;this.zm=!1}},k=[],j.nq=function(a){var b,c,d;for(b=k.length=0,c=this.Rf.length;c>b;++b)d=this.Rf[b].rb,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))},i.Xa=function(a){this.type=a,this.i=a.i,a=this.type.qe[0].frames[0].jq,this.Id?this.Qa.In(a):this.Qa=new ab(a)},l=i.Xa.prototype,l.ya=function(){var a,b,c,d,e,f,g,h;for(this.visible=0===this.Y[0],this.lf=0!==this.Y[3],1===this.type.qe.length&&1===this.type.qe[0].frames.length||0===this.type.qe[0].speed||this.i.Pq(this),this.Ob=this.Uv(this.Y[1])||this.type.qe[0],this.ea=this.Y[2],0>this.ea&&(this.ea=0),this.ea>=this.Ob.frames.length&&(this.ea=this.Ob.frames.length-1),a=this.Ob.frames[this.ea],this.Qa.In(a.jq),this.fe=a.fe,this.ge=a.ge,this.$l=this.Ob.speed,this.Id?this.tg.reset():this.tg=new Za,this.rh=this.tg.xa,this.fj=!0,this.eh=0,this.ej=!0,this.Nr=this.uv="",this.zA=0,this.Mr=-1,this.type.lt(),a=0,b=this.type.qe.length;b>a;a++)for(e=this.type.qe[a],c=0,d=e.frames.length;d>c;c++)f=e.frames[c],0===f.width&&(f.width=f.rb.width,f.height=f.rb.height),f.ql&&(h=f.rb,g=f.tu,g.left=f.cl/h.width,g.top=f.dl/h.height,g.right=(f.cl+f.width)/h.width,g.bottom=(f.dl+f.height)/h.height,0===f.cl&&0===f.dl&&f.width===h.width&&f.height===h.height&&(f.ql=!1));this.Cd=this.Ob.frames[this.ea],this.No=this.Cd.kb},l.Zc=function(){var a={a:this.Ob.Wa,f:this.ea,cas:this.$l,fs:this.rh,ar:this.eh,at:this.tg.xa};return this.fj||(a.ap=this.fj),this.ej||(a.af=this.ej),a},l.vd=function(a){var b=this.PB(a.a);b&&(this.Ob=b),this.ea=a.f,0>this.ea&&(this.ea=0),this.ea>=this.Ob.frames.length&&(this.ea=this.Ob.frames.length-1),this.$l=a.cas,this.rh=a.fs,this.eh=a.ar,this.tg.reset(),this.tg.xa=a.at,this.fj=a.hasOwnProperty("ap")?a.ap:!0,this.ej=a.hasOwnProperty("af")?a.af:!0,this.Cd=this.Ob.frames[this.ea],this.No=this.Cd.kb,this.Qa.In(this.Cd.jq),this.fe=this.Cd.fe,this.ge=this.Cd.ge},l.Hr=function(a){this.ea=a?0:this.Ob.frames.length-1,this.fj=!1,this.uv=this.Ob.name,this.i.trigger(mc.prototype.M.pz,this),this.i.trigger(mc.prototype.M.oz,this),this.eh=0},l.SF=function(){return this.tg.xa},l.fc=function(){this.tg.add(this.i.tj(this)),this.Nr.length&&this.JA(),0<=this.Mr&&this.KA();var a=this.tg.xa,b=this.Ob,c=b.frames[this.ea],d=c.duration/this.$l;this.fj&&a>=this.rh+d&&(this.ej?this.ea++:this.ea--,this.rh+=d,this.ea>=b.frames.length&&(b.Nh?(this.ej=!1,this.ea=b.frames.length-2):b.loop?this.ea=b.uq:(this.eh++,this.eh>=b.ku?this.Hr(!1):this.ea=b.uq)),0>this.ea&&(b.Nh?(this.ea=1,this.ej=!0,b.loop||(this.eh++,this.eh>=b.ku&&this.Hr(!0))):b.loop?this.ea=b.uq:(this.eh++,this.eh>=b.ku?this.Hr(!0):this.ea=b.uq)),0>this.ea?this.ea=0:this.ea>=b.frames.length&&(this.ea=b.frames.length-1),a>this.rh+b.frames[this.ea].duration/this.$l&&(this.rh=a),a=b.frames[this.ea],this.lk(c,a),this.i.Ta=!0)},l.Uv=function(a){var b,c,d;for(b=0,c=this.type.qe.length;c>b;b++)if(d=this.type.qe[b],hb(d.name,a))return d;return null},l.PB=function(a){var b,c,d;for(b=0,c=this.type.qe.length;c>b;b++)if(d=this.type.qe[b],d.Wa===a)return d;return null},l.JA=function(){var a=this.Ob.frames[this.ea],b=this.Uv(this.Nr);this.Nr="",!b||hb(b.name,this.Ob.name)&&this.fj||(this.Ob=b,this.$l=b.speed,0>this.ea&&(this.ea=0),this.ea>=this.Ob.frames.length&&(this.ea=this.Ob.frames.length-1),1===this.zA&&(this.ea=0),this.fj=!0,this.rh=this.tg.xa,this.ej=!0,this.lk(a,this.Ob.frames[this.ea]),this.i.Ta=!0)},l.KA=function(){var a=this.Ob.frames[this.ea],b=this.ea;this.ea=ra(this.Mr),0>this.ea&&(this.ea=0),this.ea>=this.Ob.frames.length&&(this.ea=this.Ob.frames.length-1),b!==this.ea&&(this.lk(a,this.Ob.frames[this.ea]),this.rh=this.tg.xa,this.i.Ta=!0),this.Mr=-1},l.lk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;for(c!=e&&(this.width*=e/c),d!=f&&(this.height*=f/d),this.fe=b.fe,this.ge=b.ge,this.Qa.In(b.jq),this.Db(),this.Cd=b,this.No=b.kb,c=0,d=this.Ka.length;d>c;c++)e=this.Ka[c],e.wD&&e.wD(a,b);this.i.trigger(mc.prototype.M.lk,this)},l.ue=function(a){var b,c,d,e,f,g,h,i,j;a.globalAlpha=this.opacity,b=this.Cd,c=b.ql,d=b.rb,e=this.x,f=this.y,g=this.width,h=this.height,0===this.H&&g>=0&&h>=0?(e-=this.fe*g,f-=this.ge*h,this.i.Gf&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.cl,b.dl,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h)):(this.i.Gf&&(e=Math.round(e),f=Math.round(f)),a.save(),i=g>0?1:-1,j=h>0?1:-1,a.translate(e,f),1===i&&1===j||a.scale(i,j),a.rotate(this.H*i*j),e=0-this.fe*na(g),f=0-this.ge*na(h),c?a.drawImage(d,b.cl,b.dl,b.width,b.height,e,f,na(g),na(h)):a.drawImage(d,e,f,na(g),na(h)),a.restore())},l.de=function(a){var b,c,d,e;a.le(this.No),a.Ui(this.opacity),b=this.Cd,c=this.Eb,this.i.Gf?(d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y,b.ql?a.Qh(c.Kb+d,c.Lb+e,c.bd+d,c.cd+e,c.Oc+d,c.Pc+e,c.Mc+d,c.Nc+e,b.tu):a.Dn(c.Kb+d,c.Lb+e,c.bd+d,c.cd+e,c.Oc+d,c.Pc+e,c.Mc+d,c.Nc+e)):b.ql?a.Qh(c.Kb,c.Lb,c.bd,c.cd,c.Oc,c.Pc,c.Mc,c.Nc,b.tu):a.Dn(c.Kb,c.Lb,c.bd,c.cd,c.Oc,c.Pc,c.Mc,c.Nc)},l.UB=function(a){var c,d,b=this.Cd;for(c=0,d=b.Hs.length;d>c;c++)if(hb(a,b.Hs[c][0]))return c;return-1},l.sf=function(a,b){var f,g,c=this.Cd,d=c.Hs,e=ka(a)?this.UB(a):a-1;return e=ra(e),0>e||e>=d.length?b?this.x:this.y:(f=(d[e][1]-c.fe)*this.width,d=d[e][2],d=(d-c.ge)*this.height,c=Math.cos(this.H),e=Math.sin(this.H),g=f*c-d*e,d=d*c+f*e,f=g+this.x,d+=this.y,b?f:d)},m=[],n=-2,o=[],b.prototype.tz=function(a){var b,d,h,k,l,m,p,q,r,s,i,j,t,u,v;if(!a)return!1;for(b=this.i,d=b.us(),h=d.type,d.da.collmemory||(d.da.collmemory={},b.fo(function(a){return function(b){b=b.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===b||e[1]===b)&&(c(a[d]),delete a[d])}}(d.da.collmemory))),d=d.da.collmemory,i=h.Va(),j=a.Va(),i=i.Pe(),t=this.i.df,u=t-1,v=b.td().be,l=0;l<i.length;l++){for(m=i[l],j.qb?(m.sb(),this.i.RB(m.L,a,m.gc,o),k=o):k=j.Pe(),p=0;p<k.length;p++)q=k[p],b.kE(m,q)||b.AA(m,q)?(r=g(d,m,q),r=!r||u>n,e(d,m,q,t),r&&(b.pq(v.Jb),r=h.Va(),s=a.Va(),r.qb=!1,s.qb=!1,h===a?(r.C.length=2,r.C[0]=m,r.C[1]=q,h.Sf()):(r.C.length=1,s.C.length=1,r.C[0]=m,s.C[0]=q,h.Sf(),a.Sf()),v.PD(),b.Zj(v.Jb))):f(d,m,q);o.length=0}return!1},p=new ba,q=!1,new ua(0,0,0,0),j.finish=function(a){var b,d,e,c;if(q){if(a){if(b=this.i.td().be.eg,a=null.Va(),c=p.Zg(),a.qb){for(a.qb=!1,a.C.length=c.length,d=0,e=c.length;e>d;d++)a.C[d]=c[d];if(b)for(d=a.eb.length=0,e=null.C.length;e>d;d++)c=null.C[d],p.contains(c)||a.eb.push(c)}else if(b)for(b=a.C.length,a.C.length=b+c.length,d=0,e=c.length;e>d;d++)a.C[b+d]=c[d],Da(a.eb,c[d]);else Aa(a.C,c);null.Sf()}p.clear(),q=!1}},b.prototype.Yy=function(a,b){return Zb(this.ea,a,b)},b.prototype.oz=function(a){return hb(this.uv,a)},b.prototype.pz=function(){return!0},b.prototype.lk=function(){return!0},i.M=new b,h.prototype.Vz=function(a,b,c){if(a&&b&&(b=this.i.Vr(a,b,this.sf(c,!0),this.sf(c,!1)))){"undefined"!=typeof b.H&&(b.H=this.H,b.Db()),this.i.Re++;var d,e,f;if(this.i.trigger(Object.getPrototypeOf(a.yb).M.Il,b),b.he)for(d=0,e=b.siblings.length;e>d;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.yb).M.Il,f);if(this.i.Re--,d=this.i.SB(),c=!1,(ha(d.da.Spawn_LastExec)||d.da.Spawn_LastExec<this.i.qj)&&(c=!0,d.da.Spawn_LastExec=this.i.qj),a!=this.type&&(a=a.Va(),a.qb=!1,c?(a.C.length=1,a.C[0]=b):a.C.push(b),b.he))for(d=0,e=b.siblings.length;e>d;d++)f=b.siblings[d],a=f.type.Va(),a.qb=!1,c?(a.C.length=1,a.C[0]=f):a.C.push(f)}},h.prototype.Qz=function(a){this.lf!==(0!==a)&&((this.lf=0!==a)?this.Db():(this.kf.right>=this.kf.left&&this.type.Xl.update(this,this.kf,null),this.kf.set(0,0,-1,-1)))},i.ta=new h,i.Za=new function(){}}(),function(){function a(a,b){return a.length?a.pop():new b}function b(a,b,c){if(c){var d;for(c=0,d=b.length;d>c;c++)a.length<h&&a.push(b[c]);b.length=0}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<h&&a.push(b[d]),delete b[d])}function c(b,c,d){var e=b.Od;d=d.replace(/\s\s*$/,""),c>=e.length&&e.push(a(i,Object)),c=e[c],c.text=d,c.width=b.Ot(d),b.Vh=oa(b.Vh,c.width)}function d(){}function e(){}var g,h,i,j,k,l,m,f=rc.prototype;f.ya=function(){},f.tb=function(a){this.yb=a,this.i=a.i},g=f.tb.prototype,g.ya=function(){this.ma||(this.rb=new Image,this.i.Qu(this.rb,this.Mq),this.kb=null)},g.sn=function(){this.ma||(this.kb=null)},g.Yp=function(){if(!this.ma&&this.C.length){this.kb||(this.kb=this.i.ba.Nk(this.rb,!1,this.i.ab,this.Pn));var a,b;for(a=0,b=this.C.length;b>a;a++)this.C[a].kb=this.kb}},g.Vq=function(){this.ma||this.C.length||!this.kb||(this.i.ba.deleteTexture(this.kb),this.kb=null)},g.nq=function(a){a.drawImage(this.rb,0,0)},f.Xa=function(a){this.type=a,this.i=a.i},g=f.Xa.prototype,g.Lh=function(){b(i,this.Od,!0),b(j,this.Ao,!1),b(k,this.Bo,!1),Ra(this.oi)},g.ya=function(){this.rb=this.type.rb,this.zo=this.Y[0],this.mi=this.Y[1],this.characterSet=this.Y[2],this.text=this.Y[3],this.ni=this.Y[4],this.visible=0===this.Y[5],this.vj=this.Y[6]/2,this.ck=this.Y[7]/2,this.Yn=0===this.Y[9],this.tk=this.Y[10],this.lineHeight=this.Y[11],this.Wg=this.Vh=0,this.Id?(this.Od.length=0,Ra(this.Ao),Ra(this.Bo),Ra(this.oi)):(this.Od=[],this.Ao={},this.Bo={},this.oi={}),this.cf=!0,this.Hj=this.width,this.i.ba&&(this.type.kb||(this.type.kb=this.i.ba.Nk(this.type.rb,!1,this.i.ab,this.type.Pn)),this.kb=this.type.kb),this.Wz()},g.Zc=function(){var b,a={t:this.text,csc:this.ni,csp:this.tk,lh:this.lineHeight,tw:this.Vh,th:this.Wg,lrt:this.Gj,cw:{}};for(b in this.oi)a.cw[b]=this.oi[b];return a},g.vd=function(a){this.text=a.t,this.ni=a.csc,this.tk=a.csp,this.lineHeight=a.lh,this.Vh=a.tw,this.Wg=a.th,this.Gj=a.lrt;for(var b in a.cw)this.oi[b]=a.cw[b];this.cf=!0,this.Hj=this.width},h=1e3,i=[],j=[],k=[],g.Wz=function(){var b,c,d,e,f,g,h,i,l,m,n,o,p,q;for(b=this.rb,c=b.width,d=b.height,b=this.zo,e=this.mi,f=b/c,g=e/d,h=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),i=0;i<h.length&&!(i>=c*d);i++)l=i%c,m=Math.floor(i/c),n=h.charAt(i),this.i.ba?(o=this.Bo,p=l*f,q=m*g,l=(l+1)*f,m=(m+1)*g,void 0===o[n]&&(o[n]=a(k,ua)),o[n].left=p,o[n].top=q,o[n].right=l,o[n].bottom=m):(o=this.Ao,l*=b,m*=e,p=b,q=e,void 0===o[n]&&(o[n]=a(j,Object)),o[n].x=l,o[n].y=m,o[n].Bc=p,o[n].gw=q)},l=[],f.Ar=function(a){l.length=0;for(var c,b="",d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(l.push(b),b=""),l.push("\n"),++d;else if(" "===c||"	"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"	"===a.charAt(d)));l.push(b),b=""}else d<a.length&&(b+=c,d++);b.length&&l.push(b)},f.Br=function(c){var f,g,h,d=c.text,e=c.Od;if(d&&d.length)if(f=c.width,2>=f)b(i,e,!0);else{if(g=c.ni,h=c.tk,d.length*(c.zo*g+h)-h<=f&&-1===d.indexOf("\n")&&(h=c.Ot(d),f>=h))return b(i,e,!0),e.push(a(i,Object)),e[0].text=d,e[0].width=h,c.Vh=h,c.Wg=c.mi*g+c.lineHeight,void 0;this.Cr(c),c.Wg=e.length*(c.mi*g+c.lineHeight)}else b(i,e,!0)},f.Cr=function(a){var j,k,m,g,n,o,b=a.Yn,d=a.text,e=a.Od,f=a.width;for(b&&(this.Ar(d),d=l),g="",n=0,o=!1,m=0;m<d.length;m++)"\n"===d[m]?(!0===o?o=!1:(c(a,n,g),n++),g=""):(o=!1,j=g,g+=d[m],k=a.Ot(g.replace(/\s\s*$/,"")),k>f&&(""===j?(c(a,n,g),g="",o=!0):(c(a,n,j),g=d[m]),n++,b||" "!==g||(g="")));for(g.replace(/\s\s*$/,"").length&&(c(a,n,g),n++),m=n;m<e.length;m++)i.length<h&&i.push(e[m]);e.length=n},g.Ot=function(a){for(var b=this.tk,c=a.length,d=0,e=0;c>e;e++)d+=this.ts(a.charAt(e))*this.ni+b;return d-(d>0?b:0)},g.ts=function(a){var b=this.oi;return void 0!==b[a]?b[a]:this.zo},g.Tx=function(){(this.cf||this.width!==this.Hj)&&(this.Wg=this.Vh=0,this.type.yb.Br(this),this.cf=!1,this.Hj=this.width)},g.ue=function(a){var c,d,e,f,g,n,q,r,s,h,i,j,k,l,m,o,p,t,u,v,w,b=this.rb;if(""!==this.text&&null!=b&&(this.Tx(),!(this.height<this.mi*this.ni+this.lineHeight))){for(a.globalAlpha=this.opacity,b=this.x,c=this.y,this.i.Gf&&(b=Math.round(b),c=Math.round(c)),d=this.L.Mb,e=this.L.Nb,f=this.L.Yb,g=this.L.Xb,a.save(),a.translate(b,c),a.rotate(this.H),h=this.vj,i=this.ni,j=this.mi*i,k=this.lineHeight,l=this.tk,m=this.Od,o=-(this.fe*this.width),p=-(this.ge*this.height),p+=this.ck*oa(0,this.height-this.Wg),t=0;t<m.length;t++)if(u=m[t].text,n=h*oa(0,this.width-m[t].width),q=o+n,p+=k,e>c+p+j)p+=j;else{for(v=0;v<u.length;v++)if(r=u.charAt(v),n=this.ts(r),w=this.Ao[r],d>b+q+n*i+l)q+=n*i+l;else{if(q+n*i>this.width+1e-5)break;if(void 0!==w&&(r=q,s=p,0===this.H&&(r=Math.round(r),s=Math.round(s)),a.drawImage(this.rb,w.x,w.y,w.Bc,w.gw,r,s,w.Bc*i,w.gw*i)),q+=n*i+l,b+q>f)break}if(p+=j,p+j+k>this.height||c+p>g)break}a.restore()}},m=new va,g.de=function(a){var b,c,d,s,t,u,e,f,g,h,i,j,k,l,n,o,p,q,r,v,w,x,y,z,A,B;if(a.le(this.kb),a.Ui(this.opacity),this.text&&(this.Tx(),!(this.height<this.mi*this.ni+this.lineHeight)))for(this.sb(),b=this.Eb,c=0,d=0,this.i.Gf&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y),e=this.L.Mb,f=this.L.Nb,g=this.L.Yb,h=this.L.Xb,i=this.H,j=this.vj,k=this.ck,l=this.ni,n=this.mi*l,o=this.lineHeight,p=this.tk,q=this.Od,r=this.Wg,0!==i&&(t=Math.cos(i),u=Math.sin(i)),c=b.Kb+c,b=b.Lb+d,k*=oa(0,this.height-r),r=0;r<q.length;r++)if(d=q[r].text,v=s=j*oa(0,this.width-q[r].width),k+=o,0===i&&f>b+k+n)k+=n;else{for(y=0;y<d.length;y++)if(z=d.charAt(y),s=this.ts(z),z=this.Bo[z],e>c+v+s*l+p)v+=s*l+p;else{if(v+s*l>this.width+1e-5)break;if(void 0!==z&&(A=this.zo*l,B=this.mi*l,w=v,x=k,0===i&&(w=Math.round(w),x=Math.round(x)),m.Kb=w,m.Lb=x,m.bd=w+A,m.cd=x,m.Mc=w,m.Nc=x+B,m.Oc=w+A,m.Pc=x+B,0!==i&&(w=m,x=t,A=u,B=void 0,B=w.Kb*x-w.Lb*A,w.Lb=w.Lb*x+w.Kb*A,w.Kb=B,B=w.bd*x-w.cd*A,w.cd=w.cd*x+w.bd*A,w.bd=B,B=w.Mc*x-w.Nc*A,w.Nc=w.Nc*x+w.Mc*A,w.Mc=B,B=w.Oc*x-w.Pc*A,w.Pc=w.Pc*x+w.Oc*A,w.Oc=B),m.offset(c,b),a.Qh(m.Kb,m.Lb,m.bd,m.cd,m.Oc,m.Pc,m.Mc,m.Nc,z)),v+=s*l+p,0===i&&c+v>g)break}if(k+=n,k+n+o>this.height||b+k>h)break}},f.M=new function(){},d.prototype.tr=function(a){ja(a)&&1e9>a&&(a=Math.round(1e10*a)/1e10),a=a.toString(),this.text!==a&&(this.text=a,this.cf=!0,this.i.Ta=!0)},g.mF=function(a,b){var c=parseInt(b,10);this.oi[a]!==c&&(this.oi[a]=c,this.cf=!0,this.i.Ta=!0)},f.ta=new d,e.prototype.Text=function(a){a.Jc(this.text)},f.Za=new e}(),function(){function a(){return h.length?h.pop():{}}function b(a){var b,c;for(b=0,c=a.length;c>b;b++)h.push(a[b]);a.length=0}function c(){}function d(){}var f,g,h,e=sc.prototype;e.ya=function(){e.ta.Uz=function(a){this.width!==a&&(this.width=a,this.cf=!0,this.Db())}},e.tb=function(a){this.yb=a,this.i=a.i},f=e.tb.prototype,f.ya=function(){},f.sn=function(){if(!this.ma){var a,b,c;for(a=0,b=this.C.length;b>a;a++)c=this.C[a],c.Lg=null,c.Wj=null,c.Ee=null}},e.Xa=function(a){this.type=a,this.i=a.i,this.Id?this.Od.length=0:this.Od=[],this.cf=!0},f=e.Xa.prototype,f.ya=function(){this.text=this.Y[0],this.visible=0===this.Y[1],this.font=this.Y[2],this.color=this.Y[3],this.vj=this.Y[4],this.ck=this.Y[5],this.Yn=0===this.Y[7],this.Hj=this.Dp=this.width,this.Cp=this.height,this.kt=this.Y[8],this.ep=this.yk="",this.Wg=this.Vh=this.Bn=0,this.yD(),this.Ee=this.Wj=this.Lg=null,this.lx=!1,this.Gj=this.i.df,this.Id?this.hl.set(0,0,1,1):this.hl=new ua(0,0,1,1),this.i.ba&&this.i.Pq(this)},f.yD=function(){var b,a=this.font.split(" ");for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){for(this.Bn=parseInt(a[b].substr(0,a[b].length-2)),this.eu=Math.ceil(96*(this.Bn/72))+4,b>0&&(this.ep=a[b-1]),this.yk=a[b+1],b+=2;b<a.length;b++)this.yk+=" "+a[b];break}},f.Zc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.vj,va:this.ck,wr:this.Yn,lho:this.kt,fn:this.yk,fs:this.ep,ps:this.Bn,pxh:this.eu,tw:this.Vh,th:this.Wg,lrt:this.Gj}},f.vd=function(a){this.text=a.t,this.font=a.f,this.color=a.c,this.vj=a.ha,this.ck=a.va,this.Yn=a.wr,this.kt=a.lho,this.yk=a.fn,this.ep=a.fs,this.Bn=a.ps,this.eu=a.pxh,this.Vh=a.tw,this.Wg=a.th,this.Gj=a.lrt,this.cf=!0,this.Hj=this.Dp=this.width,this.Cp=this.height},f.fc=function(){var a,b;this.i.ba&&this.Ee&&300<=this.i.df-this.Gj&&(a=this.L,this.sb(),b=this.gc,(b.right<a.Mb||b.bottom<a.Nb||b.left>a.Yb||b.top>a.Xb)&&(this.i.ba.deleteTexture(this.Ee),this.Lg=this.Wj=this.Ee=null))},f.Lh=function(){this.Lg=this.Wj=null,this.i.ba&&this.Ee&&this.i.ba.deleteTexture(this.Ee),this.Ee=null},f.$F=function(){this.font=this.ep+" "+this.Bn.toString()+"pt "+this.yk,this.cf=!0,this.i.Ta=!0},f.ue=function(a,b){var c,d,g,h,e,f;for(a.font=this.font,a.textBaseline="top",a.fillStyle=this.color,a.globalAlpha=b?1:this.opacity,c=1,b&&(c=this.L.xe(),a.save(),a.scale(c,c)),(this.cf||this.width!==this.Hj)&&(this.type.yb.Br(this.text,this.Od,a,this.width,this.Yn),this.cf=!1,this.Hj=this.width),this.sb(),c=b?0:this.Eb.Kb,d=b?0:this.Eb.Lb,this.i.Gf&&(c=0|c+.5,d=0|d+.5),0===this.H||b||(a.save(),a.translate(c,d),a.rotate(this.H),d=c=0),e=d+this.height,f=this.eu,f+=this.kt,1===this.ck?d+=Math.max(this.height/2-this.Od.length*f/2,0):2===this.ck&&(d+=Math.max(this.height-this.Od.length*f-2,0)),h=0;h<this.Od.length&&(g=c,1===this.vj?g=c+(this.width-this.Od[h].width)/2:2===this.vj&&(g=c+(this.width-this.Od[h].width)),a.fillText(this.Od[h].text,g,d),d+=f,!(d>=e-f));h++);(0!==this.H||b)&&a.restore(),this.Gj=this.i.df},f.de=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;1>this.width||1>this.height||(b=this.cf||this.lx,this.lx=!1,c=this.L.xe(),d=this.L.Fc(),e=this.hl,f=c*this.width,g=c*this.height,h=Math.ceil(f),i=Math.ceil(g),j=this.i.Ma/2,k=this.i.La/2,this.Wj||(this.Lg=document.createElement("canvas"),this.Lg.width=h,this.Lg.height=i,this.Dp=h,this.Cp=i,b=!0,this.Wj=this.Lg.getContext("2d")),(h!==this.Dp||i!==this.Cp)&&(this.Lg.width=h,this.Lg.height=i,this.Ee&&(a.deleteTexture(this.Ee),this.Ee=null),b=!0),b&&(this.Wj.clearRect(0,0,h,i),this.ue(this.Wj,!0),this.Ee||(this.Ee=a.hh(h,i,this.i.ab,this.i.wh)),a.xE(this.Lg,this.Ee,this.i.wh)),this.Dp=h,this.Cp=i,a.le(this.Ee),a.Ui(this.opacity),a.Rg(),a.translate(-j,-k),a.Yg(),l=this.Eb,b=this.L.ec(l.Kb,l.Lb,!0,!0),j=this.L.ec(l.Kb,l.Lb,!1,!0),k=this.L.ec(l.bd,l.cd,!0,!0),m=this.L.ec(l.bd,l.cd,!1,!0),n=this.L.ec(l.Oc,l.Pc,!0,!0),o=this.L.ec(l.Oc,l.Pc,!1,!0),p=this.L.ec(l.Mc,l.Nc,!0,!0),l=this.L.ec(l.Mc,l.Nc,!1,!0),(this.i.Gf||0===this.H&&0===d)&&(q=(0|b+.5)-b,r=(0|j+.5)-j,b+=q,j+=r,k+=q,m+=r,n+=q,o+=r,p+=q,l+=r),0===this.H&&0===d?(k=b+h,m=j,n=k,o=j+i,p=b,l=o,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/i),a.Qh(b,j,k,m,n,o,p,l,e),a.Rg(),a.scale(c,c),a.mu(-this.L.Fc()),a.translate((this.L.Mb+this.L.Yb)/-2,(this.L.Nb+this.L.Xb)/-2),a.Yg(),this.Gj=this.i.df)},g=[],e.Ar=function(a){g.length=0;for(var c,b="",d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(g.push(b),b=""),g.push("\n"),++d;else if(" "===c||"	"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"	"===a.charAt(d)));g.push(b),b=""}else d<a.length&&(b+=c,d++);b.length&&g.push(b)},h=[],e.Br=function(c,d,e,f,g){if(c&&c.length)if(2>=f)b(d);else{if(100>=c.length&&-1===c.indexOf("\n")){var h=e.measureText(c).width;if(f>=h)return b(d),d.push(a()),d[0].text=c,d[0].width=h,void 0}this.Cr(c,d,e,f,g)}else b(d)},e.Cr=function(b,c,d,e,f){f&&(this.Ar(b),b=g);var j,k,l,i="",m=0;for(l=0;l<b.length;l++)"\n"===b[l]?(m>=c.length&&c.push(a()),k=c[m],k.text=i,k.width=d.measureText(i).width,m++,i=""):(j=i,i+=b[l],k=d.measureText(i).width,k>=e&&(m>=c.length&&c.push(a()),k=c[m],k.text=j,k.width=d.measureText(j).width,m++,i=b[l],f||" "!==i||(i="")));for(i.length&&(m>=c.length&&c.push(a()),k=c[m],k.text=i,k.width=d.measureText(i).width,m++),l=m;l<c.length;l++)h.push(c[l]);c.length=m},e.M=new function(){},c.prototype.tr=function(a){ja(a)&&1e9>a&&(a=Math.round(1e10*a)/1e10),a=a.toString(),this.text!==a&&(this.text=a,this.cf=!0,this.i.Ta=!0)},e.ta=new c,d.prototype.Text=function(a){a.Jc(this.text)},e.Za=new d}(),function(){function a(a){j=a.x,k=a.y,l=a.z}function b(a){m=a.x,n=a.y,o=a.z}function c(a,b,c,e){var f;return f=p.length?p.pop():new d,f.init(a,b,c,e),f}function d(){this.Ln=this.id=this.y=this.x=this.Jq=this.Iq=this.gt=this.time=this.xu=0,this.Rn=this.Tq=!1}function e(){}function f(){}var h,i,j,k,l,m,n,o,p,q,r,s,g=tc.prototype;g.tb=function(a){this.yb=a,this.i=a.i},g.tb.prototype.ya=function(){},g.Xa=function(a){this.type=a,this.i=a.i,this.touches=[],this.Qt=!1},h=g.Xa.prototype,i={left:0,top:0},h.lm=function(a){var b,c;for(b=0,c=this.touches.length;c>b;b++)if(this.touches[b].id===a)return b;return-1},j=0,k=0,l=0,m=0,n=0,o=0,p=[],d.prototype.init=function(a,b,c,d){var e=Ta();this.xu=this.gt=this.time=e,this.Iq=a,this.Jq=b,this.x=a,this.y=b,this.id=c,this.Ln=d,this.Rn=this.Tq=!1},d.prototype.update=function(a,b,c){this.gt=this.time,this.time=a,this.x=b,this.y=c,!this.Rn&&15<=Oa(this.Iq,this.Jq,this.x,this.y)&&(this.Rn=!0)},d.prototype.hD=function(a,b){!this.Tq&&500<=Ta()-this.xu&&!this.Rn&&15>Oa(this.Iq,this.Jq,this.x,this.y)&&(this.Tq=!0,a.Xg=this.Ln,a.sl=this.id,a.Bk=b,a.i.trigger(tc.prototype.M.zz,a),a.jh=this.x,a.kh=this.y,a.i.trigger(tc.prototype.M.Az,a),a.Bk=0)},q=-1e3,r=-1e3,s=-1e4,d.prototype.ix=function(a,b){if(!this.Tq){var c=Ta();333>=c-this.xu&&!this.Rn&&15>Oa(this.Iq,this.Jq,this.x,this.y)&&(a.Xg=this.Ln,a.sl=this.id,a.Bk=b,666>=c-s&&25>Oa(q,r,this.x,this.y)?(a.i.trigger(tc.prototype.M.vz,a),a.jh=this.x,a.kh=this.y,a.i.trigger(tc.prototype.M.wz,a),r=q=-1e3,s=-1e4):(a.i.trigger(tc.prototype.M.Kz,a),a.jh=this.x,a.kh=this.y,a.i.trigger(tc.prototype.M.Lz,a),q=this.x,r=this.y,s=c),a.Bk=0)}},h.ya=function(){var c,d,e,f,g,h,i;this.EC=!("undefined"==typeof window.c2isWindows8||!window.c2isWindows8),this.Bk=this.sl=this.Xg=this.kh=this.jh=this.pv=this.ov=this.nv=this.iA=this.hA=this.gA=this.vn=this.un=this.tn=0,this.uE=0!==this.Y[0],c=0<this.i.we?document:this.i.canvas,d=document,this.i.Ed?d=c=window.Canvas:this.i.uf&&(d=c=window),e=this,window.navigator.pointerEnabled?(c.addEventListener("pointerdown",function(a){e.xx(a)},!1),c.addEventListener("pointermove",function(a){e.wx(a)},!1),d.addEventListener("pointerup",function(a){e.Xp(a,!1)},!1),d.addEventListener("pointercancel",function(a){e.Xp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(a){e.xx(a)},!1),c.addEventListener("MSPointerMove",function(a){e.wx(a)},!1),d.addEventListener("MSPointerUp",function(a){e.Xp(a,!1)},!1),d.addEventListener("MSPointerCancel",function(a){e.Xp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(c.addEventListener("touchstart",function(a){e.zx(a)},!1),c.addEventListener("touchmove",function(a){e.yx(a)},!1),d.addEventListener("touchend",function(a){e.Yt(a,!1)},!1),d.addEventListener("touchcancel",function(a){e.Yt(a,!0)},!1)),this.EC?(f=function(a){a=a.reading,e.nv=a.accelerationX,e.ov=a.accelerationY,e.pv=a.accelerationZ},g=function(a){a=a.reading,e.tn=a.yawDegrees,e.un=a.pitchDegrees,e.vn=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault(),h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f)),i=Windows.Devices.Sensors.Inclinometer.getDefault(),i&&(i.reportInterval=Math.max(i.minimumReportInterval,16),i.addEventListener("readingchanged",g)),document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",f),i&&i.removeEventListener("readingchanged",g)):(h&&h.addEventListener("readingchanged",f),i&&i.addEventListener("readingchanged",g))},!1)):(window.addEventListener("deviceorientation",function(a){e.tn=a.alpha||0,e.un=a.beta||0,e.vn=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.gA=a.accelerationIncludingGravity.x||0,e.hA=a.accelerationIncludingGravity.y||0,e.iA=a.accelerationIncludingGravity.z||0),a.acceleration&&(e.nv=a.acceleration.x||0,e.ov=a.acceleration.y||0,e.pv=a.acceleration.z||0)},!1)),this.uE&&!this.i.hc&&(jQuery(document).mousemove(function(a){e.uD(a)}),jQuery(document).mousedown(function(a){e.tD(a)}),jQuery(document).mouseup(function(a){e.vD(a)})),this.i.Dk&&!this.i.Ed&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0}),this.i.vf&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(b,null,{frequency:40}),this.i.lE(this)},h.wx=function(a){var b,c,d;a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&a.preventDefault(),b=this.lm(a.pointerId),c=Ta(),b>=0&&(d=this.i.hc?i:jQuery(this.i.canvas).offset(),b=this.touches[b],2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top)))},h.xx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var b=this.i.hc?i:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;Ta(),this.Xg=this.touches.length,this.sl=a.pointerId,this.touches.push(c(d,b,a.pointerId,this.Xg)),this.i.ze=!0,this.i.trigger(tc.prototype.M.dv,this),this.i.trigger(tc.prototype.M.gv,this),this.jh=d,this.kh=b,this.i.trigger(tc.prototype.M.qr,this),this.i.ze=!1}},h.Xp=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ib(a)&&a.preventDefault();var c=this.lm(a.pointerId);this.Xg=c>=0?this.touches[c].Ln:-1,this.sl=c>=0?this.touches[c].id:-1,this.i.ze=!0,this.i.trigger(tc.prototype.M.cv,this),this.i.trigger(tc.prototype.M.or,this),c>=0&&(b||this.touches[c].ix(this,c),100>p.length&&p.push(this.touches[c]),this.touches.splice(c,1)),this.i.ze=!1}},h.yx=function(a){var c,d,e,f,b,g;for(a.preventDefault&&a.preventDefault(),b=Ta(),c=0,d=a.changedTouches.length;d>c;c++)e=a.changedTouches[c],f=this.lm(e.identifier),f>=0&&(g=this.i.hc?i:jQuery(this.i.canvas).offset(),f=this.touches[f],2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top))},h.zx=function(a){var b,d,e,f,g,h;for(a.preventDefault&&ib(a)&&a.preventDefault(),b=this.i.hc?i:jQuery(this.i.canvas).offset(),Ta(),this.i.ze=!0,d=0,e=a.changedTouches.length;e>d;d++)f=a.changedTouches[d],g=this.lm(f.identifier),-1===g&&(g=f.pageX-b.left,h=f.pageY-b.top,this.Xg=this.touches.length,this.sl=f.identifier,this.touches.push(c(g,h,f.identifier,this.Xg)),this.i.trigger(tc.prototype.M.dv,this),this.i.trigger(tc.prototype.M.gv,this),this.jh=g,this.kh=h,this.i.trigger(tc.prototype.M.qr,this));this.i.ze=!1},h.Yt=function(a,b){a.preventDefault&&ib(a)&&a.preventDefault(),this.i.ze=!0;var c,d,e;for(c=0,d=a.changedTouches.length;d>c;c++)e=a.changedTouches[c],e=this.lm(e.identifier),e>=0&&(this.Xg=this.touches[e].Ln,this.sl=this.touches[e].id,this.i.trigger(tc.prototype.M.cv,this),this.i.trigger(tc.prototype.M.or,this),b||this.touches[e].ix(this,e),100>p.length&&p.push(this.touches[e]),this.touches.splice(e,1));this.i.ze=!1},h.NF=function(){return this.i.Dk&&0===this.tn&&0!==l?90*l:this.i.vf&&0===this.tn&&0!==o?90*o:this.tn},h.OF=function(){return this.i.Dk&&0===this.un&&0!==k?-90*k:this.i.vf&&0===this.un&&0!==n?90*n:this.un},h.RF=function(){return this.i.Dk&&0===this.vn&&0!==j?90*j:this.i.vf&&0===this.vn&&0!==m?90*m:this.vn},h.tD=function(a){a.preventDefault&&this.i.Ds&&!this.i.wh&&a.preventDefault(),this.zx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Qt=!0},h.uD=function(a){this.Qt&&this.yx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})},h.vD=function(a){a.preventDefault&&this.i.Ds&&!this.i.wh&&a.preventDefault(),this.i.Ds=!0,this.Yt({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Qt=!1},h.Qn=function(){var a,b,c,d=Ta();for(a=0,b=this.touches.length;b>a;++a)c=this.touches[a],c.time<=d-50&&(c.gt=d),c.hD(this,a)},e.prototype.gv=function(){return!0},e.prototype.or=function(){return!0},e.prototype.qr=function(a){return a?this.i.Lq(a,this.jh,this.kh):!1},e.prototype.dv=function(a){return a=Math.floor(a),a===this.Xg},e.prototype.cv=function(a){return a=Math.floor(a),a===this.Xg},e.prototype.zz=function(){return!0},e.prototype.Kz=function(){return!0},e.prototype.vz=function(){return!0},e.prototype.Az=function(a){return a?this.i.Lq(a,this.jh,this.kh):!1},e.prototype.Lz=function(a){return a?this.i.Lq(a,this.jh,this.kh):!1},e.prototype.wz=function(a){return a?this.i.Lq(a,this.jh,this.kh):!1},g.M=new e,f.prototype.lv=function(a,b){var d,e,f,g,h,c=this.Bk;0>c||c>=this.touches.length?a.ca(0):ha(b)?(d=this.i.tm(0),e=d.scale,f=d.mg,g=d.Ef,h=d.H,d.scale=1,d.mg=1,d.Ef=1,d.H=0,a.ca(d.se(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.mg=f,d.Ef=g,d.H=h):(d=ja(b)?this.i.tm(b):this.i.ws(b))?a.ca(d.se(this.touches[c].x,this.touches[c].y,!0)):a.ca(0)},f.prototype.fA=function(a,b){var d,e,f,g,h,c=this.Bk;0>c||c>=this.touches.length?a.ca(0):ha(b)?(d=this.i.tm(0),e=d.scale,f=d.mg,g=d.Ff,h=d.H,d.scale=1,d.mg=1,d.Ff=1,d.H=0,a.ca(d.se(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.mg=f,d.Ff=g,d.H=h):(d=ja(b)?this.i.tm(b):this.i.ws(b))?a.ca(d.se(this.touches[c].x,this.touches[c].y,!1)):a.ca(0)},g.Za=new f}(),function(){function a(){}function b(){}function c(){}var e,f,g,d=uc.prototype;d.tb=function(a){this.yb=a,this.i=a.i},d.tb.prototype.ya=function(){},d.Xa=function(a){this.type=a,this.i=a.i},e=d.Xa.prototype,f="",g="undefined"!=typeof window.is_scirra_arcade,g&&(f="arcade"+window.scirra_arcade_id),e.ya=function(){"undefined"==typeof localStorage&&fa("[Construct 2] Webstorage plugin: local storage is not supported on this platform."),"undefined"==typeof sessionStorage&&fa("[Construct 2] Webstorage plugin: session storage is not supported on this platform.")
},a.prototype.mz=function(a){return"undefined"==typeof localStorage?!1:null!=localStorage.getItem(f+a)},a.prototype.Gz=function(){return!0},d.M=new a,b.prototype.$z=function(a,b){if("undefined"!=typeof localStorage)try{localStorage.setItem(f+a,b),updateShare(b),Play68.setRankingScoreDesc(b),console.log(b)}catch(c){this.i.trigger(uc.prototype.M.Gz,this)}},d.ta=new b,c.prototype.nz=function(a,b){"undefined"==typeof localStorage?a.Jc(""):a.Jc(localStorage.getItem(f+b)||"")},c.prototype.Uu=function(a){if("undefined"==typeof localStorage)a.Jc("");else{var c,d,e,b={};for(c=0,d=localStorage.length;d>c;c++)e=localStorage.key(c),g?e.substr(0,f.length)===f&&(b[e.substr(f.length)]=localStorage.getItem(e)):b[e]=localStorage.getItem(e);a.Jc(JSON.stringify({c2dictionary:!0,data:b}))}},d.Za=new c}(),function(){var c,a=vc.prototype;a.tb=function(a){this.yb=a,this.i=a.i},a.tb.prototype.ya=function(){},a.Xa=function(a){this.type=a,this.i=a.i},c=a.Xa.prototype,c.ya=function(){this.mD=this.Y[0],this.returnValue="";var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",this.mD),"undefined"!=typeof a&&document.getElementsByTagName("head")[0].appendChild(a)},c.ue=function(){},a.M={},a.ta={},a.ta.ez=function(a){this.returnValue="";try{this.returnValue=eval(a)}catch(c){this.returnValue=c}},a.Za={},a.Za.gF=function(a){a.Jc(this.returnValue)}}(),function(){function a(){}function b(){}var d,c=wc.prototype;c.tb=function(a){this.behavior=a,this.i=a.i},c.tb.prototype.ya=function(){},c.Xa=function(a,b){this.type=a,this.behavior=a.behavior,this.A=b,this.i=a.i},d=c.Xa.prototype,d.ya=function(){var a=1===this.Y[0];this.hm=this.Y[1],this.Xn=this.Y[2],this.Yo=this.Y[3],this.IA=this.Y[4],this.He=a?0:3,this.Id?this.Kf.reset():this.Kf=new Za,this.Vj=this.A.opacity?this.A.opacity:1,a&&(0===this.hm?(this.He=1,0===this.Xn&&(this.He=2)):(this.A.opacity=0,this.i.Ta=!0))},d.Zc=function(){return{fit:this.hm,wt:this.Xn,fot:this.Yo,s:this.He,st:this.Kf.xa,mo:this.Vj}},d.vd=function(a){this.hm=a.fit,this.Xn=a.wt,this.Yo=a.fot,this.He=a.s,this.Kf.reset(),this.Kf.xa=a.st,this.Vj=a.mo},d.fc=function(){this.Kf.add(this.i.tj(this.A)),0===this.He&&(this.A.opacity=this.Kf.xa/this.hm*this.Vj,this.i.Ta=!0,this.A.opacity>=this.Vj&&(this.A.opacity=this.Vj,this.He=1,this.Kf.reset(),this.i.trigger(wc.prototype.M.xz,this.A))),1===this.He&&this.Kf.xa>=this.Xn&&(this.He=2,this.Kf.reset(),this.i.trigger(wc.prototype.M.Mz,this.A)),2===this.He&&0!==this.Yo&&(this.A.opacity=this.Vj-this.Kf.xa/this.Yo*this.Vj,this.i.Ta=!0,0>this.A.opacity&&(this.A.opacity=0,this.He=3,this.Kf.reset(),this.i.trigger(wc.prototype.M.yz,this.A),1===this.IA&&this.i.dh(this.A)))},d.YA=function(){this.He=0,this.Kf.reset(),0===this.hm?(this.He=1,0===this.Xn&&(this.He=2)):(this.A.opacity=0,this.i.Ta=!0)},a.prototype.yz=function(){return!0},a.prototype.xz=function(){return!0},a.prototype.Mz=function(){return!0},c.M=new a,b.prototype.Yz=function(){3===this.He&&this.YA()},c.ta=new b,c.Za=new function(){}}(),xc=2/180*Math.PI,yc=8/180*Math.PI,zc=.5*Math.PI,Ac=zc*zc,Bc=2/180*Math.PI,Cc=Number.MIN_VALUE*Number.MIN_VALUE,v=Kc.prototype,v.Set=function(a){var b=Math.cos(a);a=Math.sin(a),this.k.Set(b,a),this.n.Set(-a,b)},v.Kc=function(){var a=new Kc;return a.mk(this),a},v.mk=function(a){this.k.I(a.k),this.n.I(a.n)},v.dr=function(a){this.k.bi(a.k),this.n.bi(a.n)},v.eo=function(){this.k.Set(1,0),this.n.Set(0,1)},v.ra=function(){this.k.Set(0,0),this.n.Set(0,0)},v.Of=function(){return Math.atan2(this.k.y,this.k.x)},v.bj=function(a,b,c){var d=this.k.x*this.n.y-this.n.x*this.k.y;return 0!==d&&(d=1/d),a.x=d*(this.n.y*b-this.n.x*c),a.y=d*(this.k.x*c-this.k.y*b),a},v=Nc.prototype,v.Kc=function(){return new Nc(this.k,this.n,this.za)},v.mk=function(a){this.k.I(a.k),this.n.I(a.n),this.za.I(a.za)},v.dr=function(a){this.k.x+=a.k.x,this.k.y+=a.k.y,this.k.z+=a.k.z,this.n.x+=a.n.x,this.n.y+=a.n.y,this.n.z+=a.n.z,this.za.x+=a.za.x,this.za.y+=a.za.y,this.za.z+=a.za.z},v.eo=function(){this.k.Set(1,0,0),this.n.Set(0,1,0),this.za.Set(0,0,1)},v.ra=function(){this.k.Set(0,0,0),this.n.Set(0,0,0),this.za.Set(0,0,0)},Rc.prototype.Set=function(a){this.N.I(a.N),this.fd.I(a.fd),this.B.I(a.B),this.gf=a.gf,this.K=a.K,this.Kd=a.Kd},Rc.prototype.Kc=function(){var a=new Rc;return a.N.I(this.N),a.fd.I(this.fd),a.B.I(this.B),a.gf=this.gf,a.K=this.K,a.Kd=this.Kd,a},Rc.prototype.oe=function(a,b){void 0===b&&(b=0),a.position.x=(1-b)*this.fd.x+b*this.B.x,a.position.y=(1-b)*this.fd.y+b*this.B.y,a.u.Set((1-b)*this.gf+b*this.K);var c=a.u;a.position.x-=c.k.x*this.N.x+c.n.x*this.N.y,a.position.y-=c.k.y*this.N.x+c.n.y*this.N.y},Rc.prototype.ci=function(a){if(void 0===a&&(a=0),this.Kd<a&&1-this.Kd>Number.MIN_VALUE){var b=(a-this.Kd)/(1-this.Kd);this.fd.x=(1-b)*this.fd.x+b*this.B.x,this.fd.y=(1-b)*this.fd.y+b*this.B.y,this.gf=(1-b)*this.gf+b*this.K,this.Kd=a}},Sc.prototype.Lc=function(a,b){this.position.I(a),this.u.mk(b)},Sc.prototype.eo=function(){this.position.ra(),this.u.eo()},Sc.prototype.Set=function(a){this.position.I(a.position),this.u.mk(a.u)},Sc.prototype.Of=function(){return Math.atan2(this.u.k.y,this.u.k.x)},Uc=[],v=Tc.prototype,v.ra=function(){this.y=this.x=0},v.Set=function(a,b){this.x=a,this.y=b},v.I=function(a){this.x=a.x,this.y=a.y},v.di=function(){return T(-this.x,-this.y)},v.Yu=function(){this.x=-this.x,this.y=-this.y},v.Kc=function(){return T(this.x,this.y)},v.bi=function(a){this.x+=a.x,this.y+=a.y},v.kv=function(a){this.x-=a.x,this.y-=a.y},v.Yd=function(a){this.x*=a,this.y*=a},v=Oc.prototype,v.ra=function(){this.z=this.y=this.x=0},v.Set=function(a,b,c){this.x=a,this.y=b,this.z=c},v.I=function(a){this.x=a.x,this.y=a.y,this.z=a.z},v.di=function(){return new Oc(-this.x,-this.y,-this.z)},v.Yu=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},v.Kc=function(){return new Oc(this.x,this.y,this.z)},v.bi=function(a){this.x+=a.x,this.y+=a.y,this.z+=a.z},v.kv=function(a){this.x-=a.x,this.y-=a.y,this.z-=a.z},v.Yd=function(a){this.x*=a,this.y*=a,this.z*=a},v=Zc.prototype,v.aj=function(){},v.Kc=function(){},v.Set=function(a){this.bb=a.bb},v.gk=function(){},v.zl=function(){},v.$n=function(){},v.sr=function(){},R($c,Zc),v=$c.prototype,v.aj=function(){return"b2CircleShape"},v.Kc=function(){var a=new $c(this.bb);return a.Set(this),a},v.Set=function(a){Zc.prototype.Set.call(this,a),a instanceof $c&&this.ub.I(a.ub)},v.gk=function(a,b){var c=b.u,d=b.position.x+(c.k.x*this.ub.x+c.n.x*this.ub.y),c=b.position.y+(c.k.y*this.ub.x+c.n.y*this.ub.y);a.Ra.Set(d-this.bb,c-this.bb),a.Ua.Set(d+this.bb,c+this.bb)},v.zl=function(a,b){a.Kg=b*Math.PI*this.Xk,a.gh.I(this.ub),a.ik=a.Kg*(.5*this.Xk+(this.ub.x*this.ub.x+this.ub.y*this.ub.y))},v.$n=function(a,b,c,d){c=Ic(c,this.ub);var e=-(Dc(a,c)-b);return e<-this.bb+Number.MIN_VALUE?0:e>this.bb?(d.I(c),Math.PI*this.Xk):(b=e*e,e=this.Xk*(Math.asin(e/this.bb)+Math.PI/2)+e*Math.sqrt(this.Xk-b),b=-2/3*Math.pow(this.Xk-b,1.5)/e,d.x=c.x+a.x*b,d.y=c.y+a.y*b,e)},v.sr=function(a){a.O=[this.ub],a.ua=1,a.bb=this.bb},R(ad,Zc),ad.prototype.aj=function(){return"b2EdgeShape"},ad.prototype.gk=function(a,b){var c=b.u,d=b.position.x+(c.k.x*this.wa.x+c.n.x*this.wa.y),e=b.position.y+(c.k.y*this.wa.x+c.n.y*this.wa.y),f=b.position.x+(c.k.x*this.Oa.x+c.n.x*this.Oa.y),c=b.position.y+(c.k.y*this.Oa.x+c.n.y*this.Oa.y);f>d?(a.Ra.x=d,a.Ua.x=f):(a.Ra.x=f,a.Ua.x=d),c>e?(a.Ra.y=e,a.Ua.y=c):(a.Ra.y=c,a.Ua.y=e)},ad.prototype.zl=function(a){a.Kg=0,a.gh.I(this.wa),a.ik=0},ad.prototype.$n=function(a,b,c,d){var e,f,g;if(void 0===b&&(b=0),e=T(a.x*b,a.y*b),f=Ic(c,this.wa),c=Ic(c,this.Oa),g=Dc(a,f)-b,a=Dc(a,c)-b,g>0){if(a>0)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x,f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else a>0&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);return d.x=(e.x+f.x+c.x)/3,d.y=(e.y+f.y+c.y)/3,.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))},R(cd,Zc),v=cd.prototype,v.aj=function(){return"b2PolygonShape"},v.Kc=function(){var a=new cd;return a.Set(this),a},v.Set=function(a){if(Zc.prototype.Set.call(this,a),a instanceof cd){this.zf.I(a.zf),this.hb=a.hb,dd(this,this.hb);for(var b=0;b<this.hb;b++)this.O[b].I(a.O[b]),this.Fb[b].I(a.Fb[b])}},v.gk=function(a,b){var c,d,e,f,g,h,i,j;for(c=b.u,d=this.O[0],e=b.position.x+(c.k.x*d.x+c.n.x*d.y),f=b.position.y+(c.k.y*d.x+c.n.y*d.y),g=e,h=f,i=1;i<this.hb;++i)d=this.O[i],j=b.position.x+(c.k.x*d.x+c.n.x*d.y),d=b.position.y+(c.k.y*d.x+c.n.y*d.y),e=j>e?e:j,f=d>f?f:d,g=g>j?g:j,h=h>d?h:d;a.Ra.x=e-this.bb,a.Ra.y=f-this.bb,a.Ua.x=g+this.bb,a.Ua.y=h+this.bb},v.zl=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(2==this.hb)a.gh.x=.5*(this.O[0].x+this.O[1].x),a.gh.y=.5*(this.O[0].y+this.O[1].y),a.Kg=0,a.ik=0;else{for(c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.hb;++h)i=this.O[h],j=h+1<this.hb?this.O[h+1]:this.O[0],k=i.x-0,l=i.y-0,m=j.x-0,n=j.y-0,o=k*n-l*m,p=.5*o,e+=p,c+=p*g*(0+i.x+j.x),d+=p*g*(0+i.y+j.y),i=k,f+=o*(g*(.25*(i*i+m*i+m*m)+(0*i+0*m))+0+(g*(.25*(l*l+n*l+n*n)+(0*l+0*n))+0));a.Kg=b*e,a.gh.Set(1/e*c,1/e*d),a.ik=b*f}},v.$n=function(a,b,c,d){var j,k,e=Hc(c.u,a),f=b-Dc(a,c.position),g=[],h=0,i=-1;for(b=-1,j=!1,a=a=0;a<this.hb;++a)g[a]=Dc(e,this.O[a])-f,k=g[a]<-Number.MIN_VALUE,a>0&&(k?j||(i=a-1,h++):j&&(b=a-1,h++)),j=k;switch(h){case 0:return j?(a=new bd,this.zl(a,1),d.I(Ic(c,a.gh)),a.Kg):0;case 1:-1==i?i=this.hb-1:b=this.hb-1}for(a=(i+1)%this.hb,e=(b+1)%this.hb,f=(0-g[i])/(g[a]-g[i]),g=(0-g[b])/(g[e]-g[b]),i=T(this.O[i].x*(1-f)+this.O[a].x*f,this.O[i].y*(1-f)+this.O[a].y*f),b=T(this.O[b].x*(1-g)+this.O[e].x*g,this.O[b].y*(1-g)+this.O[e].y*g),g=0,f=T(0,0),h=this.O[a];a!=e;)a=(a+1)%this.hb,j=a==e?b:this.O[a],k=.5*((h.x-i.x)*(j.y-i.y)-(h.y-i.y)*(j.x-i.x)),g+=k,f.x+=k*(i.x+h.x+j.x)/3,f.y+=k*(i.y+h.y+j.y)/3,h=j;return f.Yd(1/g),d.I(Ic(c,f)),g},v.sr=function(a){a.O=this.O,a.ua=this.hb,a.bb=this.bb},v.ao=function(a){var b,c,d,e;for(b=0,c=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.hb;++d)e=this.O[d].x*a.x+this.O[d].y*a.y,e>c&&(b=d,c=e);return b},v.El=function(a){var b,c,d,e;for(b=0,c=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.hb;++d)e=this.O[d].x*a.x+this.O[d].y*a.y,e>c&&(b=d,c=e);return this.O[b]},new Kc,gd.prototype.Set=function(a){hd(this,a.oc)},gd.prototype.Kc=function(){var a=new gd;return a.Set(this),a},id.prototype.Set=function(a){this.ef.I(a.ef),this.id.Set(a.id)},kd=[],jd.prototype.ra=function(){this.Ra.Set(0,0),this.Ua.Set(0,0)},jd.prototype.Ll=function(a){return 0<a.Ra.x-this.Ua.x||0<a.Ra.y-this.Ua.y||0<this.Ra.x-a.Ua.x||0<this.Ra.y-a.Ua.y?!1:!0},xd.prototype.Set=function(a){a.sr(this)},xd.prototype.ao=function(a){var b,c,d,e;for(b=0,c=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.ua;d++)e=this.O[d].x*a.x+this.O[d].y*a.y,e>c&&(b=d,c=e);return b},xd.prototype.El=function(a){return this.O[this.ao(a)]},v=zd.prototype,v.Al=function(a,b){var c=Ad(b);return c.Ya.Ra.x=a.Ra.x-.1,c.Ya.Ra.y=a.Ra.y-.1,c.Ya.Ua.x=a.Ua.x+.1,c.Ya.Ua.y=a.Ua.y+.1,Bd(this,c),c},v.Bl=function(a){Cd(this,a),a.Ld()},v.jr=function(a,b,c){if(md(a.Ya,b))return!1;Cd(this,a);var d=.1+2*Math.abs(c.x);return c=.1+2*Math.abs(c.y),a.Ya.Ra.x=b.Ra.x-d,a.Ya.Ra.y=b.Ra.y-c,a.Ya.Ua.x=b.Ua.x+d,a.Ya.Ua.y=b.Ua.y+c,Bd(this,a),!0},v.Cl=function(a){return a.Ya},v.rr=function(a,b){var c,d;if(null!==this.Jg)for(c=[],c.push(this.Jg);0<c.length;)if(d=c.pop(),d.Ya.Ll(b))if(null===d.ae){if(!a(d.qf))break}else c.push(d.ae),c.push(d.wg)},v=Dd.prototype,v.Al=function(a,b){var c=this.Hh.Al(a,b);return this.en.push(c),c},v.Bl=function(a){Da(this.en,a),this.Hh.Bl(a)},v.jr=function(a,b,c){this.Hh.jr(a,b,c)&&this.en.push(a)},v.Ll=function(a,b){return this.Hh.Cl(a).Ll(this.Hh.Cl(b))},v.Cl=function(a){return this.Hh.Cl(a)},v.rr=function(a,b){this.Hh.rr(a,b)},Hd=[],Gd.prototype.Ld=function(){this.qf=this.parent=this.wg=this.ae=null,Hd.push(this)},Id.prototype.dd=function(){for(var a=0;2>a;a++)this.na[a].dd();this.kd.ra(),this.Ba.ra(),this.kc=this.ka=0},Id.prototype.Set=function(a){this.kc=a.kc;for(var b=0;2>b;b++)this.na[b].Set(a.na[b]);this.kd.I(a.kd),this.Ba.I(a.Ba),this.ka=a.ka},Id.prototype.Kc=function(){var a=new Id;return a.Set(this),a},Jd.prototype.dd=function(){this.Ba.ra(),this.Tj=this.Pj=0,hd(this.Bf,0)},Jd.prototype.Set=function(a){this.Ba.I(a.Ba),this.Pj=a.Pj,this.Tj=a.Tj,this.Bf.Set(a.Bf)},Kd.prototype.Lc=function(a,b,c,d,e){var f,g,h,i,j,k,l;this.Ki=b,this.Li=d,i=h=g=0,j=0,d=b=0,i=0,1==a.count?(this.ka=Ld,f=td(this.Ki,a.pc[0]),a=td(this.Li,a.qc[0]),l=f,k=c.u,g=c.position.x+(k.k.x*l.x+k.n.x*l.y),h=c.position.y+(k.k.y*l.x+k.n.y*l.y),l=a,k=e.u,i=e.position.x+(k.k.x*l.x+k.n.x*l.y),j=e.position.y+(k.k.y*l.x+k.n.y*l.y),this.V.x=i-g,this.V.y=j-h,Yc(this.V)):(a.qc[0]==a.qc[1]?(this.ka=Md,b=td(this.Ki,a.pc[0]),d=td(this.Ki,a.pc[1]),a=td(this.Li,a.qc[0]),this.Ba.x=.5*(b.x+d.x),this.Ba.y=.5*(b.y+d.y),this.V=Fc(V(d,b)),Yc(this.V),l=this.V,k=c.u,b=k.k.x*l.x+k.n.x*l.y,d=k.k.y*l.x+k.n.y*l.y,l=this.Ba,k=c.u,g=c.position.x+(k.k.x*l.x+k.n.x*l.y),h=c.position.y+(k.k.y*l.x+k.n.y*l.y),l=a,k=e.u,i=e.position.x+(k.k.x*l.x+k.n.x*l.y),j=e.position.y+(k.k.y*l.x+k.n.y*l.y),i=(i-g)*b+(j-h)*d):a.pc[0]==a.pc[0]?(this.ka=Nd,g=td(this.Li,a.qc[0]),h=td(this.Li,a.qc[1]),f=td(this.Ki,a.pc[0]),this.Ba.x=.5*(g.x+h.x),this.Ba.y=.5*(g.y+h.y),this.V=Fc(V(h,g)),Yc(this.V),l=this.V,k=e.u,b=k.k.x*l.x+k.n.x*l.y,d=k.k.y*l.x+k.n.y*l.y,l=this.Ba,k=e.u,i=e.position.x+(k.k.x*l.x+k.n.x*l.y),j=e.position.y+(k.k.y*l.x+k.n.y*l.y),l=f,k=c.u,g=c.position.x+(k.k.x*l.x+k.n.x*l.y),h=c.position.y+(k.k.y*l.x+k.n.y*l.y),i=(g-i)*b+(h-j)*d):(b=td(this.Ki,a.pc[0]),d=td(this.Ki,a.pc[1]),g=td(this.Li,a.qc[0]),h=td(this.Li,a.qc[1]),i=Gc(c.u,V(d,b)),j=Gc(e.u,V(h,g)),e=i.x*i.x+i.y*i.y,c=j.x*j.x+j.y*j.y,f=V(j,i),a=i.x*f.x+i.y*f.y,f=j.x*f.x+j.y*f.y,j=i.x*j.x+i.y*j.y,k=e*c-j*j,i=0,0!=k&&(i=Jc((j*f-a*c)/k,0,1)),0>(j*i+f)/c&&(i=Jc((j-a)/e,0,1)),f=T(0,0),f.x=b.x+i*(d.x-b.x),f.y=b.y+i*(d.y-b.y),a=T(0,0),a.x=g.x+i*(h.x-g.x),a.y=g.y+i*(h.y-g.y),0==i||1==i?(this.ka=Nd,this.V=Fc(V(h,g)),Yc(this.V),this.Ba=a):(this.ka=Md,this.V=Fc(V(d,b)),this.Ba=f)),0>i&&this.V.Yu())},Kd.prototype.qg=function(a,b){var c,d,e=0;switch(this.ka){case Ld:c=Hc(a.u,this.V),d=Hc(b.u,this.V.di()),c=this.Ki.El(c),d=this.Li.El(d),c=Ic(a,c),d=Ic(b,d),e=(d.x-c.x)*this.V.x+(d.y-c.y)*this.V.y;break;case Md:e=Gc(a.u,this.V),c=Ic(a,this.Ba),d=Hc(b.u,e.di()),d=this.Li.El(d),d=Ic(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case Nd:e=Gc(b.u,this.V),d=Ic(b,this.Ba),c=Hc(a.u,e.di()),c=this.Ki.El(c),c=Ic(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e},Ld=1,Md=2,Nd=4,Od.prototype.Set=function(a){this.Ad.I(a.Ad),this.Nf.I(a.Nf),this.Bc.I(a.Bc),this.K=a.K,this.pc=a.pc,this.qc=a.qc},Rd.prototype.Lc=function(a,b,c,d,e){if(0!=a.kc){var g,h,f=0,i=0,j=0,k=0,l=0,m=0;switch(g=0,a.ka){case 1:h=b.u,g=a.Ba,f=b.position.x+h.k.x*g.x+h.n.x*g.y,b=b.position.y+h.k.y*g.x+h.n.y*g.y,h=d.u,g=a.na[0].Ba,a=d.position.x+h.k.x*g.x+h.n.x*g.y,d=d.position.y+h.k.y*g.x+h.n.y*g.y,g=a-f,h=d-b,i=g*g+h*h,i>Cc?(i=Math.sqrt(i),this.Ca.x=g/i,this.Ca.y=h/i):(this.Ca.x=1,this.Ca.y=0),g=b+c*this.Ca.y,d-=e*this.Ca.y,this.na[0].x=.5*(f+c*this.Ca.x+(a-e*this.Ca.x)),this.na[0].y=.5*(g+d);break;case 2:for(h=b.u,g=a.kd,i=h.k.x*g.x+h.n.x*g.y,j=h.k.y*g.x+h.n.y*g.y,h=b.u,g=a.Ba,k=b.position.x+h.k.x*g.x+h.n.x*g.y,l=b.position.y+h.k.y*g.x+h.n.y*g.y,this.Ca.x=i,this.Ca.y=j,f=0;f<a.kc;f++)h=d.u,g=a.na[f].Ba,m=d.position.x+h.k.x*g.x+h.n.x*g.y,g=d.position.y+h.k.y*g.x+h.n.y*g.y,this.na[f].x=m+.5*(c-(m-k)*i-(g-l)*j-e)*i,this.na[f].y=g+.5*(c-(m-k)*i-(g-l)*j-e)*j;break;case 4:for(h=d.u,g=a.kd,i=h.k.x*g.x+h.n.x*g.y,j=h.k.y*g.x+h.n.y*g.y,h=d.u,g=a.Ba,k=d.position.x+h.k.x*g.x+h.n.x*g.y,l=d.position.y+h.k.y*g.x+h.n.y*g.y,this.Ca.x=-i,this.Ca.y=-j,f=0;f<a.kc;f++)h=b.u,g=a.na[f].Ba,m=b.position.x+h.k.x*g.x+h.n.x*g.y,g=b.position.y+h.k.y*g.x+h.n.y*g.y,this.na[f].x=m+.5*(e-(m-k)*i-(g-l)*j-c)*i,this.na[f].y=g+.5*(e-(m-k)*i-(g-l)*j-c)*j}}},v=Sd.prototype,v.Ld=function(){Vc(this.q),Vc(this.Ch)},v.oe=function(){return this.F},v.Of=function(){return this.j.K},v.hv=function(a){ae(this,this.F.position,a)},v.co=function(a){void 0===a&&(a=0),0!=this.ka&&(this.G=a)},v.bh=function(a,b){2==this.ka&&(ee(this,!0),this.Ch.x+=a.x,this.Ch.y+=a.y,this.Uj+=(b.x-this.j.B.x)*a.y-(b.y-this.j.B.y)*a.x)},v.hr=function(a){void 0===a&&(a=0),2==this.ka&&(ee(this,!0),this.Uj+=a)},v.er=function(a,b){2==this.ka&&(ee(this,!0),this.q.x+=this.J*a.x,this.q.y+=this.J*a.y,this.G+=this.T*((b.x-this.j.B.x)*a.y-(b.y-this.j.B.y)*a.x))},v.Xu=function(a){return a||(a=new bd),a.Kg=this.U,a.ik=this.yf,a.gh.I(this.j.N),a},v.fi=function(){return this.ut},v.yl=function(a){this.kj.yl(a)},v.Kl=function(a){this.kj.Kl(a)},v.ShouldCollide=function(a){if(2!=this.ka&&2!=a.ka)return!1;for(var b=this.Tb;b;b=b.next)if(b.Ze==a&&0==b.yh.Ww)return!1;return!0},v.ci=function(a){this.j.ci(a),this.j.B.I(this.j.fd),this.j.K=this.j.gf,W(this)},Td=0,v=le.prototype,v.Pa=function(a){return this.uo[a]},v.ek=function(a){var b=a.Md;null==this.rk[b]&&(this.pg(a,b,me),he(this,a),a.Qp.push(this))},v.Jl=function(a){var b=a.Md;if(null!=this.rk[b]){for(Da(a.Qp,this),a=0;me>=a;a++)this.rg(b,a);delete this.rk[b]}},v.rg=function(a,b){var d,c=this.rk[a];null!=c&&(d=c[b],null!=d&&(c[b]=null,c=d.If,d=d.next,null==c?this.uo[b]=d:c.Pf(d),null==d?this.vo[b]=c:d.Qf(c)))},v.pg=function(a,b,c){var e,d=this.rk[b];if(null==d){for(d=[],e=0;me>=e;e++)d[e]=null;this.rk[b]=d}null==d[c]&&(d[c]=new se(a),a=this.vo[c],null!=a?a.Pf(d[c]):this.uo[c]=d[c],d[c].Qf(a),this.vo[c]=d[c])},ne=0,oe=1,re=2,pe=3,qe=4,me=5,se.prototype.Pf=function(a){this.next=a},se.prototype.Qf=function(a){this.If=a},se.prototype.cb=function(){return this.body},te.prototype.ShouldCollide=function(a,b){var c=a.Yw.Kc(),d=b.Yw.Kc();return c.uj==d.uj&&0!=c.uj?0<c.uj:0!=(c.ln&d.Vl)&&0!=(c.Vl&d.ln)},ue=new te,we.prototype.BeginContact=function(){},we.prototype.EndContact=function(){},xe.prototype.Ld=function(a){a.bk&&this.Tk.EndContact(a),0<a.Xe.kc&&(ee(a.uc.cb(),!0),ee(a.jc.cb(),!0)),Be(a.ro,a),Be(a.so,a),Be(a.$q,a),this.Xw.Ld(a)},Ce.prototype.Kc=function(){var a=new Ce;return a.Vl=this.Vl,a.ln=this.ln,a.uj=this.uj,a},v=Yd.prototype,v.kk=function(){return this.VC},v.cb=function(){return this.yt},v.Xu=function(a){return a||(a=new bd),this.Gc.zl(a,this.At),a},v.Ld=function(){kd.push(this.Mj)},v.Al=function(a,b){this.Gc.gk(this.Mj,b),this.Qj=a.Al(this.Mj,this)},v.Bl=function(a){null!=this.Qj&&(a.Bl(this.Qj),this.Qj=null)},De=0,Wd.prototype.Pa=function(){return this.hs},Zd.prototype.Pf=function(a){this.next=a},Zd.prototype.Qf=function(a){this.If=a},v=Fe.prototype,v.Zn=function(){this.Dg=[],this.Op=[],this.Ji=[],this.Bh=[],this.xd=[]},v.bj=function(a,b,c){var d,e,f,g;for(d=0;d<this.Op.length;d++)e=this.Op[d],e.q.x+=a.Fa*(b.x+e.J*e.Ch.x),e.q.y+=a.Fa*(b.y+e.J*e.Ch.y),e.G+=a.Fa*e.T*e.Uj,e.q.Yd(Jc(1-a.Fa*e.WC,0,1)),e.G*=Jc(1-a.Fa*e.MC,0,1);for(this.ag.Lc(a,this.Bh,this.Bh.length),this.ag.ff(a),b=0;b<this.xd.length;b++)this.xd[b].ff(a);for(b=0;b<a.Vn;b++){for(d=0;d<this.xd.length;d++)this.xd[d].Ke(a);this.ag.Ke()}for(b=0;b<this.xd.length;b++)this.xd[b].ir();for(this.ag.ir(),b=0;b<this.Ji.length;++b)d=this.Ji[b],e=a.Fa*d.q.x,f=a.Fa*d.q.y,e*e+f*f>4&&(Yc(d.q),d.q.x=2*d.q.x*a.uh,d.q.y=2*d.q.y*a.uh),e=a.Fa*d.G,e*e>Ac&&(d.G=0>d.G?-zc*a.uh:zc*a.uh),d.j.fd.I(d.j.B),d.j.gf=d.j.K,d.j.B.x+=a.Fa*d.q.x,d.j.B.y+=a.Fa*d.q.y,d.j.K+=a.Fa*d.G,W(d);for(b=0;b<a.zn;b++){for(d=this.ag.Je(.2),e=!0,f=0;f<this.xd.length;f++)g=this.xd[f].Je(.2),e=e&&g;if(d&&e)break}if(Ge(this,this.ag.Eg),c){for(c=Number.MAX_VALUE,b=0;b<this.Ji.length;b++)d=this.Ji[b],!d.xt||Math.abs(d.G)>Bc||1e-4<Dc(d.q,d.q)?c=d.jn=0:(d.jn+=a.Fa,c=Math.min(c,d.jn));if(c>=.5)for(a=0;a<this.Dg.length;a++)ee(this.Dg[a],!1)}},v.ur=function(a){var d,e,f,g,b=0,c=0;for(this.ag.Lc(a,this.Bh,this.Bh.length),d=this.ag,b=0;b<this.xd.length;++b)this.xd[b].ff(a);for(b=0;b<a.Vn;++b)for(d.Ke(),c=0;c<this.xd.length;++c)this.xd[c].Ke(a);for(b=0;b<this.Ji.length;++b)c=this.Ji[b],e=a.Fa*c.q.x,f=a.Fa*c.q.y,e*e+f*f>4&&(Yc(c.q),c.q.x=2*c.q.x*a.uh,c.q.y=2*c.q.y*a.uh),e=a.Fa*c.G,e*e>Ac&&(c.G=0>c.G?-zc*a.uh:zc*a.uh),c.j.fd.I(c.j.B),c.j.gf=c.j.K,c.j.B.x+=a.Fa*c.q.x,c.j.B.y+=a.Fa*c.q.y,c.j.K+=a.Fa*c.G,W(c);for(b=0;b<a.zn;++b){for(e=d.Je(.75),f=!0,c=0;c<this.xd.length;++c)g=this.xd[c].Je(.2),f=f&&g;if(e&&f)break}Ge(this,d.Eg)},v.ek=function(a){this.Dg.push(a),0!=a.ka&&(this.Ji.push(a),2==a.ka&&this.Op.push(a))},v.fk=function(a){this.Bh.push(a)},Le=1-100*Number.MIN_VALUE,Ie.prototype.yl=function(a){if(null!==a.yd&&a.yd!=this)throw Error("Controller can only be a member of one world");return this.kj.yl(a),a.yd=this,a},Ie.prototype.Kl=function(a){this.kj.Kl(a),a.yd=null,a.Zn()},Ie.prototype.gi=function(a,b,c){for(this.Ht&&(ce(this.Rd),this.Ht=!1),a=new He(a,this.ax*a,b,c,this.bD),b=this.Rd,c=b.yd.hd.Pa(Ae);c;c=c.next){var d=c.Rc,e=d.uc,f=d.jc,g=e.cb(),h=f.cb();if(0!=g.wd||0!=h.wd){if(d.km){if(0==h.ShouldCollide(g)){b.Ld(d);continue}if(0==b.zt.ShouldCollide(e,f)){b.Ld(d);continue}d.km=!1}0==b.Qk.Ll(e.Qj,f.Qj)?b.Ld(d):Qe(d,b.Tk)}}0<a.Fa&&(this.bj(a),this.OC&&this.ur(a),this.ax=a.uh)},Re=[],Ie.prototype.bj=function(a){var b,c,d,e,f,g;for(b=this.kj.Pa();b;b=b.next)b.Gv.gi(a);for(b=new Fe(this.Rd.Tk,this.ag),c=this.ed.Pa(me);c;c=c.next)c.body.Ib=!1;for(d=this.hd.Pa(Ae);d;d=d.next)d.Rc.Ib=!1;for(c=this.Tb;c;c=c.Ii)c.Ib=!1;for(c=this.ed.Pa(pe);c;c=c.next)if(d=c.body,!d.Ib){for(b.Zn(),Re.length=0,e=Re,e.push(d),d.Ib=!0;0<e.length;)if(f=e.pop(),b.ek(f),f.wd||ee(f,!0),0!=f.ka){for(d=f.hd.Pa(Se);d;d=d.next)g=d.Rc,g.Ib||(b.fk(g),g.Ib=!0,g=Pe(g,f),g.Ib||(e.push(g),g.Ib=!0));for(d=f.Tb;d;d=d.next)!d.yh.Ib&&d.Ze.fi()&&(b.xd.push(d.yh),d.yh.Ib=!0,d.Ze.Ib||(e.push(d.Ze),d.Ze.Ib=!0))}b.bj(a,this.$w,this.xt)}for(c=this.ed.Pa(pe);c;c=c.next)ie(c.body);ce(this.Rd)},Ie.prototype.ur=function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,d=new Fe(this.Rd.Tk,this.ag);for(c=this.ed.Pa(me);c;c=c.next)e=c.body,e.Ib=!1,e.j.Kd=0;for(f=this.hd.Pa(Ae);f;f=f.next)f.Rc.Ib=!1,f.Rc.Yk=null;for(c=this.Tb;c;c=c.Ii)c.Ib=!1;for(;;){for(b=null,c=1,e=this.hd.Pa(Te);e;e=e.next)if(f=e.Rc,g=f.uc.cb(),h=f.jc.cb(),2==g.ka&&g.wd||2==h.ka&&h.wd){if(h=1,null!=f.Yk)h=f.Yk;else{if(f.bk)h=1;else{for(i=f.uc.cb(),j=f.jc.cb(),g=i.j.Kd,i.j.Kd<j.j.Kd?(g=j.j.Kd,i.j.ci(g)):j.j.Kd<i.j.Kd&&(g=i.j.Kd,j.j.ci(g)),h=f,i=i.j,j=j.j,Ue.Oh.Set(h.uc.Gc),Ue.Ph.Set(h.jc.Gc),Ue.qy=i,Ue.ry=j,Ue.pE=.005,k=Ue,Ve++,h=k.Oh,j=k.Ph,i=k.qy,l=k.ry,m=h.bb+j.bb,k=k.pE,n=0,o=0,p=0,We.count=0,Xe.Ny=!1;;){if(i.oe(Ye,n),l.oe(Ze,n),Xe.Oh=h,Xe.Ph=j,Xe.Rq=Ye,Xe.Sq=Ze,rd($e,We,Xe),0>=$e.nh){n=1;break}if(af.Lc(We,h,Ye,j,Ze),q=af.qg(Ye,Ze),0>=q){n=1;break}if(0==o&&(p=q>m?Math.max(m-k,.75*m):Math.max(q-k,.02*m)),.5*k>q-p){if(0==o){n=1;break}break}if(r=n,s=n,t=1,i.oe(Ye,t),l.oe(Ze,t),u=af.qg(Ye,Ze),u>=p){n=1;break}for(v=0;;){if(w=0,w=1&v?s+(p-q)*(t-s)/(u-q):.5*(s+t),i.oe(Ye,w),l.oe(Ze,w),x=af.qg(Ye,Ze),Math.abs(x-p)<.025*k){r=w;break}if(x>p?(s=w,q=x):(t=w,u=x),v++,bf++,50==v)break}if(cf=Math.max(cf,v),r<(1+100*Number.MIN_VALUE)*n)break;if(n=r,o++,df++,1e3==o)break}ef=Math.max(ef,o),h=n,h>0&&1>h&&(h=(1-h)*g+h)}f.Yk=h}Number.MIN_VALUE<h&&c>h&&(b=f,c=h)}if(null===b||c>Le)break;if(f=b.uc.cb(),e=b.jc.cb(),ff.Set(f.j),gf.Set(e.j),f.ci(c),e.ci(c),Qe(b,this.Rd.Tk),b.Yk=null,b.yq||!b.enabled)f.j.Set(ff),e.j.Set(gf),W(f),W(e);else if(b.bk){for(2!=f.ka&&(f=e),d.Zn(),Re.length=0,b=Re,b.push(f),f.Ib=!0;0<b.length;)if(e=b.pop(),d.ek(e),e.wd||ee(e,!0),2==e.ka){for(f=e.hd.Pa(Se);f&&32!=d.NC;f=f.next)g=f.Rc,g.Ib||(d.fk(g),g.Ib=!0,g=Pe(g,e),g.Ib||(0!=g.ka&&(g.ci(c),ee(g,!0),b.push(g)),g.Ib=!0));for(e=e.Tb;e;e=e.next)32!=d.Pp&&!e.yh.Ib&&e.Ze.fi()&&(d.xd.push(e.yh),e.yh.Ib=!0,e.Ze.Ib||(0!=e.Ze.ka&&(e.Ze.ci(c),ee(e.Ze,!0),b.push(e.Ze)),e.Ze.Ib=!0))}for(d.ur(new He((1-c)*a.Fa,0,a.Vn,a.zn,!1)),c=0;c<d.Dg.length;c++)if(d.Dg[c].Ib=!1,d.Dg[c].wd&&2==d.Dg[c].ka)for(ie(d.Dg[c]),f=d.Dg[c].hd.Pa(Ae);f;f=f.next)f.Rc.Yk=null;for(c=0;c<d.NC;c++)d.Bh[c].Ib=!1,d.Bh[c].Yk=null;for(c=0;c<d.Pp;c++)d.xd[c].Ib=!1;ce(this.Rd)}}},hf.prototype.dd=function(a,b){this.Xe.dd(),this.gn.dd(),this.bk=!1;var c=a.cb(),d=b.cb();this.Qr=2!=c.ka||c.Rk||2!=d.ka||d.Rk,this.yq=a.kk()||b.kk(),this.km=!1,this.uc=a,this.jc=b,this.enabled=!0,this.ro=c.hd,this.so=d.hd,this.$q=d.yd.hd,kf(this)},hf.prototype.kk=function(){return this.yq},hf.prototype.iv=function(a){this.enabled=a,of(this)},hf.prototype.qg=function(){},Ue=new Qd,jf=0,R(qf,hf),qf.prototype.dd=function(a,b){hf.prototype.dd.call(this,a,b)},qf.prototype.qg=function(){var f,a=this.Xe,b=this.uc.Gc,c=this.uc.cb().F,d=this.jc.Gc,e=this.jc.cb().F;a.kc=0,f=e.position.x+(e.u.k.x*d.ub.x+e.u.n.x*d.ub.y)-(c.position.x+(c.u.k.x*b.ub.x+c.u.n.x*b.ub.y)),c=e.position.y+(e.u.k.y*d.ub.x+e.u.n.y*d.ub.y)-(c.position.y+(c.u.k.y*b.ub.x+c.u.n.y*b.ub.y)),e=b.bb+d.bb,f*f+c*c>e*e||(a.ka=1,a.Ba.I(b.ub),a.kd.ra(),a.kc=1,a.na[0].Ba.I(d.ub),hd(a.na[0].Bf,0))},sf.prototype.dd=function(){this.ic.Set(0,0),this.Vb.Set(0,0),this.Wb.Set(0,0)},ze.prototype.ng=function(a,b){var c=a.Gc.aj(),d=b.Gc.aj(),e=this.dg[c][d],f=e.Iv;return null!=f?e.Px?0<this.Dh[c][d].length?(c=this.Dh[c][d].pop(),c.dd(a,b),c):new f(a,b):0<this.Dh[d][c].length?(c=this.Dh[d][c].pop(),c.dd(b,a),c):new f(b,a):null},ze.prototype.Ld=function(a){this.Dh[a.uc.Gc.aj()][a.jc.Gc.aj()].push(a)},Ud.prototype.Pa=function(a){return this.Co[a]},Ud.prototype.fk=function(a){var c,b=a.Md;if(null==this.jj[b]){for(this.jj[b]=[],c=0;Ae>=c;c++)this.jj[b][c]=null;this.pg(a,b,Ae)}},Ud.prototype.rg=function(a,b){var d,e,c=this.jj[a];null!=c&&(d=c[b],null!=d&&(c[b]=null,c=d.If,e=d.next,null==c?this.Co[b]=e:c.Pf(e),null==e?this.Do[b]=c:e.Qf(c),zf.push(d)))},Ud.prototype.pg=function(a,b,c){if(b=this.jj[b],null==b[c]){if(0<zf.length){var d=zf.pop();d.next=null,d.If=null,d.Rc=a,a=d}else a=new Af(a);b[c]=a,a=this.Do[c],null!=a?(a.Pf(b[c]),b[c].Qf(a)):this.Co[c]=b[c],this.Do[c]=b[c]}},Se=0,Te=1,Ae=2,zf=[],Af.prototype.Pf=function(a){this.next=a},Af.prototype.Qf=function(a){this.If=a},Bf.prototype.Lc=function(a){switch(a.type){case 1:var b=a.P.F.u,c=a.ic,d=a.P.F.position.x+(b.k.x*c.x+b.n.x*c.y),e=a.P.F.position.y+(b.k.y*c.x+b.n.y*c.y),b=a.R.F.u,c=a.mc[0].ic,f=a.R.F.position.x+(b.k.x*c.x+b.n.x*c.y),b=a.R.F.position.y+(b.k.y*c.x+b.n.y*c.y),c=f-d,g=b-e,h=c*c+g*g;h>Cc?(h=Math.sqrt(h),this.Ca.x=c/h,this.Ca.y=g/h):(this.Ca.x=1,this.Ca.y=0),this.na[0].x=.5*(d+f),this.na[0].y=.5*(e+b),this.Tp[0]=c*this.Ca.x+g*this.Ca.y-a.fu;break;case 2:for(this.Ca.x=a.P.F.u.k.x*a.Bg.x+a.P.F.u.n.x*a.Bg.y,this.Ca.y=a.P.F.u.k.y*a.Bg.x+a.P.F.u.n.y*a.Bg.y,d=a.P.F.position.x+(a.P.F.u.k.x*a.ic.x+a.P.F.u.n.x*a.ic.y),e=a.P.F.position.y+(a.P.F.u.k.y*a.ic.x+a.P.F.u.n.y*a.ic.y),f=0;f<a.Hf;f++)b=a.R.F.position.x+(a.R.F.u.k.x*a.mc[f].ic.x+a.R.F.u.n.x*a.mc[f].ic.y),c=a.R.F.position.y+(a.R.F.u.k.y*a.mc[f].ic.x+a.R.F.u.n.y*a.mc[f].ic.y),this.Tp[f]=(b-d)*this.Ca.x+(c-e)*this.Ca.y-a.fu,this.na[f].x=b,this.na[f].y=c;break;case 4:for(this.Ca.x=a.R.F.u.k.x*a.Bg.x+a.R.F.u.n.x*a.Bg.y,this.Ca.y=a.R.F.u.k.y*a.Bg.x+a.R.F.u.n.y*a.Bg.y,d=a.R.F.position.x+(a.R.F.u.k.x*a.ic.x+a.R.F.u.n.x*a.ic.y),e=a.R.F.position.y+(a.R.F.u.k.y*a.ic.x+a.R.F.u.n.y*a.ic.y),f=0;f<a.Hf;f++)b=a.P.F.position.x+(a.P.F.u.k.x*a.mc[f].ic.x+a.P.F.u.n.x*a.mc[f].ic.y),c=a.P.F.position.y+(a.P.F.u.k.y*a.mc[f].ic.x+a.P.F.u.n.y*a.mc[f].ic.y),this.Tp[f]=(b-d)*this.Ca.x+(c-e)*this.Ca.y-a.fu,this.na[f].Set(b,c);this.Ca.x*=-1,this.Ca.y*=-1}},v=Je.prototype,v.Lc=function(a,b,c){var m,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x;for(this.an=c;this.Eg.length<this.an;)this.Eg[this.Eg.length]=new rf;for(a=0;c>a;a++){for(d=b[a],e=d.uc,f=d.jc,g=e.Gc.bb,h=f.Gc.bb,i=e.cb(),j=f.cb(),k=d.Xe,l=Math.sqrt(e.Zw*f.Zw),e=e.dx,f=f.dx,m=e>f?e:f,n=i.q.x,o=i.q.y,p=j.q.x,q=j.q.y,r=i.G,s=j.G,Cf.Lc(k,i.F,g,j.F,h),e=Cf.Ca.x,d=Cf.Ca.y,f=this.Eg[a],f.P=i,f.R=j,f.cD=k,f.Hd.x=e,f.Hd.y=d,f.Hf=k.kc,f.ti=l,f.Si=m,f.Bg.x=k.kd.x,f.Bg.y=k.kd.y,f.ic.x=k.Ba.x,f.ic.y=k.Ba.y,f.fu=g+h,f.type=k.ka,g=0;g<f.Hf;++g)l=k.na[g],h=f.mc[g],h.lc=l.Pj,h.Vg=l.Tj,h.ic.I(l.Ba),l=h.Vb.x=Cf.na[g].x-i.j.B.x,m=h.Vb.y=Cf.na[g].y-i.j.B.y,t=h.Wb.x=Cf.na[g].x-j.j.B.x,u=h.Wb.y=Cf.na[g].y-j.j.B.y,v=l*d-m*e,w=t*d-u*e,v*=v,w*=w,h.Ih=1/(i.J+j.J+i.T*v+j.T*w),x=i.U*i.J+j.U*j.J,x+=i.U*i.T*v+j.U*j.T*w,h.iB=1/x,w=d,x=-e,v=l*x-m*w,w=t*x-u*w,v*=v,w*=w,h.jE=1/(i.J+j.J+i.T*v+j.T*w),h.Un=0,l=f.Hd.x*(p+-s*u-n- -r*m)+f.Hd.y*(q+s*t-o-r*l),-1>l&&(h.Un+=-f.Si*l);2==f.Hf&&(q=f.mc[0],p=f.mc[1],k=i.J,i=i.T,n=j.J,j=j.T,o=q.Vb.x*d-q.Vb.y*e,q=q.Wb.x*d-q.Wb.y*e,r=p.Vb.x*d-p.Vb.y*e,p=p.Wb.x*d-p.Wb.y*e,e=k+n+i*o*o+j*q*q,d=k+n+i*r*r+j*p*p,j=k+n+i*o*r+j*q*p,100*(e*d-j*j)>e*e?(f.pe.k.Set(e,j),f.pe.n.Set(j,d),Mc(f.pe,f.Ih)):f.Hf=1)}},v.ff=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(b=0;b<this.an;++b)if(c=this.Eg[b],d=c.P,e=c.R,f=d.J,g=d.T,h=e.J,i=e.T,j=c.Hd.x,k=c.Hd.y,l=k,m=-j,n=0,o=0,a.$h)for(o=c.Hf,n=0;o>n;++n)p=c.mc[n],p.lc*=a.Dc,p.Vg*=a.Dc,q=p.lc*j+p.Vg*l,r=p.lc*k+p.Vg*m,d.G-=g*(p.Vb.x*r-p.Vb.y*q),d.q.x-=f*q,d.q.y-=f*r,e.G+=i*(p.Wb.x*r-p.Wb.y*q),e.q.x+=h*q,e.q.y+=h*r;else for(o=c.Hf,n=0;o>n;++n)d=c.mc[n],d.lc=0,d.Vg=0},v.Ke=function(){var a,b,c,d,e,f,g,h,i,j,k;for(a=0;a<this.an;a++){for(b=this.Eg[a],c=b.Hd.x,d=b.Hd.y,e=0;e<b.Hf;e++)f=b,g=b.mc[e],h=f.Hd.y,i=-f.Hd.x,j=f.ti*g.lc,j=Jc(g.Vg-g.jE*((f.R.q.x-f.R.G*g.Wb.y-f.P.q.x+f.P.G*g.Vb.y)*h+(f.R.q.y+f.R.G*g.Wb.x-f.P.q.y-f.P.G*g.Vb.x)*i),-j,j),k=j-g.Vg,h=k*h,i=k*i,f.P.q.x-=f.P.J*h,f.P.q.y-=f.P.J*i,f.P.G-=f.P.T*(g.Vb.x*i-g.Vb.y*h),f.R.q.x+=f.R.J*h,f.R.q.y+=f.R.J*i,f.R.G+=f.R.T*(g.Wb.x*i-g.Wb.y*h),g.Vg=j;if(1==b.Hf)e=b.mc[0],f=e.lc-e.Ih*((b.R.q.x-b.R.G*e.Wb.y-b.P.q.x+b.P.G*e.Vb.y)*c+(b.R.q.y+b.R.G*e.Wb.x-b.P.q.y-b.P.G*e.Vb.x)*d-e.Un),f=f>0?f:0,g=f-e.lc,c*=g,d*=g,b.P.q.x-=b.P.J*c,b.P.q.y-=b.P.J*d,b.P.G-=b.P.T*(e.Vb.x*d-e.Vb.y*c),b.R.q.x+=b.R.J*c,b.R.q.y+=b.R.J*d,b.R.G+=b.R.T*(e.Wb.x*d-e.Wb.y*c),e.lc=f;else for(e=b.mc[0],f=b.mc[1],g=e.lc,i=f.lc,j=(b.R.q.x-b.R.G*e.Wb.y-b.P.q.x+b.P.G*e.Vb.y)*c+(b.R.q.y+b.R.G*e.Wb.x-b.P.q.y-b.P.G*e.Vb.x)*d-e.Un,d=(b.R.q.x-b.R.G*f.Wb.y-b.P.q.x+b.P.G*f.Vb.y)*c+(b.R.q.y+b.R.G*f.Wb.x-b.P.q.y-b.P.G*f.Vb.x)*d-f.Un,j-=b.pe.k.x*g+b.pe.n.x*i,d-=b.pe.k.y*g+b.pe.n.y*i;;){if(c=-(b.Ih.k.x*j+b.Ih.n.x*d),c>=0&&(h=-(b.Ih.k.y*j+b.Ih.n.y*d),h>=0)){Df(b,e,f,c-g,h-i),e.lc=c,f.lc=h;break}if(c=-e.Ih*j,c>=0&&0<=b.pe.k.y*c+d){Df(b,e,f,c-g,-i),e.lc=c,f.lc=0;break}if(c=-f.Ih*d,c>=0&&0<=b.pe.n.x*c+j){Df(b,e,f,-g,c-i),e.lc=0,f.lc=c;break}if(j>=0&&d>=0){Df(b,e,f,-g,-i),e.lc=0,f.lc=0;break}break}}},v.ir=function(){var a,b,c,d,e,f;for(a=0;a<this.an;++a)for(b=this.Eg[a],c=b.cD,d=0;d<b.Hf;++d)e=c.na[d],f=b.mc[d],e.Pj=f.lc,e.Tj=f.Vg},v.Je=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(void 0===a&&(a=0),b=0,c=0;c<this.an;c++)for(d=this.Eg[c],e=d.P,f=d.R,g=e.U*e.J,h=e.U*e.T,i=f.U*f.J,j=f.U*f.T,Ef.Lc(d),k=Ef.Ca,l=0;l<d.Hf;l++)m=d.mc[l],n=Ef.na[l],o=Ef.Tp[l],p=n.x-e.j.B.x,q=n.y-e.j.B.y,r=n.x-f.j.B.x,n=n.y-f.j.B.y,b=o>b?b:o,o=-m.iB*Jc(a*(o+.005),-.2,0),m=o*k.x,o*=k.y,e.j.B.x-=g*m,e.j.B.y-=g*o,e.j.K-=h*(p*o-q*m),W(e),f.j.B.x+=i*m,f.j.B.y+=i*o,f.j.K+=j*(r*o-n*m),W(f);return b>-.0075},R(wf,hf),wf.prototype.dd=function(a,b){hf.prototype.dd.call(this,a,b)},wf.prototype.qg=function(){},R(uf,hf),uf.prototype.dd=function(a,b){hf.prototype.dd.call(this,a,b)},uf.prototype.qg=function(){var a,b,c,d,e,f,g,h,i,j,k;a:{for(a=this.Xe,b=this.uc.Gc,c=this.uc.cb().F,d=this.jc.Gc,e=this.jc.cb().F,a.kc=0,f=e.position.x+(e.u.k.x*d.ub.x+e.u.n.x*d.ub.y)-c.position.x,g=e.position.y+(e.u.k.y*d.ub.x+e.u.n.y*d.ub.y)-c.position.y,e=f*c.u.k.x+g*c.u.k.y,c=f*c.u.n.x+g*c.u.n.y,f=0,g=-Number.MAX_VALUE,h=b.bb+d.bb,i=0;i<b.hb;++i){if(j=b.Fb[i].x*(e-b.O[i].x)+b.Fb[i].y*(c-b.O[i].y),j>h)break a;j>g&&(g=j,f=i)}j=f+1,j>=b.hb&&(j=0),i=b.O[f],k=b.O[j],g<Number.MIN_VALUE?(a.kc=1,a.ka=2,a.kd.I(b.Fb[f]),a.Ba.x=.5*(i.x+k.x),a.Ba.y=.5*(i.y+k.y),a.na[0].Ba.I(d.ub),hd(a.na[0].Bf,0)):0>=(e-i.x)*(k.x-i.x)+(c-i.y)*(k.y-i.y)?(e-i.x)*(e-i.x)+(c-i.y)*(c-i.y)>h*h||(a.kc=1,a.ka=2,a.kd.x=e-i.x,a.kd.y=c-i.y,Yc(a.kd),a.Ba.I(i),a.na[0].Ba.I(d.ub),hd(a.na[0].Bf,0)):0>=(e-k.x)*(i.x-k.x)+(c-k.y)*(i.y-k.y)?(e-k.x)*(e-k.x)+(c-k.y)*(c-k.y)>h*h||(a.kc=1,a.ka=2,a.kd.x=e-k.x,a.kd.y=c-k.y,Yc(a.kd),a.Ba.I(k),a.na[0].Ba.I(d.ub),hd(a.na[0].Bf,0)):(j=.5*(i.x+k.x),i=.5*(i.y+k.y),g=(e-j)*b.Fb[f].x+(c-i)*b.Fb[f].y,g>h||(a.kc=1,a.ka=2,a.kd.x=b.Fb[f].x,a.kd.y=b.Fb[f].y,Yc(a.kd),a.Ba.Set(j,i),a.na[0].Ba.I(d.ub),hd(a.na[0].Bf,0)))}},R(xf,hf),xf.prototype.dd=function(a,b){hf.prototype.dd.call(this,a,b)},xf.prototype.qg=function(){},R(vf,hf),vf.prototype.dd=function(a,b){hf.prototype.dd.call(this,a,b)},vf.prototype.qg=function(){var f,g,h,i,j,k,l,m,n,o,p,q,a=this.Xe,b=this.uc.Gc,c=this.uc.cb().F,d=this.jc.Gc,e=this.jc.cb().F;
if(a.kc=0,f=b.bb+d.bb,g=qd(b,c,d,e),h=g.wv,!(g.zq>f||(i=qd(d,e,b,c),i.zq>f))){for(j=b,k=d,l=c,m=e,n=0,a.ka=2,i.zq>.98*g.zq+.001&&(j=d,k=b,l=e,m=c,h=i.wv,a.ka=4,n=1),b=h,c=k,d=m,k=Ff,void 0===b&&(b=0),g=l.u.k.x*j.Fb[b].x+l.u.n.x*j.Fb[b].y,i=l.u.k.y*j.Fb[b].x+l.u.n.y*j.Fb[b].y,e=d.u.k.x*g+d.u.k.y*i,i=d.u.n.x*g+d.u.n.y*i,g=e,e=0,o=Number.MAX_VALUE,p=0;p<c.hb;p++)q=g*c.Fb[p].x+i*c.Fb[p].y,o>q&&(o=q,e=p);if(g=e+1,g>=c.hb&&(g=0),k[0].ef.x=d.position.x+(d.u.k.x*c.O[e].x+d.u.n.x*c.O[e].y),k[0].ef.y=d.position.y+(d.u.k.y*c.O[e].x+d.u.n.y*c.O[e].y),i=k[0].id,i.Ol=b,i.oc=4294967040&i.oc|255&i.Ol,i=k[0].id,i.Ml=e,i.oc=4294902015&i.oc|65280&i.Ml<<8,e=k[0].id,e.Nl=0,e.oc=4278255615&e.oc|16711680&e.Nl<<16,k[1].ef.x=d.position.x+(d.u.k.x*c.O[g].x+d.u.n.x*c.O[g].y),k[1].ef.y=d.position.y+(d.u.k.y*c.O[g].x+d.u.n.y*c.O[g].y),c=k[1].id,c.Ol=b,c.oc=4294967040&c.oc|255&c.Ol,b=k[1].id,b.Ml=g,b.oc=4294902015&b.oc|65280&b.Ml<<8,b=k[1].id,b.Nl=1,b.oc=4278255615&b.oc|16711680&b.Nl<<16,b=j.O[h],h=h+1<j.hb?j.O[h+1]:j.O[0],Gf.Set(h.x-b.x,h.y-b.y),Yc(Gf),Hf.x=Gf.y,Hf.y=-Gf.x,If.Set(.5*(b.x+h.x),.5*(b.y+h.y)),Jf.x=l.u.k.x*Gf.x+l.u.n.x*Gf.y,Jf.y=l.u.k.y*Gf.x+l.u.n.y*Gf.y,Kf.x=-Jf.x,Kf.y=-Jf.y,Lf.x=Jf.y,Lf.y=-Jf.x,Mf.x=l.position.x+(l.u.k.x*b.x+l.u.n.x*b.y),Mf.y=l.position.y+(l.u.k.y*b.x+l.u.n.y*b.y),Nf.x=l.position.x+(l.u.k.x*h.x+l.u.n.x*h.y),Nf.y=l.position.y+(l.u.k.y*h.x+l.u.n.y*h.y),!(2>od(Of,Ff,Kf,-Jf.x*Mf.x-Jf.y*Mf.y+f)||2>od(Pf,Of,Jf,Jf.x*Nf.x+Jf.y*Nf.y+f))){for(a.kd.I(Hf),a.Ba.I(If),l=Lf.x*Mf.x+Lf.y*Mf.y,j=h=0;2>j;++j)Lf.x*Pf[j].ef.x+Lf.y*Pf[j].ef.y-l<=f&&(b=Pf[j].ef.x-m.position.x,k=Pf[j].ef.y-m.position.y,a.na[h].Ba.x=b*m.u.k.x+k*m.u.k.y,a.na[h].Ba.y=b*m.u.n.x+k*m.u.n.y,a.na[h].Bf.Set(Pf[j].id),b=a.na[h].Bf,b.mv=n,b.oc=16777215&b.oc|4278190080&b.mv<<24,h++);a.kc=h}}},Qf.prototype.gi=function(){},Qf.prototype.ek=function(a){this.ed.ek(a),a.yl(this)},Qf.prototype.Jl=function(a){this.ed.Jl(a),a.Kl(this)},Qf.prototype.Zn=function(){for(var a=this.ed.Pa(me);a;a=a.next)this.Jl(a.body)},Rf=0,R(Sf,Qf),Sf.prototype.gi=function(){var a,b,c,d,e,f,g,h,i,j;for(this.vE&&(this.fw=this.yd.$w.Kc()),a=this.ed.Pa(qe);a;a=a.next){for(b=a.body,c=T(0,0),d=T(0,0),e=0,f=0,g=b.rj.Pa();g;g=g.next)h=T(0,0),i=g.qf.Gc.$n(this.Hd,this.offset,b.oe(),h),e+=i,c.x+=i*h.x,c.y+=i*h.y,j=0,j=1,f+=i*j,d.x+=i*h.x*j,d.y+=i*h.y*j;e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=f,d.y/=f,f=this.fw.di(),f.Yd(this.qi*e),b.bh(f,d),f=T(b.q.x-b.G*(c.y-b.j.B.y),b.q.y+b.G*(c.x-b.j.B.x)),f.kv(this.Qy),f.Yd(-this.IC*e),b.bh(f,c),b.hr(-b.yf/b.U*e*b.G*this.qA),Vc(c),Vc(d))}},R(Tf,Qf),Tf.prototype.gi=function(a){var b,c,d;for(a=T(this.Tu.x*a.Fa,this.Tu.y*a.Fa),b=this.ed.Pa(qe);b;b=b.next)c=b.body,d=c.q,de(c,T(d.x+a.x,d.y+a.y));Vc(a)},R(Uf,Qf),Uf.prototype.gi=function(){var a,b;for(a=this.ed.Pa(qe);a;a=a.next)b=a.body,b.bh(this.fz,b.j.B)},Vd.prototype.Pa=function(){return this.Rr},Vd.prototype.yl=function(a){var c,b=a.Md;null==this.Fo[b]&&(a=new Vf(a),c=this.Sr,null!=c?c.Pf(a):this.Rr=a,a.Qf(c),this.Sr=a,this.Fo[b]=a)},Vd.prototype.Kl=function(a){var b,c;a=a.Md,b=this.Fo[a],null!=b&&(c=b.If,b=b.next,null==c?this.Rr=b:c.Pf(b),null==b?this.Sr=c:b.Qf(c),delete this.Fo[a])},Vf.prototype.Pf=function(a){this.next=a},Vf.prototype.Qf=function(a){this.If=a},R(Wf,Qf),Wf.prototype.gi=function(){var i,j,a=null,b=null,c=0,d=null,e=null,f=0,g=0,h=0;if(f=null,this.xC)for(i=this.ed.Pa(me);i;i=i.next)for(a=i.body,b=a.j.B,c=a.U,j=this.ed.Pa(me);j;j=j.next)d=j.body,(a.wd||d.wd)&&(e=d.j.B,f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=T(f,g),f.Yd(this.Wu/h/Math.sqrt(h)*c*d.U),a.wd&&a.bh(f,b),f.Yd(-1),d.wd&&d.bh(f,e),Vc(f)));else for(i=this.ed.Pa(me);i;i=i.next)for(a=bodyNode.body,b=a.j.B,c=a.U,j=this.ed.Pa(me);j;j=j.next)d=bodyNode.body,(a.wd||d.wd)&&(e=d.j.B,f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=T(f,g),f.Yd(this.Wu/h*c*d.U),a.wd&&a.bh(f,b),f.Yd(-1),d.wd&&d.bh(f,e),Vc(f)))},R(Xf,Qf),Xf.prototype.gi=function(a){var b,d,c;if(a=a.Fa,!(a<=Number.MIN_VALUE))for(a>this.Nt&&0<this.Nt&&(a=this.Nt),b=this.ed.Pa(qe);b;b=b.next)c=b.body,d=Gc(this.aA,Hc(c.F.u,c.q)),d=Gc(c.F.u,d),de(c,T(c.q.x+d.x*a,c.q.y+d.y*a))},v=Yf.prototype,v.fi=function(){return this.W.fi()&&this.X.fi()},v.ff=function(){},v.Ke=function(){},v.ir=function(){},v.Je=function(){return!1},R(ag,Yf),ag.prototype.ff=function(a){var h,i,j,k,c=0,d=this.W,e=this.X,b=d.F.u,f=this.ga.x-d.j.N.x,g=this.ga.y-d.j.N.y;c=b.k.x*f+b.n.x*g,g=b.k.y*f+b.n.y*g,f=c,b=e.F.u,h=this.ja.x-e.j.N.x,i=this.ja.y-e.j.N.y,c=b.k.x*h+b.n.x*i,i=b.k.y*h+b.n.y*i,h=c,this.Hc.x=e.j.B.x+h-d.j.B.x-f,this.Hc.y=e.j.B.y+i-d.j.B.y-g,c=Math.sqrt(this.Hc.x*this.Hc.x+this.Hc.y*this.Hc.y),c>.005?this.Hc.Yd(1/c):this.Hc.ra(),b=f*this.Hc.y-g*this.Hc.x,j=h*this.Hc.y-i*this.Hc.x,b=d.J+d.T*b*b+e.J+e.T*j*j,this.U=0!=b?1/b:0,0<this.Bt&&(c-=this.Ct,j=2*Math.PI*this.Bt,k=this.U*j*j,this.Oj=a.Fa*(2*this.U*this.PC*j+a.Fa*k),this.Oj=0!=this.Oj?1/this.Oj:0,this.Vw=c*a.Fa*k*this.Oj,this.U=b+this.Oj,this.U=0!=this.U?1/this.U:0),a.$h?(this.D*=a.Dc,a=this.D*this.Hc.x,b=this.D*this.Hc.y,d.q.x-=d.J*a,d.q.y-=d.J*b,d.G-=d.T*(f*b-g*a),e.q.x+=e.J*a,e.q.y+=e.J*b,e.G+=e.T*(h*b-i*a)):this.D=0},ag.prototype.Ke=function(){var a=this.ga.x-this.W.j.N.x,b=this.ga.y-this.W.j.N.y,c=this.W.F.u.k.x*a+this.W.F.u.n.x*b,b=this.W.F.u.k.y*a+this.W.F.u.n.y*b,a=c,d=this.ja.x-this.X.j.N.x,e=this.ja.y-this.X.j.N.y,c=this.X.F.u.k.x*d+this.X.F.u.n.x*e,e=this.X.F.u.k.y*d+this.X.F.u.n.y*e,d=c,f=-this.U*(this.Hc.x*(this.X.q.x-this.X.G*e-(this.W.q.x-this.W.G*b))+this.Hc.y*(this.X.q.y+this.X.G*d-(this.W.q.y+this.W.G*a))+this.Vw+this.Oj*this.D);this.D+=f,c=f*this.Hc.x,f*=this.Hc.y,this.W.q.x-=this.W.J*c,this.W.q.y-=this.W.J*f,this.W.G-=this.W.T*(a*f-b*c),this.X.q.x+=this.X.J*c,this.X.q.y+=this.X.J*f,this.X.G+=this.X.T*(d*f-e*c)},ag.prototype.Je=function(){if(0<this.Bt)return!0;var a=this.ga.x-this.W.j.N.x,b=this.ga.y-this.W.j.N.y,c=this.W.F.u.k.x*a+this.W.F.u.n.x*b,b=this.W.F.u.k.y*a+this.W.F.u.n.y*b,a=c,d=this.ja.x-this.X.j.N.x,e=this.ja.y-this.X.j.N.y,c=this.X.F.u.k.x*d+this.X.F.u.n.x*e,e=this.X.F.u.k.y*d+this.X.F.u.n.y*e,d=c,f=this.X.j.B.x+d-this.W.j.B.x-a,g=this.X.j.B.y+e-this.W.j.B.y-b,h=Math.sqrt(f*f+g*g),c=Jc(h-this.Ct,-.2,.2),i=-this.U*c;return this.Hc.Set(f/h,g/h),f=i*this.Hc.x,i*=this.Hc.y,this.W.j.B.x-=this.W.J*f,this.W.j.B.y-=this.W.J*i,this.W.j.K-=this.W.T*(a*i-b*f),this.X.j.B.x+=this.X.J*f,this.X.j.B.y+=this.X.J*i,this.X.j.K+=this.X.T*(d*i-e*f),W(this.W),W(this.X),.005>Math.abs(c)},R(bg,$f),bg.prototype.Lc=function(a,b,c,d){this.P=a,this.R=b,this.rc.I(ge(this.P,c)),this.tc.I(ge(this.R,d)),a=d.x-c.x,c=d.y-c.y,this.length=Math.sqrt(a*a+c*c),this.Yr=this.ns=0},bg.prototype.ng=function(){return new ag(this)},R(cg,Yf),cg.prototype.ff=function(a){var h,i,j,k,l,c=0,d=this.W,e=this.X,b=d.F.u,f=this.Ue.x-d.j.N.x,g=this.Ue.y-d.j.N.y;c=b.k.x*f+b.n.x*g,g=b.k.y*f+b.n.y*g,f=c,b=e.F.u,h=this.Ve.x-e.j.N.x,i=this.Ve.y-e.j.N.y,c=b.k.x*h+b.n.x*i,i=b.k.y*h+b.n.y*i,h=c,b=d.J,c=e.J,j=d.T,k=e.T,l=new Kc,l.k.x=b+c,l.n.x=0,l.k.y=0,l.n.y=b+c,l.k.x+=j*g*g,l.n.x+=-j*f*g,l.k.y+=-j*f*g,l.n.y+=j*f*f,l.k.x+=k*i*i,l.n.x+=-k*h*i,l.k.y+=-k*h*i,l.n.y+=k*h*h,Mc(l,this.Ft),this.$m=j+k,0<this.$m&&(this.$m=1/this.$m),a.$h?(this.Te.x*=a.Dc,this.Te.y*=a.Dc,this.Ah*=a.Dc,a=this.Te,d.q.x-=b*a.x,d.q.y-=b*a.y,d.G-=j*(f*a.y-g*a.x+this.Ah),e.q.x+=c*a.x,e.q.y+=c*a.y,e.G+=k*(h*a.y-i*a.x+this.Ah)):(this.Te.ra(),this.Ah=0)},cg.prototype.Ke=function(a){var p,q,r,c=0,d=this.W,e=this.X,f=d.q,g=d.G,h=e.q,i=e.G,j=d.J,k=e.J,l=d.T,m=e.T,b=d.F.u,n=this.Ue.x-d.j.N.x,o=this.Ue.y-d.j.N.y;c=b.k.x*n+b.n.x*o,o=b.k.y*n+b.n.y*o,n=c,b=e.F.u,p=this.Ve.x-e.j.N.x,q=this.Ve.y-e.j.N.y,c=b.k.x*p+b.n.x*q,q=b.k.y*p+b.n.y*q,p=c,b=0,c=-this.$m*(i-g),r=this.Ah,b=a.Fa*this.$C,this.Ah=Jc(this.Ah+c,-b,b),c=this.Ah-r,g-=l*c,i+=m*c,b=Gc(this.Ft,T(-(h.x-i*q-f.x+g*o),-(h.y+i*p-f.y-g*n))),c=this.Te.Kc(),this.Te.bi(b),b=a.Fa*this.YC,Xc(this.Te)>b*b&&(Yc(this.Te),this.Te.Yd(b)),b=V(this.Te,c),f.x-=j*b.x,f.y-=j*b.y,g-=l*(n*b.y-o*b.x),h.x+=k*b.x,h.y+=k*b.y,i+=m*(p*b.y-q*b.x),d.G=g,e.G=i},cg.prototype.Je=function(){return!0},R(dg,$f),dg.prototype.Lc=function(a,b,c){this.P=a,this.R=b,this.rc.I(ge(this.P,c)),this.tc.I(ge(this.R,c))},dg.prototype.ng=function(){return new cg(this)},R(eg,Yf),eg.prototype.ff=function(a){var b=this.RC,c=this.SC,d=this.W,e=this.X,f=0,g=0,h=0,i=0,j=h=0,k=0;this.Pb.ra(),this.Rj?(this.Pb.cj=-1,k+=d.T):(b=b.F.u,g=this.Vk.ie,f=b.k.x*g.x+b.n.x*g.y,g=b.k.y*g.x+b.n.y*g.y,b=d.F.u,h=this.ga.x-d.j.N.x,i=this.ga.y-d.j.N.y,j=b.k.x*h+b.n.x*i,i=b.k.y*h+b.n.y*i,h=j*g-i*f,this.Pb.Zf.Set(-f,-g),this.Pb.cj=-h,k+=d.J+d.T*h*h),this.Sj?(this.Pb.dj=-this.Ub,k+=this.Ub*this.Ub*e.T):(b=c.F.u,g=this.Wk.ie,f=b.k.x*g.x+b.n.x*g.y,g=b.k.y*g.x+b.n.y*g.y,b=e.F.u,h=this.ja.x-e.j.N.x,i=this.ja.y-e.j.N.y,j=b.k.x*h+b.n.x*i,i=b.k.y*h+b.n.y*i,h=j*g-i*f,this.Pb.$f.Set(-this.Ub*f,-this.Ub*g),this.Pb.dj=-this.Ub*h,k+=this.Ub*this.Ub*(e.J+e.T*h*h)),this.U=k>0?1/k:0,a.$h?(d.q.x+=d.J*this.D*this.Pb.Zf.x,d.q.y+=d.J*this.D*this.Pb.Zf.y,d.G+=d.T*this.D*this.Pb.cj,e.q.x+=e.J*this.D*this.Pb.$f.x,e.q.y+=e.J*this.D*this.Pb.$f.y,e.G+=e.T*this.D*this.Pb.dj):this.D=0},eg.prototype.Ke=function(){var a=this.W,b=this.X,c=this.Pb,d=a.q,e=a.G,f=b.q,g=b.G;void 0===e&&(e=0),void 0===g&&(g=0),c=-this.U*(c.Zf.x*d.x+c.Zf.y*d.y+c.cj*e+(c.$f.x*f.x+c.$f.y*f.y)+c.dj*g),this.D+=c,a.q.x+=a.J*c*this.Pb.Zf.x,a.q.y+=a.J*c*this.Pb.Zf.y,a.G+=a.T*c*this.Pb.cj,b.q.x+=b.J*c*this.Pb.$f.x,b.q.y+=b.J*c*this.Pb.$f.y,b.G+=b.T*c*this.Pb.dj},eg.prototype.Je=function(){var a=this.W,b=this.X,c=0,d=0,c=this.Rj?gg(this.Rj):this.Vk.Dl(),d=this.Sj?gg(this.Sj):this.Wk.Dl(),c=-this.U*(this.Sk-(c+this.Ub*d));return a.j.B.x+=a.J*c*this.Pb.Zf.x,a.j.B.y+=a.J*c*this.Pb.Zf.y,a.j.K+=a.T*c*this.Pb.cj,b.j.B.x+=b.J*c*this.Pb.$f.x,b.j.B.y+=b.J*c*this.Pb.$f.y,b.j.K+=b.T*c*this.Pb.dj,W(a),W(b),!0},R(hg,$f),hg.prototype.Lc=function(a,b,c){this.Jk=a,this.P=a.W,this.Kk=b,this.R=b.W,this.Pi=c},hg.prototype.ng=function(){return new eg(this)},fg.prototype.ra=function(){this.Zf.ra(),this.cj=0,this.$f.ra(),this.dj=0},fg.prototype.Set=function(a,b,c,d){void 0===b&&(b=0),void 0===d&&(d=0),this.Zf.I(a),this.cj=b,this.$f.I(c),this.dj=d},R(ig,Yf),ig.prototype.Dl=function(){var a=this.W,b=this.X,c=fe(a,this.ga),d=fe(b,this.ja),b=d.x-c.x,c=d.y-c.y,a=Gc(a.F.u,this.ie);return a.x*b+a.y*c},ig.prototype.ff=function(a){var d,f,g,h,i,j,b=this.W,c=this.X,e=0;this.Hg.I(b.j.N),this.Ig.I(c.j.N),f=b.oe(),c.oe(),d=b.F.u,g=this.ga.x-this.Hg.x,h=this.ga.y-this.Hg.y,e=d.k.x*g+d.n.x*h,h=d.k.y*g+d.n.y*h,g=e,d=c.F.u,i=this.ja.x-this.Ig.x,j=this.ja.y-this.Ig.y,e=d.k.x*i+d.n.x*j,j=d.k.y*i+d.n.y*j,i=e,d=c.j.B.x+i-b.j.B.x-g,e=c.j.B.y+j-b.j.B.y-h,this.Rb=b.J,this.Sb=c.J,this.Fd=b.T,this.Gd=c.T,this.V.I(Gc(f.u,this.ie)),this.fb=(d+g)*this.V.y-(e+h)*this.V.x,this.gb=i*this.V.y-j*this.V.x,this.Ud=this.Rb+this.Sb+this.Fd*this.fb*this.fb+this.Gd*this.gb*this.gb,this.Ud=this.Ud>Number.MIN_VALUE?1/this.Ud:0,this.la.I(Gc(f.u,this.Gh)),this.nb=(d+g)*this.la.y-(e+h)*this.la.x,this.ob=i*this.la.y-j*this.la.x,f=this.Rb,g=this.Sb,h=this.Fd,i=this.Gd,this.fa.k.x=f+g+h*this.nb*this.nb+i*this.ob*this.ob,this.fa.k.y=h*this.nb*this.fb+i*this.ob*this.gb,this.fa.n.x=this.fa.k.y,this.fa.n.y=f+g+h*this.fb*this.fb+i*this.gb*this.gb,this.bg?(d=this.V.x*d+this.V.y*e,.01>Math.abs(this.Ye-this.We)?this.Ha=3:d<=this.We?1!=this.Ha&&(this.Ha=1,this.D.y=0):d>=this.Ye?2!=this.Ha&&(this.Ha=2,this.D.y=0):(this.Ha=0,this.D.y=0)):this.Ha=0,0==this.Hi&&(this.Sa=0),a.$h?(this.D.x*=a.Dc,this.D.y*=a.Dc,this.Sa*=a.Dc,a=this.D.x*this.la.x+(this.Sa+this.D.y)*this.V.x,d=this.D.x*this.la.y+(this.Sa+this.D.y)*this.V.y,e=this.D.x*this.nb+(this.Sa+this.D.y)*this.fb,f=this.D.x*this.ob+(this.Sa+this.D.y)*this.gb,b.q.x-=this.Rb*a,b.q.y-=this.Rb*d,b.G-=this.Fd*e,c.q.x+=this.Sb*a,c.q.y+=this.Sb*d,c.G+=this.Gd*f):(this.D.ra(),this.Sa=0)},ig.prototype.Ke=function(a){var b=this.W,c=this.X,d=b.q,e=b.G,f=c.q,g=c.G,h=0,i=0,j=0,k=0;this.Hi&&3!=this.Ha&&(k=this.Ud*(this.dn-(this.V.x*(f.x-d.x)+this.V.y*(f.y-d.y)+this.gb*g-this.fb*e)),h=this.Sa,i=a.Fa*this.Gt,this.Sa=Jc(this.Sa+k,-i,i),k=this.Sa-h,h=k*this.V.x,i=k*this.V.y,j=k*this.fb,k*=this.gb,d.x-=this.Rb*h,d.y-=this.Rb*i,e-=this.Fd*j,f.x+=this.Sb*h,f.y+=this.Sb*i,g+=this.Gd*k),i=this.la.x*(f.x-d.x)+this.la.y*(f.y-d.y)+this.ob*g-this.nb*e,this.bg&&0!=this.Ha?(j=this.V.x*(f.x-d.x)+this.V.y*(f.y-d.y)+this.gb*g-this.fb*e,h=this.D.Kc(),a=this.fa.bj(T(0,0),-i,-j),this.D.bi(a),1==this.Ha?this.D.y=Math.max(this.D.y,0):2==this.Ha&&(this.D.y=Math.min(this.D.y,0)),i=-i-(this.D.y-h.y)*this.fa.n.x,j=0,j=0!=this.fa.k.x?i/this.fa.k.x+h.x:h.x,this.D.x=j,a.x=this.D.x-h.x,a.y=this.D.y-h.y,h=a.x*this.la.x+a.y*this.V.x,i=a.x*this.la.y+a.y*this.V.y,j=a.x*this.nb+a.y*this.fb,k=a.x*this.ob+a.y*this.gb):(a=0,a=0!=this.fa.k.x?-i/this.fa.k.x:0,this.D.x+=a,h=a*this.la.x,i=a*this.la.y,j=a*this.nb,k=a*this.ob),d.x-=this.Rb*h,d.y-=this.Rb*i,e-=this.Fd*j,f.x+=this.Sb*h,f.y+=this.Sb*i,g+=this.Gd*k,b.q.I(d),b.G=e,c.q.I(f),c.G=g},ig.prototype.Je=function(){var g,n,o,p,q,a=this.W,b=this.X,c=a.j.B,d=a.j.K,e=b.j.B,f=b.j.K,h=0,i=0,j=0,k=0,l=g=0,m=0;return i=!1,n=0,o=Lc(d),j=Lc(f),g=o,m=this.ga.x-this.Hg.x,p=this.ga.y-this.Hg.y,h=g.k.x*m+g.n.x*p,p=g.k.y*m+g.n.y*p,m=h,g=j,j=this.ja.x-this.Ig.x,k=this.ja.y-this.Ig.y,h=g.k.x*j+g.n.x*k,k=g.k.y*j+g.n.y*k,j=h,g=e.x+j-c.x-m,h=e.y+k-c.y-p,this.bg&&(this.V=Gc(o,this.ie),this.fb=(g+m)*this.V.y-(h+p)*this.V.x,this.gb=j*this.V.y-k*this.V.x,q=this.V.x*g+this.V.y*h,.01>Math.abs(this.Ye-this.We)?(n=Jc(q,-.2,.2),l=Math.abs(q),i=!0):q<=this.We?(n=Jc(q-this.We+.005,-.2,0),l=this.We-q,i=!0):q>=this.Ye&&(n=Jc(q-this.Ye+.005,0,.2),l=q-this.Ye,i=!0)),this.la=Gc(o,this.Gh),this.nb=(g+m)*this.la.y-(h+p)*this.la.x,this.ob=j*this.la.y-k*this.la.x,o=T(0,0),p=this.la.x*g+this.la.y*h,l=Math.max(l,Math.abs(p)),m=0,i?(i=this.Rb,j=this.Sb,k=this.Fd,g=this.Gd,this.fa.k.x=i+j+k*this.nb*this.nb+g*this.ob*this.ob,this.fa.k.y=k*this.nb*this.fb+g*this.ob*this.gb,this.fa.n.x=this.fa.k.y,this.fa.n.y=i+j+k*this.fb*this.fb+g*this.gb*this.gb,this.fa.bj(o,-p,-n)):(i=this.Rb,j=this.Sb,k=this.Fd,g=this.Gd,n=i+j+k*this.nb*this.nb+g*this.ob*this.ob,o.x=0!=n?-p/n:0,o.y=0),n=o.x*this.la.x+o.y*this.V.x,i=o.x*this.la.y+o.y*this.V.y,p=o.x*this.nb+o.y*this.fb,o=o.x*this.ob+o.y*this.gb,c.x-=this.Rb*n,c.y-=this.Rb*i,d-=this.Fd*p,e.x+=this.Sb*n,e.y+=this.Sb*i,f+=this.Gd*o,a.j.K=d,b.j.K=f,W(a),W(b),.005>=l&&xc>=m},R(jg,$f),jg.prototype.Lc=function(a,b,c,d){this.P=a,this.R=b,this.rc=ge(this.P,c),this.tc=ge(this.R,c),this.Kj=Hc(this.P.F.u,d)},jg.prototype.ng=function(){return new ig(this)},R(kg,Yf),kg.prototype.Dl=function(){var a=this.W,b=this.X,c=fe(a,this.ga),d=fe(b,this.ja),b=d.x-c.x,c=d.y-c.y,a=Gc(a.F.u,this.ie);return a.x*b+a.y*c},kg.prototype.ff=function(a){var d,f,g,h,i,j,b=this.W,c=this.X,e=0;this.Hg.I(b.j.N),this.Ig.I(c.j.N),f=b.oe(),c.oe(),d=b.F.u,g=this.ga.x-this.Hg.x,h=this.ga.y-this.Hg.y,e=d.k.x*g+d.n.x*h,h=d.k.y*g+d.n.y*h,g=e,d=c.F.u,i=this.ja.x-this.Ig.x,j=this.ja.y-this.Ig.y,e=d.k.x*i+d.n.x*j,j=d.k.y*i+d.n.y*j,i=e,d=c.j.B.x+i-b.j.B.x-g,e=c.j.B.y+j-b.j.B.y-h,this.Rb=b.J,this.Sb=c.J,this.Fd=b.T,this.Gd=c.T,this.V.I(Gc(f.u,this.ie)),this.fb=(d+g)*this.V.y-(e+h)*this.V.x,this.gb=i*this.V.y-j*this.V.x,this.Ud=this.Rb+this.Sb+this.Fd*this.fb*this.fb+this.Gd*this.gb*this.gb,this.Ud>Number.MIN_VALUE&&(this.Ud=1/this.Ud),this.la.I(Gc(f.u,this.Gh)),this.nb=(d+g)*this.la.y-(e+h)*this.la.x,this.ob=i*this.la.y-j*this.la.x,f=this.Rb,g=this.Sb,h=this.Fd,i=this.Gd,this.fa.k.x=f+g+h*this.nb*this.nb+i*this.ob*this.ob,this.fa.k.y=h*this.nb+i*this.ob,this.fa.k.z=h*this.nb*this.fb+i*this.ob*this.gb,this.fa.n.x=this.fa.k.y,this.fa.n.y=h+i,this.fa.n.z=h*this.fb+i*this.gb,this.fa.za.x=this.fa.k.z,this.fa.za.y=this.fa.n.z,this.fa.za.z=f+g+h*this.fb*this.fb+i*this.gb*this.gb,this.bg?(d=this.V.x*d+this.V.y*e,.01>Math.abs(this.Ye-this.We)?this.Ha=3:d<=this.We?1!=this.Ha&&(this.Ha=1,this.D.z=0):d>=this.Ye?2!=this.Ha&&(this.Ha=2,this.D.z=0):(this.Ha=0,this.D.z=0)):this.Ha=0,0==this.Hi&&(this.Sa=0),a.$h?(this.D.x*=a.Dc,this.D.y*=a.Dc,this.Sa*=a.Dc,a=this.D.x*this.la.x+(this.Sa+this.D.z)*this.V.x,d=this.D.x*this.la.y+(this.Sa+this.D.z)*this.V.y,e=this.D.x*this.nb+this.D.y+(this.Sa+this.D.z)*this.fb,f=this.D.x*this.ob+this.D.y+(this.Sa+this.D.z)*this.gb,b.q.x-=this.Rb*a,b.q.y-=this.Rb*d,b.G-=this.Fd*e,c.q.x+=this.Sb*a,c.q.y+=this.Sb*d,c.G+=this.Gd*f):(this.D.ra(),this.Sa=0)},kg.prototype.Ke=function(a){var b=this.W,c=this.X,d=b.q,e=b.G,f=c.q,g=c.G,h=0,i=0,j=0,k=0;this.Hi&&3!=this.Ha&&(k=this.Ud*(this.dn-(this.V.x*(f.x-d.x)+this.V.y*(f.y-d.y)+this.gb*g-this.fb*e)),h=this.Sa,a=a.Fa*this.Gt,this.Sa=Jc(this.Sa+k,-a,a),k=this.Sa-h,h=k*this.V.x,i=k*this.V.y,j=k*this.fb,k*=this.gb,d.x-=this.Rb*h,d.y-=this.Rb*i,e-=this.Fd*j,f.x+=this.Sb*h,f.y+=this.Sb*i,g+=this.Gd*k),j=this.la.x*(f.x-d.x)+this.la.y*(f.y-d.y)+this.ob*g-this.nb*e,i=g-e,this.bg&&0!=this.Ha?(a=this.V.x*(f.x-d.x)+this.V.y*(f.y-d.y)+this.gb*g-this.fb*e,h=this.D.Kc(),a=Qc(this.fa,new Oc(0,0,0),-j,-i,-a),this.D.bi(a),1==this.Ha?this.D.z=Math.max(this.D.z,0):2==this.Ha&&(this.D.z=Math.min(this.D.z,0)),j=-j-(this.D.z-h.z)*this.fa.za.x,i=-i-(this.D.z-h.z)*this.fa.za.y,i=Pc(this.fa,T(0,0),j,i),i.x+=h.x,i.y+=h.y,this.D.x=i.x,this.D.y=i.y,a.x=this.D.x-h.x,a.y=this.D.y-h.y,a.z=this.D.z-h.z,h=a.x*this.la.x+a.z*this.V.x,i=a.x*this.la.y+a.z*this.V.y,j=a.x*this.nb+a.y+a.z*this.fb,k=a.x*this.ob+a.y+a.z*this.gb):(a=Pc(this.fa,T(0,0),-j,-i),this.D.x+=a.x,this.D.y+=a.y,h=a.x*this.la.x,i=a.x*this.la.y,j=a.x*this.nb+a.y,k=a.x*this.ob+a.y),d.x-=this.Rb*h,d.y-=this.Rb*i,e-=this.Fd*j,f.x+=this.Sb*h,f.y+=this.Sb*i,g+=this.Gd*k,b.q.I(d),b.G=e,c.q.I(f),c.G=g},kg.prototype.Je=function(){var g,m,n,o,p,q,a=this.W,b=this.X,c=a.j.B,d=a.j.K,e=b.j.B,f=b.j.K,h=0,i=0,j=0,k=h=g=0,l=0;return i=!1,m=0,n=Lc(d),o=Lc(f),g=n,l=this.ga.x-this.Hg.x,p=this.ga.y-this.Hg.y,h=g.k.x*l+g.n.x*p,p=g.k.y*l+g.n.y*p,l=h,g=o,o=this.ja.x-this.Ig.x,j=this.ja.y-this.Ig.y,h=g.k.x*o+g.n.x*j,j=g.k.y*o+g.n.y*j,o=h,g=e.x+o-c.x-l,h=e.y+j-c.y-p,this.bg&&(this.V=Gc(n,this.ie),this.fb=(g+l)*this.V.y-(h+p)*this.V.x,this.gb=o*this.V.y-j*this.V.x,q=this.V.x*g+this.V.y*h,.01>Math.abs(this.Ye-this.We)?(m=Jc(q,-.2,.2),k=Math.abs(q),i=!0):q<=this.We?(m=Jc(q-this.We+.005,-.2,0),k=this.We-q,i=!0):q>=this.Ye&&(m=Jc(q-this.Ye+.005,0,.2),k=q-this.Ye,i=!0)),this.la=Gc(n,this.Gh),this.nb=(g+l)*this.la.y-(h+p)*this.la.x,this.ob=o*this.la.y-j*this.la.x,n=new Oc(0,0,0),p=this.la.x*g+this.la.y*h,o=f-d-this.aD,k=Math.max(k,Math.abs(p)),l=Math.abs(o),i?(i=this.Rb,j=this.Sb,g=this.Fd,h=this.Gd,this.fa.k.x=i+j+g*this.nb*this.nb+h*this.ob*this.ob,this.fa.k.y=g*this.nb+h*this.ob,this.fa.k.z=g*this.nb*this.fb+h*this.ob*this.gb,this.fa.n.x=this.fa.k.y,this.fa.n.y=g+h,this.fa.n.z=g*this.fb+h*this.gb,this.fa.za.x=this.fa.k.z,this.fa.za.y=this.fa.n.z,this.fa.za.z=i+j+g*this.fb*this.fb+h*this.gb*this.gb,Qc(this.fa,n,-p,-o,-m)):(i=this.Rb,j=this.Sb,g=this.Fd,h=this.Gd,m=g*this.nb+h*this.ob,q=g+h,this.fa.k.Set(i+j+g*this.nb*this.nb+h*this.ob*this.ob,m,0),this.fa.n.Set(m,q,0),m=Pc(this.fa,T(0,0),-p,-o),n.x=m.x,n.y=m.y,n.z=0),m=n.x*this.la.x+n.z*this.V.x,i=n.x*this.la.y+n.z*this.V.y,p=n.x*this.nb+n.y+n.z*this.fb,n=n.x*this.ob+n.y+n.z*this.gb,c.x-=this.Rb*m,c.y-=this.Rb*i,d-=this.Fd*p,e.x+=this.Sb*m,e.y+=this.Sb*i,f+=this.Gd*n,a.j.K=d,b.j.K=f,W(a),W(b),.005>=k&&xc>=l},R(lg,$f),lg.prototype.Lc=function(a,b,c,d){this.P=a,this.R=b,this.rc=ge(this.P,c),this.tc=ge(this.R,c),this.Kj=Hc(this.P.F.u,d),this.Qi=this.R.Of()-this.P.Of()},lg.prototype.ng=function(){return new kg(this)},R(mg,Yf),mg.prototype.ff=function(a){var h,i,j,k,b=this.W,c=this.X,d=b.F.u,e=this.ga.x-b.j.N.x,f=this.ga.y-b.j.N.y,g=d.k.x*e+d.n.x*f;f=d.k.y*e+d.n.y*f,e=g,d=c.F.u,h=this.ja.x-c.j.N.x,i=this.ja.y-c.j.N.y,g=d.k.x*h+d.n.x*i,i=d.k.y*h+d.n.y*i,h=g,d=c.j.B.x+h,g=c.j.B.y+i,j=this.Af.F.position.x+this.Fh.x,k=this.Af.F.position.y+this.Fh.y,this.wb.Set(b.j.B.x+e-(this.Af.F.position.x+this.Eh.x),b.j.B.y+f-(this.Af.F.position.y+this.Eh.y)),this.xb.Set(d-j,g-k),d=Wc(this.wb),g=Wc(this.xb),d>.005?this.wb.Yd(1/d):this.wb.ra(),g>.005?this.xb.Yd(1/g):this.xb.ra(),0<this.Sk-d-this.Ub*g?this.D=this.It=0:this.It=2,d<this.bx?this.Fg=this.Dt=0:this.Dt=2,g<this.cx?this.Gg=this.Et=0:this.Et=2,d=e*this.wb.y-f*this.wb.x,g=h*this.xb.y-i*this.xb.x,this.bn=b.J+b.T*d*d,this.cn=c.J+c.T*g*g,this.Sp=this.bn+this.Ub*this.Ub*this.cn,this.bn=1/this.bn,this.cn=1/this.cn,this.Sp=1/this.Sp,a.$h?(this.D*=a.Dc,this.Fg*=a.Dc,this.Gg*=a.Dc,a=(-this.D-this.Fg)*this.wb.x,d=(-this.D-this.Fg)*this.wb.y,g=(-this.Ub*this.D-this.Gg)*this.xb.x,j=(-this.Ub*this.D-this.Gg)*this.xb.y,b.q.x+=b.J*a,b.q.y+=b.J*d,b.G+=b.T*(e*d-f*a),c.q.x+=c.J*g,c.q.y+=c.J*j,c.G+=c.T*(h*j-i*g)):this.Gg=this.Fg=this.D=0},mg.prototype.Ke=function(){var g,h,i,j,a=this.W,b=this.X,c=a.F.u,d=this.ga.x-a.j.N.x,e=this.ga.y-a.j.N.y,f=c.k.x*d+c.n.x*e;e=c.k.y*d+c.n.y*e,d=f,c=b.F.u,g=this.ja.x-b.j.N.x,h=this.ja.y-b.j.N.y,f=c.k.x*g+c.n.x*h,h=c.k.y*g+c.n.y*h,g=f,i=f=c=0,j=0,c=j=c=j=i=f=c=0,2==this.It&&(c=a.q.x+-a.G*e,f=a.q.y+a.G*d,i=b.q.x+-b.G*h,j=b.q.y+b.G*g,c=-(this.wb.x*c+this.wb.y*f)-this.Ub*(this.xb.x*i+this.xb.y*j),j=this.Sp*-c,c=this.D,this.D=Math.max(0,this.D+j),j=this.D-c,c=-j*this.wb.x,f=-j*this.wb.y,i=-this.Ub*j*this.xb.x,j=-this.Ub*j*this.xb.y,a.q.x+=a.J*c,a.q.y+=a.J*f,a.G+=a.T*(d*f-e*c),b.q.x+=b.J*i,b.q.y+=b.J*j,b.G+=b.T*(g*j-h*i)),2==this.Dt&&(c=a.q.x+-a.G*e,f=a.q.y+a.G*d,c=-(this.wb.x*c+this.wb.y*f),j=-this.bn*c,c=this.Fg,this.Fg=Math.max(0,this.Fg+j),j=this.Fg-c,c=-j*this.wb.x,f=-j*this.wb.y,a.q.x+=a.J*c,a.q.y+=a.J*f,a.G+=a.T*(d*f-e*c)),2==this.Et&&(i=b.q.x+-b.G*h,j=b.q.y+b.G*g,c=-(this.xb.x*i+this.xb.y*j),j=-this.cn*c,c=this.Gg,this.Gg=Math.max(0,this.Gg+j),j=this.Gg-c,i=-j*this.xb.x,j=-j*this.xb.y,b.q.x+=b.J*i,b.q.y+=b.J*j,b.G+=b.T*(g*j-h*i))},mg.prototype.Je=function(){var c,a=this.W,b=this.X,d=this.Af.F.position.x+this.Eh.x,e=this.Af.F.position.y+this.Eh.y,f=this.Af.F.position.x+this.Fh.x,g=this.Af.F.position.y+this.Fh.y,h=0,i=0,j=0,k=0,l=c=0,m=0,n=0,o=l=n=c=l=c=0;return 2==this.It&&(c=a.F.u,h=this.ga.x-a.j.N.x,i=this.ga.y-a.j.N.y,l=c.k.x*h+c.n.x*i,i=c.k.y*h+c.n.y*i,h=l,c=b.F.u,j=this.ja.x-b.j.N.x,k=this.ja.y-b.j.N.y,l=c.k.x*j+c.n.x*k,k=c.k.y*j+c.n.y*k,j=l,c=a.j.B.x+h,l=a.j.B.y+i,m=b.j.B.x+j,n=b.j.B.y+k,this.wb.Set(c-d,l-e),this.xb.Set(m-f,n-g),c=Wc(this.wb),l=Wc(this.xb),c>.005?this.wb.Yd(1/c):this.wb.ra(),l>.005?this.xb.Yd(1/l):this.xb.ra(),c=this.Sk-c-this.Ub*l,o=Math.max(o,-c),c=Jc(c+.005,-.2,0),n=-this.Sp*c,c=-n*this.wb.x,l=-n*this.wb.y,m=-this.Ub*n*this.xb.x,n=-this.Ub*n*this.xb.y,a.j.B.x+=a.J*c,a.j.B.y+=a.J*l,a.j.K+=a.T*(h*l-i*c),b.j.B.x+=b.J*m,b.j.B.y+=b.J*n,b.j.K+=b.T*(j*n-k*m),W(a),W(b)),2==this.Dt&&(c=a.F.u,h=this.ga.x-a.j.N.x,i=this.ga.y-a.j.N.y,l=c.k.x*h+c.n.x*i,i=c.k.y*h+c.n.y*i,h=l,c=a.j.B.x+h,l=a.j.B.y+i,this.wb.Set(c-d,l-e),c=Wc(this.wb),c>.005?(this.wb.x*=1/c,this.wb.y*=1/c):this.wb.ra(),c=this.bx-c,o=Math.max(o,-c),c=Jc(c+.005,-.2,0),n=-this.bn*c,c=-n*this.wb.x,l=-n*this.wb.y,a.j.B.x+=a.J*c,a.j.B.y+=a.J*l,a.j.K+=a.T*(h*l-i*c),W(a)),2==this.Et&&(c=b.F.u,j=this.ja.x-b.j.N.x,k=this.ja.y-b.j.N.y,l=c.k.x*j+c.n.x*k,k=c.k.y*j+c.n.y*k,j=l,m=b.j.B.x+j,n=b.j.B.y+k,this.xb.Set(m-f,n-g),l=Wc(this.xb),l>.005?(this.xb.x*=1/l,this.xb.y*=1/l):this.xb.ra(),c=this.cx-l,o=Math.max(o,-c),c=Jc(c+.005,-.2,0),n=-this.cn*c,m=-n*this.xb.x,n=-n*this.xb.y,b.j.B.x+=b.J*m,b.j.B.y+=b.J*n,b.j.K+=b.T*(j*n-k*m),W(b)),.005>o},ng=1,R(og,$f),og.prototype.Lc=function(a,b,c,d,e,f,g){void 0===g&&(g=0),this.P=a,this.R=b,this.lp.I(c),this.mp.I(d),this.rc=ge(this.P,e),this.tc=ge(this.R,f),a=e.x-c.x,c=e.y-c.y,this.it=Math.sqrt(a*a+c*c),c=f.x-d.x,d=f.y-d.y,this.jt=Math.sqrt(c*c+d*d),this.Pi=g,g=this.it+this.Pi*this.jt,this.gx=g-this.Pi*ng,this.hx=(g-ng)/this.Pi},og.prototype.ng=function(){return new mg(this)},R(pg,Yf),pg.prototype.ff=function(a){var h,i,j,k,l,b=this.W,c=this.X,e=0,d=b.F.u,f=this.ga.x-b.j.N.x,g=this.ga.y-b.j.N.y;e=d.k.x*f+d.n.x*g,g=d.k.y*f+d.n.y*g,f=e,d=c.F.u,h=this.ja.x-c.j.N.x,i=this.ja.y-c.j.N.y,e=d.k.x*h+d.n.x*i,i=d.k.y*h+d.n.y*i,h=e,d=b.J,e=c.J,j=b.T,k=c.T,this.U.k.x=d+e+g*g*j+i*i*k,this.U.n.x=-g*f*j-i*h*k,this.U.za.x=-g*j-i*k,this.U.k.y=this.U.n.x,this.U.n.y=d+e+f*f*j+h*h*k,this.U.za.y=f*j+h*k,this.U.k.z=this.U.za.x,this.U.n.z=this.U.za.y,this.U.za.z=j+k,this.Ud=1/(j+k),this.Hi||(this.Sa=0),this.bg?(l=c.j.K-b.j.K-this.hn,Math.abs(this.Jt-this.Rp)<2*xc?this.Ha=3:l<=this.Rp?(1!=this.Ha&&(this.D.z=0),this.Ha=1):l>=this.Jt?(2!=this.Ha&&(this.D.z=0),this.Ha=2):(this.Ha=0,this.D.z=0)):this.Ha=0,a.$h?(this.D.x*=a.Dc,this.D.y*=a.Dc,this.Sa*=a.Dc,a=this.D.x,l=this.D.y,b.q.x-=d*a,b.q.y-=d*l,b.G-=j*(f*l-g*a+this.Sa+this.D.z),c.q.x+=e*a,c.q.y+=e*l,c.G+=k*(h*l-i*a+this.Sa+this.D.z)):(this.D.ra(),this.Sa=0)},pg.prototype.Ke=function(a){var q,b=this.W,c=this.X,d=0,e=d=0,f=0,g=0,h=0,i=b.q,j=b.G,k=c.q,l=c.G,m=b.J,n=c.J,o=b.T,p=c.T;this.Hi&&3!=this.Ha&&(e=this.Ud*-(l-j-this.dn),f=this.Sa,g=a.Fa*this.ZC,this.Sa=Jc(this.Sa+e,-g,g),e=this.Sa-f,j-=o*e,l+=p*e),this.bg&&0!=this.Ha?(a=b.F.u,e=this.ga.x-b.j.N.x,f=this.ga.y-b.j.N.y,d=a.k.x*e+a.n.x*f,f=a.k.y*e+a.n.y*f,e=d,a=c.F.u,g=this.ja.x-c.j.N.x,h=this.ja.y-c.j.N.y,d=a.k.x*g+a.n.x*h,h=a.k.y*g+a.n.y*h,g=d,a=k.x+-l*h-i.x- -j*f,q=k.y+l*g-i.y-j*e,Qc(this.U,this.Tc,-a,-q,-(l-j)),3==this.Ha?this.D.bi(this.Tc):1==this.Ha?(d=this.D.z+this.Tc.z,0>d&&(Pc(this.U,this.Qg,-a,-q),this.Tc.x=this.Qg.x,this.Tc.y=this.Qg.y,this.Tc.z=-this.D.z,this.D.x+=this.Qg.x,this.D.y+=this.Qg.y,this.D.z=0)):2==this.Ha&&(d=this.D.z+this.Tc.z,d>0&&(Pc(this.U,this.Qg,-a,-q),this.Tc.x=this.Qg.x,this.Tc.y=this.Qg.y,this.Tc.z=-this.D.z,this.D.x+=this.Qg.x,this.D.y+=this.Qg.y,this.D.z=0)),i.x-=m*this.Tc.x,i.y-=m*this.Tc.y,j-=o*(e*this.Tc.y-f*this.Tc.x+this.Tc.z),k.x+=n*this.Tc.x,k.y+=n*this.Tc.y,l+=p*(g*this.Tc.y-h*this.Tc.x+this.Tc.z)):(a=b.F.u,e=this.ga.x-b.j.N.x,f=this.ga.y-b.j.N.y,d=a.k.x*e+a.n.x*f,f=a.k.y*e+a.n.y*f,e=d,a=c.F.u,g=this.ja.x-c.j.N.x,h=this.ja.y-c.j.N.y,d=a.k.x*g+a.n.x*h,h=a.k.y*g+a.n.y*h,g=d,Pc(this.U,this.Vf,-(k.x+-l*h-i.x- -j*f),-(k.y+l*g-i.y-j*e)),this.D.x+=this.Vf.x,this.D.y+=this.Vf.y,i.x-=m*this.Vf.x,i.y-=m*this.Vf.y,j-=o*(e*this.Vf.y-f*this.Vf.x),k.x+=n*this.Vf.x,k.y+=n*this.Vf.y,l+=p*(g*this.Vf.y-h*this.Vf.x)),b.q.I(i),b.G=j,c.q.I(k),c.G=l},pg.prototype.Je=function(){var b,i,j,k,l,m,n,o,a=0,c=this.W,d=this.X,e=0,f=b=0,g=0,h=0;return this.bg&&0!=this.Ha&&(a=d.j.K-c.j.K-this.hn,i=0,3==this.Ha?(a=Jc(a-this.Rp,-yc,yc),i=-this.Ud*a,e=Math.abs(a)):1==this.Ha?(a-=this.Rp,e=-a,a=Jc(a+xc,-yc,0),i=-this.Ud*a):2==this.Ha&&(e=a-=this.Jt,a=Jc(a-xc,0,yc),i=-this.Ud*a),c.j.K-=c.T*i,d.j.K+=d.T*i,W(c),W(d)),b=c.F.u,i=this.ga.x-c.j.N.x,a=this.ga.y-c.j.N.y,f=b.k.x*i+b.n.x*a,a=b.k.y*i+b.n.y*a,i=f,b=d.F.u,j=this.ja.x-d.j.N.x,k=this.ja.y-d.j.N.y,f=b.k.x*j+b.n.x*k,k=b.k.y*j+b.n.y*k,j=f,g=d.j.B.x+j-c.j.B.x-i,h=d.j.B.y+k-c.j.B.y-a,l=g*g+h*h,b=Math.sqrt(l),f=c.J,m=d.J,n=c.T,o=d.T,l>.05*.05&&(l=1/(f+m),g=l*-g,h=l*-h,c.j.B.x-=.5*f*g,c.j.B.y-=.5*f*h,d.j.B.x+=.5*m*g,d.j.B.y+=.5*m*h,g=d.j.B.x+j-c.j.B.x-i,h=d.j.B.y+k-c.j.B.y-a),this.Fl.k.x=f+m,this.Fl.n.x=0,this.Fl.k.y=0,this.Fl.n.y=f+m,this.Gl.k.x=n*a*a,this.Gl.n.x=-n*i*a,this.Gl.k.y=-n*i*a,this.Gl.n.y=n*i*i,this.Hl.k.x=o*k*k,this.Hl.n.x=-o*j*k,this.Hl.k.y=-o*j*k,this.Hl.n.y=o*j*j,this.pe.mk(this.Fl),this.pe.dr(this.Gl),this.pe.dr(this.Hl),this.pe.bj(qg,-g,-h),g=qg.x,h=qg.y,c.j.B.x-=c.J*g,c.j.B.y-=c.J*h,c.j.K-=c.T*(i*h-a*g),d.j.B.x+=d.J*g,d.j.B.y+=d.J*h,d.j.K+=d.T*(j*h-k*g),W(c),W(d),.005>=b&&xc>=e},qg=T(0,0),R(rg,$f),rg.prototype.Lc=function(a,b,c){this.P=a,this.R=b,this.rc=ge(this.P,c),this.tc=ge(this.R,c),this.Qi=this.R.Of()-this.P.Of()},rg.prototype.ng=function(){return new pg(this)},R(sg,Yf),sg.prototype.ff=function(a){var h,i,j,k,c=0,d=this.W,e=this.X,b=d.F.u,f=this.Ue.x-d.j.N.x,g=this.Ue.y-d.j.N.y;c=b.k.x*f+b.n.x*g,g=b.k.y*f+b.n.y*g,f=c,b=e.F.u,h=this.Ve.x-e.j.N.x,i=this.Ve.y-e.j.N.y,c=b.k.x*h+b.n.x*i,i=b.k.y*h+b.n.y*i,h=c,b=d.J,c=e.J,j=d.T,k=e.T,this.U.k.x=b+c+g*g*j+i*i*k,this.U.n.x=-g*f*j-i*h*k,this.U.za.x=-g*j-i*k,this.U.k.y=this.U.n.x,this.U.n.y=b+c+f*f*j+h*h*k,this.U.za.y=f*j+h*k,this.U.k.z=this.U.za.x,this.U.n.z=this.U.za.y,this.U.za.z=j+k,a.$h?(this.D.x*=a.Dc,this.D.y*=a.Dc,this.D.z*=a.Dc,d.q.x-=b*this.D.x,d.q.y-=b*this.D.y,d.G-=j*(f*this.D.y-g*this.D.x+this.D.z),e.q.x+=c*this.D.x,e.q.y+=c*this.D.y,e.G+=k*(h*this.D.y-i*this.D.x+this.D.z)):this.D.ra()},sg.prototype.Ke=function(){var o,p,b=0,c=this.W,d=this.X,e=c.q,f=c.G,g=d.q,h=d.G,i=c.J,j=d.J,k=c.T,l=d.T,a=c.F.u,m=this.Ue.x-c.j.N.x,n=this.Ue.y-c.j.N.y;b=a.k.x*m+a.n.x*n,n=a.k.y*m+a.n.y*n,m=b,a=d.F.u,o=this.Ve.x-d.j.N.x,p=this.Ve.y-d.j.N.y,b=a.k.x*o+a.n.x*p,p=a.k.y*o+a.n.y*p,o=b,a=new Oc(0,0,0),Qc(this.U,a,-(g.x-h*p-e.x+f*n),-(g.y+h*o-e.y-f*m),-(h-f)),this.D.bi(a),e.x-=i*a.x,e.y-=i*a.y,f-=k*(m*a.y-n*a.x+a.z),g.x+=j*a.x,g.y+=j*a.y,h+=l*(o*a.y-p*a.x+a.z),c.G=f,d.G=h},sg.prototype.Je=function(){var g,h,i,j,k,l,m,n,o,p,b=0,c=this.W,d=this.X,a=c.F.u,e=this.Ue.x-c.j.N.x,f=this.Ue.y-c.j.N.y;return b=a.k.x*e+a.n.x*f,f=a.k.y*e+a.n.y*f,e=b,a=d.F.u,g=this.Ve.x-d.j.N.x,h=this.Ve.y-d.j.N.y,b=a.k.x*g+a.n.x*h,h=a.k.y*g+a.n.y*h,g=b,a=c.J,b=d.J,i=c.T,j=d.T,k=d.j.B.x+g-c.j.B.x-e,l=d.j.B.y+h-c.j.B.y-f,m=d.j.K-c.j.K-this.hn,n=Math.sqrt(k*k+l*l),o=Math.abs(m),n>.05&&(i*=1,j*=1),this.U.k.x=a+b+f*f*i+h*h*j,this.U.n.x=-f*e*i-h*g*j,this.U.za.x=-f*i-h*j,this.U.k.y=this.U.n.x,this.U.n.y=a+b+e*e*i+g*g*j,this.U.za.y=e*i+g*j,this.U.k.z=this.U.za.x,this.U.n.z=this.U.za.y,this.U.za.z=i+j,p=new Oc(0,0,0),Qc(this.U,p,-k,-l,-m),c.j.B.x-=a*p.x,c.j.B.y-=a*p.y,c.j.K-=i*(e*p.y-f*p.x+p.z),d.j.B.x+=b*p.x,d.j.B.y+=b*p.y,d.j.K+=j*(g*p.y-h*p.x+p.z),W(c),W(d),.005>=n&&xc>=o},R(tg,$f),tg.prototype.Lc=function(a,b,c){this.P=a,this.R=b,this.rc.I(ge(this.P,c)),this.tc.I(ge(this.R,c)),this.Qi=this.R.Of()-this.P.Of()},tg.prototype.ng=function(){return new sg(this)},Ff=[new id,new id],Of=[new id,new id],Pf=[new id,new id],Gf=T(0,0),Hf=T(0,0),If=T(0,0),Lf=T(0,0),Jf=T(0,0),Kf=T(0,0),Mf=T(0,0),Nf=T(0,0),Ve=0,df=0,ef=0,bf=0,cf=0,We=new Pd,Xe=new vd,Ye=new Sc,Ze=new Sc,af=new Kd,$e=new wd,je=new Sc,ye=new we,new function(){this.position=T(0,0),this.Qy=T(0,0),this.Hd=T(0,0),this.id=new gd},new Sc,ff=new Rc,gf=new Rc,Ue=new Qd,Cf=new Rd,Ef=new Bf,function(){function a(){}function b(){}function c(){}var e,f,d=xg.prototype;d.tb=function(a){this.behavior=a,this.i=a.i},d.tb.prototype.ya=function(){},d.Xa=function(a,b){this.type=a,this.behavior=a.behavior,this.A=b,this.i=a.i,this.ne=this.behavior.ne},e=d.Xa.prototype,e.ya=function(){this.Is=0!==this.Y[0],this.Ev=this.Y[1],this.cu=0!==this.Y[2],this.qi=this.Y[3],this.ti=this.Y[4],this.Si=this.Y[5],this.Mk=this.Y[6],this.pk=this.Y[7],this.sk=0!==this.Y[8],this.enabled=0!==this.Y[9],this.body=null,this.A.sb(),this.Km=this.A.x,this.Lm=this.A.y,this.Ag=this.A.H,this.ct=this.et=0,this.Ux=this.xp=!1,this.Zs=null,this.$s=-1,this.De?(this.De.length=0,this.Df.length=0,this.xh.clear()):(this.De=[],this.Df=[],this.xh=new ba);var a=this;this.Id||(this.nn=function(b){a.rn(b)}),this.i.fo(this.nn)},e.Ox=function(){this.A.sb(),this.Jo(),this.Zs=this.A.Ob,this.$s=this.A.ea},e.Lh=function(){this.So(),this.Df.length=0,this.xh.clear(),this.body&&(Me(this.ne,this.body),this.body=null),this.i.Xx(this.nn)},e.Zc=function(){var b,a={e:this.enabled,im:this.Is,pr:this.cu,d:this.qi,fr:this.ti,re:this.Si,ld:this.Mk,ad:this.pk,b:this.sk,mcj:this.Df};return this.enabled&&(b=T(0,0),b.I(this.body.q),a.vx=b.x,a.vy=b.y,a.om=this.body.G),a},e.vd=function(a){this.So(),this.Df.length=0,this.xh.clear(),this.body&&(Me(this.ne,this.body),this.body=null),this.enabled=a.e,this.Is=a.im,this.cu=a.pr,this.qi=a.d,this.ti=a.fr,this.Si=a.re,this.Mk=a.ld,this.pk=a.ad,this.sk=a.b,this.Km=this.A.x,this.Lm=this.A.y,this.Ag=this.A.H,this.et=this.A.width,this.ct=this.A.height,this.enabled&&(this.Jo(),de(this.body,T(a.vx,a.vy)),this.body.co(a.om),0===a.vx&&0===a.vy&&0===a.om||ee(this.body,!0),this.Df=a.mcj)},e.sg=function(){this.enabled&&this.iu(),this.behavior.dt=this.i.df-1},e.rn=function(a){var b,c,d,e=a.uid;for(d=b=0,c=this.Df.length;c>b;b++)this.Df[d]=this.Df[b],d<this.De.length&&(this.De[d]=this.De[b]),this.Df[b].Bb[1]==e?Ne(this.ne,this.De[b]):d++;this.Df.length=d,d<this.De.length&&(this.De.length=d),this.xh.remove(a)},e.So=function(){var a,b;for(a=0,b=this.De.length;b>a;a++)Ne(this.ne,this.De[a]);this.De.length=0},e.iu=function(){var a,b,c;for(a=0,b=this.Df.length;b>a;a++)switch(c=this.Df[a],c.type){case 0:this.MA(c.Bb[0],c.Bb[1],c.Bb[2],c.Bb[3],c.Bb[4]);
break;case 1:this.OA(c.Bb[0],c.Bb[1]);break;case 2:this.NA(c.Bb[0],c.Bb[1],c.Bb[2],c.Bb[3])}},e.Kv=function(){this.body&&(this.So(),Me(this.ne,this.body),this.body=null,this.A.da.jf=null)},f=[],e.Jo=function(){if(this.enabled){var e,g,h,i,j,k,l,m,n,o,p,q,r,a=this.A,b=!1,c=null,d=null;if(this.body){for(b=!0,c=T(0,0),c.I(this.body.q),d=this.body.G,m=this.xh.Zg(),e=0,g=m.length;g>e;e++)n=m[e].da.jf.vg,n.So();this.Kv()}if(n=new Ee,n.qi=this.qi,n.ti=this.ti,n.Si=this.Si,e=new ke,e.type=this.Is?0:2,a.sb(),e.position.x=.02*a.Eb.Mi(),e.position.y=.02*a.Eb.Ni(),e.H=a.H,e.Sv=this.cu,e.Mk=this.Mk,e.pk=this.pk,e.sk=this.sk,m=this.A.Qa&&!this.A.Qa.Cj(),this.body=Ke(this.ne,e),this.body.vg=this,e=this.Ev,m||this.A.Wh||0!==this.Ev||(e=1),g=Math.max(Math.abs(a.width),1),h=Math.max(Math.abs(a.height),1),o=0>a.width,p=0>a.height,0===e)if(a.Wh)for(q=a.Eb.Mi()-a.x,l=a.Eb.Ni()-a.y,a.MF(f),m=[],e=0,g=f.length;g>e;++e){if(o=f[e],p=o.JD,o.Pg){if(!o.Pg.Go){for(j=o.Pg.yc,i=o.Pg.$e,h=0;i>h;++h)m.push(T(j[2*h],j[2*h+1]));for(h=3758096384&o.id,(-2147483648===h||1073741824===h||536870912===h||-2147483648&h&&1073741824&h&&536870912&h)&&m.reverse(),o.Pg.Go=vg(m,(p.right-p.left)*(p.bottom-p.top)),h=0,i=m.length;i>h;++h)Vc(m[h]);m.length=0}for(h=0,i=o.Pg.Go.length;i>h;++h){for(r=o.Pg.Go[h],j=0,k=r.length;k>j;++j)m.push(T(.02*(p.left+r[j].x-q),.02*(p.top+r[j].y-l)));for(n.shape=new cd,ed(n.shape,m),Xd(this.body,n),j=0,k=m.length;k>j;++j)Vc(m[j]);m.length=0}}else m.push(T(.02*(p.left-q),.02*(p.top-l))),m.push(T(.02*(p.right-q),.02*(p.top-l))),m.push(T(.02*(p.right-q),.02*(p.bottom-l))),m.push(T(.02*(p.left-q),.02*(p.bottom-l))),n.shape=new cd,ed(n.shape,m),Xd(this.body,n);for(h=0,i=m.length;i>h;++h)Vc(m[h]);m.length=0}else{for(e=a.H,a.H=0,a.Db(),a.sb(),q=a.Eb.Mi()-a.x,l=a.Eb.Ni()-a.y,a.H=e,a.Db(),a.Qa.ij(o?-g:g,p?-h:h,0),j=a.Qa.yc,i=a.Qa.$e,m=[],m.length=i,e=0;i>e;e++)m[e]=T(j[2*e]-q,j[2*e+1]-l);for(o!==p&&m.reverse(),q=vg(m,g*h),e=0;i>e;e++)Vc(m[e]);if(q.length)for(e=0,g=q.length;g>e;e++){for(m=q[e],h=0,i=m.length;i>h;h++)l=m[h],l.x*=.02,l.y*=.02;for(n.shape=new cd,ed(n.shape,m),Xd(this.body,n),h=0,i=m.length;i>h;h++)Vc(m[h])}else n.shape=new cd,fd(n.shape,.01*g,.01*h),Xd(this.body,n)}else 1===e?(n.shape=new cd,fd(n.shape,.01*g,.01*h)):n.shape=new $c(.01*Math.min(g,h)),Xd(this.body,n);if(a.da.jf=this.body,this.et=a.width,this.ct=a.height,b)for(de(this.body,c),this.body.co(d),Vc(c),this.iu(),m=this.xh.Zg(),e=0,g=m.length;g>e;e++)n=m[e].da.jf.vg,n.iu();f.length=0}},e.fc=function(){var b,a,c,d,e,f,g;if(this.enabled){if(a=this.A,0===this.behavior.fE?b=this.i.Yi/60:(b=this.i.tj(this.A),b>1/30&&(b=1/30)),this.i.df>this.behavior.dt&&0<this.i.Yi){for(this.ne.gi(b,this.behavior.Vn,this.behavior.zn),b=this.ne.ed.Pa(ne);b;b=b.next)b.body.Ch.ra(),b.body.Uj=0;this.behavior.dt=this.i.df}(this.Ux||a.width!==this.et||a.height!==this.ct||a.Ob!==this.Zs||a.ea!==this.$s||a.Wh&&a.Kx)&&(this.Jo(),this.Ux=!1,this.Zs=a.Ob,this.$s=a.ea,a.Wh&&a.Kx&&(a.Kx=!1)),b=a.H!==this.Ag,a.x!==this.Km||a.y!==this.Lm?(a.sb(),c=a.Eb.Mi(),d=a.Eb.Ni(),e=c-this.Km,f=d-this.Lm,g=this.body,c=T(.02*c,.02*d),ae(g,c,g.Of()),de(this.body,T(e,f)),this.xp=!0,ee(this.body,!0)):this.xp&&(this.xp=!1,de(this.body,T(0,0)),e=this.body,f=T(.02*a.Eb.Mi(),.02*a.Eb.Ni()),ae(e,f,e.Of())),b&&(this.body.hv(a.H),ee(this.body,!0)),e=this.body.F.position,b=e.x/.02,e=e.y/.02,f=this.body.Of(),(b!==a.x||e!==a.y||f!==a.H)&&(a.x=b,a.y=e,a.H=f,a.Db(),a.sb(),b=a.Eb.Mi()-a.x,e=a.Eb.Ni()-a.y,(0!==b||0!==e)&&(a.x-=b,a.y-=e,a.Db())),this.Km=a.x,this.Lm=a.y,this.Ag=a.H}},e.qm=function(a){return-1!==a&&this.A.sf?0===a&&this.body?(this.body.F.position.x+this.body.j.N.x)/.02:this.A.sf(a,!0):this.A.x},e.rm=function(a){return-1!==a&&this.A.sf?0===a&&this.body?(this.body.F.position.y+this.body.j.N.y)/.02:this.A.sf(a,!1):this.A.y},a.prototype.$y=function(a,b,c){if(!this.enabled)return!1;var d=this.body.q;return 0===a?d=d.x/.02:1===a?d=d.y/.02:(a=d.x/.02,d=d.y/.02,d=Oa(0,0,a,d)),Zb(d,b,c)},d.M=new a,b.prototype.bh=function(a,b,c){if(this.enabled){var d=this.qm(c);c=this.rm(c),this.body.bh(T(a,b),T(.02*d,.02*c))}},b.prototype.er=function(a,b,c){if(this.enabled){var d=this.qm(c);c=this.rm(c),this.body.er(T(a,b),T(.02*d,.02*c)),this.xp=!1,this.Km=this.A.x,this.Lm=this.A.y}},b.prototype.hr=function(a){this.enabled&&this.body.hr(w(a))},b.prototype.co=function(a){this.enabled&&(this.body.co(w(a)),ee(this.body,!0))},e.MA=function(a,b,c,d,e){var f,g,h,i,j;this.enabled&&(b=this.i.xi(b))&&b!=this.A&&b.da.jf&&(b.da.jf.vg.xh.add(this.A),f=this.qm(a),a=this.rm(a),b.sf?(g=b.sf(c,!0),c=b.sf(c,!1)):(g=b.x,c=b.y),h=f-g,i=a-c,j=new bg,j.Lc(this.body,b.da.jf,T(.02*f,.02*a),T(.02*g,.02*c)),j.length=.02*Math.sqrt(h*h+i*i),j.Yr=d,j.ns=e,this.De.push(Oe(this.ne,j)))},e.OA=function(a,b){var c,d,e,f;this.enabled&&(c=this.i.xi(b),c&&c!=this.A&&c.da.jf&&(c.da.jf.vg.xh.add(this.A),d=this.qm(a),e=this.rm(a),f=new rg,f.Lc(this.body,c.da.jf,T(.02*d,.02*e)),this.De.push(Oe(this.ne,f))))},e.NA=function(a,b,c,d){var e,f;this.enabled&&(b=this.i.xi(b))&&b!=this.A&&b.da.jf&&(b.da.jf.vg.xh.add(this.A),e=this.qm(a),a=this.rm(a),f=new rg,f.Lc(this.body,b.da.jf,T(.02*e,.02*a)),f.wk=!0,f.Hw=w(c),f.Ly=w(d),this.De.push(Oe(this.ne,f)))},b.prototype.iv=function(a){this.enabled&&0===a?(this.Kv(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.Jo())},d.ta=new b,c.prototype.bA=function(a){a.ca(this.enabled?this.body.q.x/.02:0)},c.prototype.cA=function(a){a.ca(this.enabled?this.body.q.y/.02:0)},d.Za=new c}(),function(){function a(){}var c,b=yg.prototype;b.tb=function(a){this.behavior=a,this.i=a.i},b.tb.prototype.ya=function(){},b.Xa=function(a,b){this.type=a,this.behavior=a.behavior,this.A=b,this.i=a.i},c=b.Xa.prototype,c.ya=function(){this.od=null,this.gq=-1,this.mode=this.Ag=this.Nq=this.bl=this.Mh=this.yn=0;var a=this;this.Id||(this.nn=function(b){a.rn(b)}),this.i.fo(this.nn)},c.Zc=function(){return{uid:this.od?this.od.uid:-1,pa:this.yn,pd:this.Mh,msa:this.bl,tsa:this.Nq,lka:this.Ag,m:this.mode}},c.vd=function(a){this.gq=a.uid,this.yn=a.pa,this.Mh=a.pd,this.bl=a.msa,this.Nq=a.tsa,this.Ag=a.lka,this.mode=a.m},c.sg=function(){this.od=-1===this.gq?null:this.i.xi(this.gq),this.gq=-1},c.rn=function(a){this.od==a&&(this.od=null)},c.Lh=function(){this.od=null,this.i.Xx(this.nn)},c.fc=function(){},c.Qn=function(){var a,b,c;this.od&&(this.Ag!==this.A.H&&(this.bl=Ga(this.bl+(this.A.H-this.Ag))),a=this.A.x,b=this.A.y,3===this.mode||4===this.mode?(c=Oa(this.A.x,this.A.y,this.od.x,this.od.y),(c>this.Mh||4===this.mode&&c<this.Mh)&&(b=Ja(this.od.x,this.od.y,this.A.x,this.A.y),a=this.od.x+Math.cos(b)*this.Mh,b=this.od.y+Math.sin(b)*this.Mh)):(a=this.od.x+Math.cos(this.od.H+this.yn)*this.Mh,b=this.od.y+Math.sin(this.od.H+this.yn)*this.Mh),this.Ag=c=Ga(this.bl+(this.od.H-this.Nq)),0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.A.x===a&&this.A.y===b||(this.A.x=a,this.A.y=b,this.A.Db()),0!==this.mode&&2!==this.mode||this.A.H===c||(this.A.H=c,this.A.Db()))},b.M=new function(){},a.prototype.Oz=function(a,b){if(a){var c=a.Yv(this.A);c&&(this.od=c,this.yn=Ja(c.x,c.y,this.A.x,this.A.y)-c.H,this.Mh=Oa(c.x,c.y,this.A.x,this.A.y),this.Ag=this.bl=this.A.H,this.Nq=c.H,this.mode=b)}},b.ta=new a,b.Za=new function(){}}(),function(){function a(){}var c,b=zg.prototype;b.tb=function(a){this.behavior=a,this.i=a.i},b.tb.prototype.ya=function(){},b.Xa=function(a,b){this.type=a,this.behavior=a.behavior,this.A=b,this.i=a.i},c=b.Xa.prototype,c.ya=function(){this.Xd={}},c.Lh=function(){Ra(this.Xd)},c.Zc=function(){var b,c,a={};for(b in this.Xd)this.Xd.hasOwnProperty(b)&&(c=this.Xd[b],a[b]={c:c.current.xa,t:c.total.xa,d:c.duration,r:c.Wx});return a},c.vd=function(a){this.Xd={};for(var b in a)a.hasOwnProperty(b)&&(this.Xd[b]={current:new Za,total:new Za,duration:a[b].d,Wx:a[b].r},this.Xd[b].current.xa=a[b].c,this.Xd[b].total.xa=a[b].t)},c.fc=function(){var b,c,a=this.i.tj(this.A);for(b in this.Xd)this.Xd.hasOwnProperty(b)&&(c=this.Xd[b],c.current.add(a),c.total.add(a))},c.Qn=function(){var a,b;for(a in this.Xd)this.Xd.hasOwnProperty(a)&&(b=this.Xd[a],b.current.xa>=b.duration&&(b.Wx?b.current.xa-=b.duration:delete this.Xd[a]))},b.M=new function(){},b.ta=new function(){},a.prototype.Vu=function(a,b){var c=this.Xd[b.toLowerCase()];a.ca(c?c.duration:0)},b.Za=new a}(),Ag=[],Cg=[],Dg=[],Eg=[],Fg=[],Gg=[],Hg=[],Ig=[],Jg=[];for(Mg=0,Ng=0,Og=0,X=0,Y=0,Pg=0;1e4>=Pg;Pg++)X=Pg/1e4,(X/=1)<1/2.75||(X-=2/2.75>X?1.5/2.75:2.5/2.75>X?2.25/2.75:2.625/2.75),Rg=Pg/1e4,Qg=(Rg/=1)<1/2.75?7.5625*Rg*Rg+0:2/2.75>Rg?1*(7.5625*(Rg-=1.5/2.75)*Rg+.75)+0:2.5/2.75>Rg?1*(7.5625*(Rg-=2.25/2.75)*Rg+.9375)+0:1*(7.5625*(Rg-=2.625/2.75)*Rg+.984375)+0,Ag[Pg]=Qg,X=Pg/1e4,Og=Ng=0,X/=1,0==Og&&(Og=.3),0==Ng||Ng<Math.abs(1)?(Ng=1,Y=Og/4):Y=Og/(2*Math.PI)*Math.asin(1/Ng),Mg=-(Ng*Math.pow(2,10*--X)*Math.sin(2*(1*X-Y)*Math.PI/Og))+0,Cg[Pg]=Mg,X=Pg/1e4,Og=Ng=0,X/=1,0==Og&&(Og=.3),0==Ng||Ng<Math.abs(1)?(Ng=1,Y=Og/4):Y=Og/(2*Math.PI)*Math.asin(1/Ng),Mg=Ng*Math.pow(2,-10*X)*Math.sin(2*(1*X-Y)*Math.PI/Og)+1,Dg[Pg]=Mg,X=Pg/1e4,Og=Ng=0,X/=.5,0==Og&&(Og=.3*1.5),0==Ng||Ng<Math.abs(1)?(Ng=1,Y=Og/4):Y=Og/(2*Math.PI)*Math.asin(1/Ng),Mg=1>X?-.5*Ng*Math.pow(2,10*--X)*Math.sin(2*(1*X-Y)*Math.PI/Og)+0:.5*Ng*Math.pow(2,-10*--X)*Math.sin(2*(1*X-Y)*Math.PI/Og)+1,Eg[Pg]=Mg,X=Pg/1e4,Fg[Pg]=-(Math.sqrt(1-X*X)-1),X=Pg/1e4,Gg[Pg]=Math.sqrt(1-(X-1)*(X-1)),X=Pg/1e4,Mg=1>(X/=.5)?-.5*(Math.sqrt(1-X*X)-1)+0:.5*(Math.sqrt(1-(X-=2)*X)+1)+0,Hg[Pg]=Mg,X=Pg/1e4,Y=0,0==Y&&(Y=1.70158),Mg=1*((X=X/1-1)*X*((Y+1)*X+Y)+1)+0,Ig[Pg]=Mg,X=Pg/1e4,Y=0,0==Y&&(Y=1.70158),Mg=1>(X/=.5)?.5*X*X*(((Y*=1.525)+1)*X-Y)+0:.5*((X-=2)*X*(((Y*=1.525)+1)*X+Y)+2)+0,Jg[Pg]=Mg;Sg.prototype={},Sg.prototype.kl=function(a){this.mb=parseFloat(a.split(",")[0]),this.Uc=parseFloat(a.split(",")[1]),this.ud=this.cc=0},Sg.prototype.Bq=function(a){this.jb=parseFloat(a.split(",")[0]),this.zc=parseFloat(a.split(",")[1]),isNaN(this.zc)&&(this.zc=this.jb)},Sg.prototype.nr=function(a){return 0===this.state?-1:(1===this.state&&(this.pb+=a),2===this.state&&(this.pb-=a),3===this.state&&(this.state=0),(4===this.state||6===this.state)&&(this.pb+=a*this.Nh),5===this.state&&(this.pb+=a*this.Nh),0>this.pb?(this.pb=0,4===this.state?this.Nh=1:6===this.state?(this.Nh=1,this.pm=!1):this.state=0,this.Zp=!0,0):this.pb>this.duration?(this.pb=this.duration,4===this.state?this.Nh=-1:6===this.state?(this.Nh=-1,this.pm=!0):5===this.state?this.pb=0:this.state=0,this.Wp=!0,1):this.pm?Lg(this.Vo,this.duration-this.pb,this.duration,this.pm):Lg(this.Vo,this.pb,this.duration,this.pm))},function(){var b,a=Tg.prototype;a.tb=function(a){this.behavior=a,this.i=a.i},a.tb.prototype.ya=function(){},a.Xa=function(a,b){this.type=a,this.behavior=a.behavior,this.A=b,this.i=a.i},b=a.Xa.prototype,b.ya=function(){this.iq=this.Y[0],this.Zb=1==this.iq||2==this.iq||3==this.iq||4==this.iq,this.Ac=this.Y[1],this.dB=this.Y[2],this.target=this.Y[3],this.ty=this.Y[4],this.My=!1,1===this.ty&&(this.target="relative("+this.target+")"),this.duration=this.Y[5],this.ve=1===this.Y[6],this.value=0,this.qa={},this.sv(this.Ac,this.dB,"current",this.target,this.duration,this.ve),1===this.Y[0]&&this.Kn(0),2===this.Y[0]&&this.Kn(2),3===this.Y[0]&&this.Kn(3),4===this.Y[0]&&this.Kn(4)},b.Ng=function(a,b){var c,d,e,f,g;if(void 0===b&&(b="current"),c=b.replace(/^\s\s*/,"").replace(/\s\s*$/,""),b=b.replace(/^\s\s*/,"").replace(/\s\s*$/,""),d=this.value,"current"===b)switch(a){case 0:c=this.A.x+","+this.A.y;break;case 1:c=this.A.width+","+this.A.height;break;case 2:c=this.A.width+","+this.A.height;break;case 3:c=this.A.width+","+this.A.height;break;case 4:c=Ea(this.A.H)+","+Ea(this.A.H);break;case 5:c=100*this.A.opacity+","+100*this.A.opacity;break;case 6:c=d+","+d;break;case 7:c=this.A.x+","+this.A.y;break;case 8:c=this.A.x+","+this.A.y;break;case 9:c=void 0!==this.A.Cd?this.A.width/this.A.Cd.width+","+this.A.height/this.A.Cd.height:"1,1"}if("relative"===b.substring(0,8))switch(e=b.match(/\((.*?)\)/),e&&(f=parseFloat(e[1].split(",")[0]),g=parseFloat(e[1].split(",")[1])),isNaN(f)&&(f=0),isNaN(g)&&(g=0),a){case 0:c=this.A.x+f+","+(this.A.y+g);break;case 1:c=this.A.width+f+","+(this.A.height+g);break;case 2:c=this.A.width+f+","+(this.A.height+g);break;case 3:c=this.A.width+f+","+(this.A.height+g);break;case 4:c=Ea(this.A.H)+f+","+(Ea(this.A.H)+g);break;case 5:c=100*this.A.opacity+f+","+(100*this.A.opacity+g);break;case 6:c=d+f+","+d+f;break;case 7:c=this.A.x+f+","+this.A.y;break;case 8:c=this.A.x+","+(this.A.y+f);break;case 9:c=f+","+g}return c},b.sv=function(a,b,c,d,e,f){c=this.Ng(a,c),d=this.Ng(a,d),void 0!==this.qa["default"]&&delete this.qa["default"],this.qa["default"]=new Sg("default",a,b,c,d,e,f),this.qa["default"].Fa=0},b.Zc=function(){},b.vd=function(){},b.bE=function(a){var b,c,d;a>1&&(a=1),0>a&&(a=0);for(b in this.qa)c=this.qa[b],c.cc=0,c.ud=0,c.state=3,c.pb=a*c.duration,d=c.nr(0),this.Iu(c,d)},b.Kn=function(a){var b,c,d,e;for(b in this.qa)c=this.qa[b],this.My&&(d=this.Ng(c.Ac,"current"),e=this.Ng(c.Ac,this.target),c.kl(d),c.Bq(e)),0===a&&(c.pb=1e-6,c.cc=0,c.ud=0,c.el=!0,c.state=1),1===a&&(c.state=1),(2===a||4===a)&&(c.pb=1e-6,c.cc=0,c.ud=0,c.el=!0,2==a&&(c.state=4),4==a&&(c.state=6)),3===a&&(c.pb=1e-6,c.cc=0,c.ud=0,c.el=!0,c.state=5)},b.hE=function(a){var b,c,d;for(b in this.qa)c=this.qa[b],1===a&&(c.pb=0),2===a&&(c.pb=c.duration),c.state=3,d=c.nr(0),this.Iu(c,d)},b.QD=function(a){var b,c;for(b in this.qa)c=this.qa[b],1===a&&(c.pb=c.duration,c.cc=0,c.ud=0,c.$p=!0),c.state=2},b.Iu=function(a,b){var c,d;0===a.Ac?a.ve?(this.A.x=a.mb+(a.jb-a.mb)*b,this.A.y=a.Uc+(a.zc-a.Uc)*b):(this.A.x+=(a.jb-a.mb)*b-a.cc,this.A.y+=(a.zc-a.Uc)*b-a.ud,a.cc=(a.jb-a.mb)*b,a.ud=(a.zc-a.Uc)*b):1===a.Ac?a.ve?(this.A.width=a.mb+(a.jb-a.mb)*b,this.A.height=a.Uc+(a.zc-a.Uc)*b):(this.A.width+=(a.jb-a.mb)*b-a.cc,this.A.height+=(a.zc-a.Uc)*b-a.ud,a.cc=(a.jb-a.mb)*b,a.ud=(a.zc-a.Uc)*b):2===a.Ac?a.ve?this.A.width=a.mb+(a.jb-a.mb)*b:(this.A.width+=(a.jb-a.mb)*b-a.cc,a.cc=(a.jb-a.mb)*b):3===a.Ac?a.ve?this.A.height=a.Uc+(a.zc-a.Uc)*b:(this.A.height+=(a.zc-a.Uc)*b-a.ud,a.ud=(a.zc-a.Uc)*b):4===a.Ac?a.ve?(c=a.mb+(a.jb-a.mb)*b,this.A.H=Ga(w(c))):(c=(a.jb-a.mb)*b-a.cc,this.A.H=Ga(this.A.H+w(c)),a.cc=(a.jb-a.mb)*b):5===a.Ac?a.ve?this.A.opacity=(a.mb+(a.jb-a.mb)*b)/100:(this.A.opacity+=((a.jb-a.mb)*b-a.cc)/100,a.cc=(a.jb-a.mb)*b):6===a.Ac?a.ve?this.value=a.mb+(a.jb-a.mb)*b:(this.value+=(a.jb-a.mb)*b-a.cc,a.cc=(a.jb-a.mb)*b):7===a.Ac?a.ve?this.A.x=a.mb+(a.jb-a.mb)*b:(this.A.x+=(a.jb-a.mb)*b-a.cc,a.cc=(a.jb-a.mb)*b):8===a.Ac?a.ve?this.A.y=a.Uc+(a.zc-a.Uc)*b:(this.A.y+=(a.zc-a.Uc)*b-a.ud,a.ud=(a.zc-a.Uc)*b):9===a.Ac&&(c=a.mb+(a.jb-a.mb)*b,d=a.Uc+(a.zc-a.Uc)*b,0>this.A.width&&(c=a.mb+(a.jb+a.mb)*-b),0>this.A.height&&(d=a.Uc+(a.zc+a.Uc)*-b),a.ve?(this.A.width=this.A.Cd.width*c,this.A.height=this.A.Cd.height*d):(0>this.A.width?(this.A.width=this.A.width/(-1+a.cc)*c,a.cc=c+1):(this.A.width=this.A.width/(1+a.cc)*c,a.cc=c-1),0>this.A.height?(this.A.height=this.A.height/(-1+a.ud)*d,a.ud=d+1):(this.A.height=this.A.height/(1+a.ud)*d,a.ud=d-1))),this.A.Db()},b.fc=function(){var a=this.i.tj(this.A),b=this.qa["default"];0!==b.state&&(b.el&&(this.i.trigger(Tg.prototype.M.Jz,this.A),b.el=!1),b.$p&&(this.i.trigger(Tg.prototype.M.Iz,this.A),b.$p=!1),this.Zb=1==b.state||2==b.state||4==b.state||5==b.state||6==b.state,a=b.nr(a),this.Iu(b,a),b.Wp&&(this.i.trigger(Tg.prototype.M.Zu,this.A),b.Wp=!1),b.Zp&&(this.i.trigger(Tg.prototype.M.Hz,this.A),b.Zp=!1))},a.M={},b=a.M,b.fi=function(){return 0!==this.qa["default"].state},b.HE=function(a,b){var c=this.qa["default"];return Zb(c.pb/c.duration,a,b)},b.Jz=function(){return void 0===this.qa["default"]?!1:this.qa["default"].el},b.Iz=function(){return void 0===this.qa["default"]?!1:this.qa["default"].$p},b.Zu=function(){return void 0===this.qa["default"]?!1:this.qa["default"].Wp},b.Hz=function(){return void 0===this.qa["default"]?!1:this.qa["default"].Zp},a.ta={},b=a.ta,b.Xz=function(a,b){this.My=1==b,this.Kn(a)},b.Zz=function(a){this.hE(a)},b.Pz=function(a){this.QD(a)},b.fF=function(a){this.bE(a)},b.nF=function(a){isNaN(a)||0>a||void 0===this.qa["default"]||(this.qa["default"].duration=a)},b.rF=function(a){void 0!==this.qa["default"]&&(this.qa["default"].ve=1===a)},b.tF=function(a){void 0!==this.qa["default"]&&(a=this.Ng(this.qa["default"].Ac,a),this.qa["default"].kl(a))},b.zF=function(a,b,c){var d,e,f,g;if(void 0!==this.qa["default"]&&!isNaN(c)){if(d=this.qa["default"],e=c+"",this.ty=b,f="",g="",1===b){switch(this.target="relative("+e+")",a){case 0:f=this.A.x+c,g=d.zc;break;case 1:f=d.jb,g=this.A.y+c;break;case 2:g=f=""+Ea(this.A.H+w(c));break;case 3:g=f=""+100*this.A.opacity+c;break;case 4:f=this.A.width+c,g=d.zc;break;case 5:f=d.jb,g=this.A.height+c;break;case 6:g=f=c}e=f+","+g}else{switch(a){case 0:f=c,g=d.zc;break;case 1:f=d.jb,g=c;break;case 2:g=f=c;break;case 3:g=f=c;break;case 4:f=c,g=d.zc;break;case 5:f=d.jb,g=c;break;case 6:g=f=c}this.target=e=f+","+g}a=this.Ng(this.qa["default"].Ac,"current"),e=this.Ng(this.qa["default"].Ac,e),d.kl(a),d.Bq(e)}},b.BF=function(a){void 0!==this.qa["default"]&&(this.qa["default"].Ac=a)},b.oF=function(a){void 0!==this.qa["default"]&&(this.qa["default"].Vo=a)},b.CF=function(a){var b=this.qa["default"];this.value=a,6===b.Ac&&b.kl(this.Ng(b.Ac,"current"))},b.wF=function(a,b,c,d,e){if(void 0===this.qa["default"])this.sv(a,b,initial,c,d,e);else{var f=this.qa["default"];f.Ac=a,f.Vo=b,f.kl(this.Ng(a,"current")),f.Bq(this.Ng(a,c)),f.duration=d,f.ve=1===e}},a.Za={},a=a.Za,a.eF=function(a){a.ca(this.qa["default"].pb/this.qa["default"].duration)},a.Vu=function(a){a.ca(this.qa["default"].duration)},a.GF=function(a){var b=this.qa["default"],c="N/A";switch(b.Ac){case 0:c=b.jb;break;case 1:c=b.zc;break;case 2:c=b.jb;break;case 3:c=b.jb;break;case 4:c=b.jb;break;case 5:c=b.zc;break;case 6:c=b.jb}a.ca(c)},a.JF=function(a){a.ca(this.value)}}();