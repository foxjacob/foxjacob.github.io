function App(){if(App._interfac)throw"Error";window.onblur=this.onBlur,window.onresize=resizeCanvas}function initGame(){var b,c,a=document.getElementById("canvas");context=a.getContext("2d"),b=App.getInterface(),b.setCanvas(a),c=new LoaderManager,c.addLib({name:"loaderLib",src:"src/loader.js",lib:"loaderImages"}),c.addEventListener("complete",function(){document.getElementById("loadicon").style.display="none",loadGame()}),c.addEventListener("progress",function(){}),resizeCanvas(),c.start()}function loadGame(){var c,d,g,a=new LoaderManager;a.addLib({name:"gameLib",src:"src/game.js",lib:"gameImages"}),c=App.getInterface(),d=new createjs.Container,window.innerWidth,window.innerHeight,d.loader=new loaderLib.loader,d.loader.gotoAndStop(1),d.char=new loaderLib.loader,d.char.gotoAndStop(0),d.x=245,d.y=380,d.backgroundB=new createjs.Shape,d.backgroundB.graphics.beginFill("#292929").drawRect(-60,112,268,25),d.backgroundA=new createjs.Shape,d.scaleP=0,d.count=0,g=function(){App.GameManager=new ComponentManager;var a=new InfoView;c.root.removeAllChildren(),c.root.addChild(a),App.GameManager.add(a),resizeCanvas()},d.addEventListener("tick",function(){d.count+=2,d.count>d.scaleP&&(d.count=d.scaleP),100==d.count&&g(),d.backgroundB.graphics.clear().beginFill("#ff0000").drawRect(-60,112,268*(d.count/100),25)}),d.setScale=function(a){d.scaleP=Math.floor(100*a)},d.addChild(d.backgroundA),d.addChild(d.backgroundB),d.addChild(d.loader),d.addChild(d.char),d.loader.y=180,d.loader.x=80,d.setScale(.1),c.root.addChild(d),a.addEventListener("complete",function(){}),a.addEventListener("progress",function(a){console.log(a.currentTarget.progress),d.setScale(a.currentTarget.progress)}),resizeCanvas(),a.start()}function getProxy(a,b){var c=function(c){b.apply(a,[c])};return c}function resizeCanvas(){var e,a=0,b=document.getElementById("canvas"),c=window.innerWidth,d=window.innerHeight;a=App.getInterface().root.scaleX=App.getInterface().root.scaleY=pro>c/d?c/App.WIDTH:d/App.HEIGHT,b.width=c,b.height=d,e=d/(App.HEIGHT*a),App.StageWidth=e*App.WIDTH,App.StageHeight=e*App.HEIGHT,App.StageX=App.getInterface().root.x=(c-App.WIDTH*a)/2,App.GameManager&&App.GameManager.resize(App.StageWidth,App.StageHeight)}App._interfac=null,App.WIDTH=640,App.HEIGHT=960,App.FRAME=30,App.TITLE="左or右-无尽的赏金之路",App.DESC="点击屏幕中刺客角色出现的方位，即可击杀BOSS。",App.StageWidth=0,App.StageHeight=0,App.GameManager=null,App.StageX=0,App.StageY=0,App.Score=0;var pro=App.WIDTH/App.HEIGHT;App.getInterface=function(){return null==App._interfac?App._interfac=new App:App._interfac},App.prototype.setCanvas=function(a){var c,b=new createjs.Container;b.nominalBounds=new createjs.Rectangle(0,0,App.width,App.height),c=new createjs.Stage(a),c.addChild(b),c.update(),createjs.Ticker.setFPS(App.FRAME),createjs.Ticker.addEventListener("tick",c),createjs.Touch.enable(c),this.__defineGetter__("scene",function(){return c}),this.__defineGetter__("root",function(){return b}),this.__defineGetter__("canvas",function(){return a}),resizeCanvas()};/*  |xGv00|f302c6ebe395d5e0d1b027f2c9c1fb0c */